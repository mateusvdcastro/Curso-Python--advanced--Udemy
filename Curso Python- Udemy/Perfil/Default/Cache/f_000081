{"version":3,"file":"behaviors.js","sources":["app/assets/modules/github/behaviors/dynamic-elements.ts","app/assets/modules/github/git-clone-help-element.ts","app/assets/modules/github/notification-indicator-element.ts","app/assets/modules/github/notification-focus-mode-element.ts","app/assets/modules/github/notification-focus-list-element.ts","app/assets/modules/github/notification-focus-list-item-element.ts","app/assets/modules/github/notification-focus-filters-element.ts","app/assets/modules/github/notifications/notifications-list-subscription-form-element.ts","app/assets/modules/github/notifications/notifications-team-subscription-form-element.ts","app/assets/modules/github/password-strength-element.ts","app/assets/modules/github/poll-include-fragment-element.ts","app/assets/modules/github/precise-time-ago-element.ts","app/assets/modules/github/slash-command-expander-element/keyword.ts","app/assets/modules/github/slash-command-expander-element/text-field-mirror.ts","app/assets/modules/github/slash-command-expander-element/text-field-selection-position.ts","app/assets/modules/github/slash-command-expander-element/slash-command-expander-element.ts","app/assets/modules/github/slash-command-expander-element/index.ts","app/assets/modules/github/behaviors/ajax-loading.ts","app/assets/modules/github/behaviors/ajax-pagination.ts","app/assets/modules/github/behaviors/autocheck.ts","app/assets/modules/github/behaviors/autocomplete.ts","app/assets/modules/github/behaviors/autosearch-form.ts","app/assets/modules/github/behaviors/autosubmit.ts","app/assets/modules/github/behaviors/autoselect.ts","app/assets/modules/github/behaviors/avatar-reset-text.ts","app/assets/modules/github/behaviors/billing-addons.ts","app/assets/modules/github/behaviors/blob-csv.ts","app/assets/modules/github/behaviors/blob-lines.ts","app/assets/modules/github/behaviors/bulk-actions.ts","app/assets/modules/github/behaviors/button-outline.ts","app/assets/modules/github/behaviors/bundle-download-stats.ts","app/assets/modules/github/behaviors/buttons.ts","app/assets/modules/github/behaviors/check-all.ts","app/assets/modules/github/behaviors/clear-data-on-logout.ts","app/assets/modules/github/behaviors/clipboard-copy.ts","app/assets/modules/github/behaviors/code-nav.ts","app/assets/modules/github/behaviors/collector-api.ts","app/assets/modules/github/behaviors/color-modes.ts","app/assets/modules/github/behaviors/commenting/ajax.ts","app/assets/modules/github/behaviors/commenting/focus.ts","app/assets/modules/github/behaviors/commenting/close.ts","app/assets/modules/github/png-scanner.ts","app/assets/modules/github/behaviors/commenting/markdown.ts","app/assets/modules/github/behaviors/commenting/preview.ts","app/assets/modules/github/image-dimensions.ts","app/assets/modules/github/behaviors/commenting/reaction-suggestion.ts","app/assets/modules/github/behaviors/commits.ts","app/assets/modules/github/behaviors/confirm.ts","app/assets/modules/github/behaviors/company-name-input.ts","app/assets/modules/github/behaviors/company-owned.ts","app/assets/modules/github/behaviors/content-attachment.ts","app/assets/modules/github/behaviors/details-element.ts","app/assets/modules/github/behaviors/details-menu.ts","app/assets/modules/github/behaviors/disable-with.ts","app/assets/modules/github/behaviors/document-dropzone.ts","app/assets/modules/github/behaviors/favicon.ts","app/assets/modules/github/behaviors/encrypt.ts","app/assets/modules/github/behaviors/feature-preview-indicator.ts","app/assets/modules/github/behaviors/feature-preview-trigger.ts","app/assets/modules/github/upload/attachment-upload.ts","app/assets/modules/github/upload/batch-upload.ts","app/assets/modules/github/upload/batch.ts","app/assets/modules/github/behaviors/file-attachment.ts","app/assets/modules/github/filter-list.ts","app/assets/modules/github/behaviors/filter-input.ts","app/assets/modules/github/filter-sort-list.ts","app/assets/modules/github/substring-memory-filter-list.ts","app/assets/modules/github/behaviors/filterable.ts","app/assets/modules/github/behaviors/firefox-label-hacks.ts","app/assets/modules/github/behaviors/fixed-offset-fragment-navigation-observer.ts","app/assets/modules/github/behaviors/flash.ts","app/assets/modules/github/flash.ts","app/assets/modules/github/behaviors/flash-observer.ts","app/assets/modules/github/behaviors/focus-delay.ts","app/assets/modules/github/behaviors/fuzzy-list.ts","app/assets/modules/github/behaviors/form-toggle.ts","app/assets/modules/github/behaviors/gfm.ts","app/assets/modules/github/behaviors/header.ts","app/assets/modules/github/behaviors/hooks.ts","app/assets/modules/github/behaviors/hotkey-map.ts","app/assets/modules/github/behaviors/hovercards.ts","app/assets/modules/github/behaviors/include-fragment.ts","app/assets/modules/github/behaviors/jump-to-loader.ts","app/assets/modules/github/behaviors/hydro-click-tracking.ts","app/assets/modules/github/behaviors/immediate-updates.ts","app/assets/modules/github/behaviors/indeterminate.ts","app/assets/modules/github/behaviors/keyboard-shortcuts.ts","app/assets/modules/github/behaviors/length-limited-input-with-warning.ts","app/assets/modules/github/behaviors/link-prefetch-viewed.ts","app/assets/modules/github/behaviors/member-search-filter.ts","app/assets/modules/github/behaviors/new-icons.ts","app/assets/modules/github/behaviors/new-organization-name.ts","app/assets/modules/github/behaviors/notice.ts","app/assets/modules/github/behaviors/octolytics-pageview.ts","app/assets/modules/github/behaviors/permalink.ts","app/assets/modules/github/behaviors/permission-menu-form.ts","app/assets/modules/github/behaviors/pjax-loader.ts","app/assets/modules/github/behaviors/pjax-timing.ts","app/assets/modules/github/behaviors/pjax/beforeunload.ts","app/assets/modules/github/behaviors/pjax/capture-keypresses.ts","app/assets/modules/github/inspect.ts","app/assets/modules/github/behaviors/pjax/link-prefetch.ts","app/assets/modules/github/behaviors/pjax/utils.ts","app/assets/modules/github/behaviors/pjax/navigation.ts","app/assets/modules/github/capture-keypresses.ts","app/assets/modules/github/behaviors/pjax/exceptions.ts","app/assets/modules/github/behaviors/pjax/history-navigate.ts","app/assets/modules/github/behaviors/pjax/submit.ts","app/assets/modules/github/behaviors/print-popup.ts","app/assets/modules/github/behaviors/poll-include-fragment.ts","app/assets/modules/github/failbot.ts","app/assets/modules/github/behaviors/proxy-site-reporting.ts","app/assets/modules/github/capable-browser.ts","app/assets/modules/github/behaviors/quote-selection.ts","app/assets/modules/github/behaviors/quick-submit.ts","app/assets/modules/github/behaviors/reactions.ts","app/assets/modules/github/behaviors/remote-form.ts","app/assets/modules/github/behaviors/remote-pagination-element.ts","app/assets/modules/github/behaviors/removed-contents.ts","app/assets/modules/github/behaviors/render-editor.ts","app/assets/modules/github/behaviors/report-long-tasks.ts","app/assets/modules/github/behaviors/replace-remote-form.ts","app/assets/modules/github/behaviors/responsive-markdown-toolbar.ts","app/assets/modules/github/behaviors/responsive-underlinenav.ts","app/assets/modules/github/session-resume-helpers.ts","app/assets/modules/github/behaviors/saved-replies.ts","app/assets/modules/github/behaviors/scanning.ts","app/assets/modules/github/behaviors/segmented-nav.ts","app/assets/modules/github/behaviors/session-resume.ts","app/assets/modules/github/behaviors/side-navigation.ts","app/assets/modules/github/notifications/v2/notification-shelf-referrer-params.ts","app/assets/modules/github/notifications/v2/notification-shelf-helpers.ts","app/assets/modules/github/behaviors/site-search.ts","app/assets/modules/github/behaviors/site-notifications.ts","app/assets/modules/github/behaviors/size-to-fit.ts","app/assets/modules/github/behaviors/smooth-scroll-anchor.ts","app/assets/modules/github/behaviors/social.ts","app/assets/modules/github/subscription-set.ts","app/assets/modules/github/alive-session.ts","app/assets/modules/github/behaviors/socket-channel.ts","app/assets/modules/github/behaviors/socket-channel-cache.ts","app/assets/modules/github/behaviors/stale-session.ts","app/assets/modules/github/behaviors/sso-auto-replay.ts","app/assets/modules/github/behaviors/statuses.ts","app/assets/modules/github/behaviors/sudo-required.ts","app/assets/modules/github/behaviors/suggesters/audit-log-suggester.ts","app/assets/modules/github/behaviors/suggesters/emoji-suggester.ts","app/assets/modules/github/behaviors/suggesters/issue-suggester.ts","app/assets/modules/github/behaviors/suggesters/mention-suggester.ts","app/assets/modules/github/behaviors/suggesters/slash-command-suggester.ts","app/assets/modules/github/behaviors/sparkles.ts","app/assets/modules/github/behaviors/survey.ts","app/assets/modules/github/behaviors/sync-details-text.ts","app/assets/modules/github/behaviors/tab-container.ts","app/assets/modules/github/behaviors/tag-input.ts","app/assets/modules/github/behaviors/team-members.ts","app/assets/modules/github/behaviors/targetable-elements.ts","app/assets/modules/github/behaviors/text-suggester-element.ts","app/assets/modules/github/behaviors/timeline/marker.ts","app/assets/modules/github/behaviors/timeline/progressive.ts","app/assets/modules/github/behaviors/timing-stats.ts","app/assets/modules/github/behaviors/timeline/timeline-accessibility.ts","app/assets/modules/github/behaviors/toggler.ts","app/assets/modules/github/behaviors/typing-effect-element.ts","app/assets/modules/github/behaviors/webauthn-get.ts","app/assets/modules/github/behaviors/tz-cookie.ts","app/assets/modules/github/behaviors/unread-comments.ts","app/assets/modules/github/behaviors/unread-item-counter.ts","app/assets/modules/github/behaviors/updatable-content-observer.ts","app/assets/modules/github/behaviors/updatable-content-stale-object.ts","app/assets/modules/github/behaviors/user-content.ts","app/assets/modules/github/behaviors/user-status-loader.ts","app/assets/modules/github/behaviors/upload-avatar.ts","app/assets/modules/github/behaviors/visible-password-element.ts","app/assets/modules/github/behaviors/warn-unsaved-changes.ts","app/assets/modules/github/behaviors/will-transition-once.ts","app/assets/modules/github/issues/issue-link.ts","app/assets/modules/github/behaviors/play-video.ts","node_modules/color-name/index.js","node_modules/color-convert/conversions.js","node_modules/color-convert/route.js","node_modules/color-convert/index.js","app/assets/modules/github/issues/labels.ts","app/assets/modules/github/notifications/configure-thread-subscription-dialog.ts","app/assets/modules/github/issues/sidebar.ts"],"sourcesContent":["const dynamicElements = new Map(\n  Object.entries({\n    // This list is a set of dynamic elements. Each gets their own entry point\n    // which will be imported as soon as the element appears on the page. Do NOT\n    // add elements which are imported elsewhere to this file.\n    //\n    // Do NOT use computed strings here! These must be static strings to let the\n    // compiler do what it needs to!\n\n    'profile-pins': () => import('../profile/profile-pins-element'),\n    'insights-graph': () => import('../insights/insights-graph'),\n    'emoji-picker': () => import('../emoji-picker-element')\n  })\n)\n\nfunction scan(node: Element) {\n  for (const element of dynamicElements.keys()) {\n    if (customElements.get(element)) {\n      dynamicElements.delete(element)\n    } else if (node.querySelector(element) || node.matches(element)) {\n      dynamicElements.get(element)!()\n      dynamicElements.delete(element)\n    }\n  }\n}\nfunction prepare() {\n  scan(document.body)\n  const elementLoader = new MutationObserver(mutations => {\n    if (!dynamicElements.size) return\n    for (const mutation of mutations) {\n      for (const node of mutation.addedNodes) {\n        if (node instanceof Element) scan(node)\n      }\n    }\n  })\n  elementLoader.observe(document, {subtree: true, childList: true})\n}\nif (document.readyState === 'interactive' || document.readyState === 'complete') {\n  prepare()\n} else {\n  document.addEventListener('DOMContentLoaded', prepare)\n}\n","import {controller, target, targets} from '@github/catalyst'\n\n@controller\nclass GitCloneHelpElement extends HTMLElement {\n  @target helpField: HTMLInputElement\n  @targets helpTexts: HTMLElement[]\n  @targets cloneURLButtons: HTMLElement[]\n\n  updateURL(event: Event) {\n    const switcher = event.currentTarget as HTMLElement\n\n    const url = switcher.getAttribute('data-url') || ''\n\n    this.helpField.value = url\n\n    if (switcher.matches('.js-git-protocol-clone-url')) {\n      for (const el of this.helpTexts) {\n        el.textContent = url\n      }\n    }\n\n    for (const button of this.cloneURLButtons) {\n      button.classList.remove('selected')\n    }\n    switcher.classList.add('selected')\n  }\n}\n","import {controller, target} from '@github/catalyst'\n\n@controller\nclass NotificationIndicatorElement extends HTMLElement {\n  @target link: Element\n  @target modifier: Element\n\n  constructor() {\n    super()\n    this.addEventListener('socket:message', this.update.bind(this))\n  }\n\n  update(event: Event) {\n    const data = (event as CustomEvent).detail.data\n    this.link.setAttribute('aria-label', data.aria_label)\n    this.link.setAttribute('data-ga-click', data.ga_click)\n    this.modifier.setAttribute('class', data.span_class)\n  }\n}\n","import {controller, target} from '@github/catalyst'\nimport {NotificationFocusFiltersElement} from './notification-focus-filters-element'\nimport {NotificationFocusListElement} from './notification-focus-list-element'\nimport {fetchSafeDocumentFragment} from './fetch'\n\n@controller\nclass NotificationFocusModeElement extends HTMLElement {\n  @target sidebar: HTMLElement\n  @target listElement: NotificationFocusListElement\n  @target filtersElement: NotificationFocusFiltersElement\n\n  toggleSidebar(event: Event) {\n    this.adjustSidebarPosition()\n    this.sidebar.classList.toggle('active')\n    event.preventDefault()\n  }\n\n  async onFocusFilterChange(e: Event) {\n    const detail = (e as CustomEvent).detail\n    if (detail.url) {\n      const html = await fetchSafeDocumentFragment(document, detail.url)\n      this.listElement.replaceContent(html)\n    }\n  }\n\n  private adjustSidebarPosition() {\n    const banner = document.querySelector('header[role=banner]') as HTMLElement\n    if (banner) {\n      const topMargin = banner.offsetTop + banner.offsetHeight\n      this.sidebar.style.top = `${topMargin}px`\n    }\n  }\n}\n","import {controller, target, targets} from '@github/catalyst'\nimport IncludeFragmentElement from '@github/include-fragment-element'\nimport {NotificationFocusListItemElement} from './notification-focus-list-item-element'\nimport {fetchSafeDocumentFragment} from './fetch'\n\n@controller\nexport class NotificationFocusListElement extends HTMLElement {\n  @target container: HTMLElement\n\n  @target includeFragment: IncludeFragmentElement\n  @target list: HTMLElement\n  @target blankSlate: HTMLElement\n\n  @targets listElements: NotificationFocusListItemElement[]\n\n  @target nextPageItem: HTMLElement\n  @target nextPageItemSpinner: HTMLElement\n\n  private currentObserver: IntersectionObserver | undefined\n\n  connectedCallback() {\n    setTimeout(() => {\n      this.includeFragment.addEventListener('include-fragment-replaced', this.setupPaginationObserver.bind(this))\n    }, 0)\n  }\n\n  disconnectedCallback() {\n    this.disconnectCurrentObserver()\n    this.includeFragment.removeEventListener('include-fragment-replaced', this.setupPaginationObserver.bind(this))\n  }\n\n  replaceContent(listFragment: DocumentFragment) {\n    this.container.innerHTML = ''\n    this.container.appendChild(listFragment)\n    this.setupPaginationObserver()\n  }\n\n  private setupPaginationObserver() {\n    if (!!window.IntersectionObserver && this.nextPageItem) {\n      this.currentObserver = new IntersectionObserver(\n        (entries: IntersectionObserverEntry[]) => {\n          if (!entries[0].isIntersecting) {\n            return\n          }\n\n          this.disconnectCurrentObserver()\n          this.loadNextPage()\n        },\n        {\n          root: this.container,\n          threshold: 0\n        }\n      )\n      this.currentObserver.observe(this.nextPageItem)\n    }\n  }\n\n  private async loadNextPage() {\n    if (!this.nextPageItem) {\n      return\n    }\n\n    const nextPageUrl = this.nextPageItem.getAttribute('data-next-page-url')\n    if (nextPageUrl) {\n      this.nextPageItemSpinner.hidden = false\n      const nextPage = await fetchSafeDocumentFragment(document, nextPageUrl)\n\n      this.nextPageItem.remove()\n\n      const liNotificationItems = nextPage.querySelectorAll('ul > li.focus-notification-item')\n      for (const node of liNotificationItems) {\n        this.list.appendChild(node)\n      }\n\n      const receivedNextPageItem = nextPage.querySelector('ul > li.focus-pagination-next-item')\n      if (receivedNextPageItem) {\n        this.list.appendChild(receivedNextPageItem)\n      }\n\n      // after new notifications + next page item were attached to\n      // the page we can re-subscribe to intersection observer\n      this.setupPaginationObserver()\n    }\n  }\n\n  private disconnectCurrentObserver() {\n    if (this.currentObserver) {\n      this.currentObserver.disconnect()\n    }\n  }\n\n  onRemoveItem(e: CustomEvent): void {\n    const notificationId = e.detail.notificationId\n\n    this.listElements\n      ?.find(item => item.notificationId === notificationId)\n      ?.closest('li')\n      ?.remove()\n\n    if (this.listElements.length === 0) {\n      this.blankSlate.hidden = false\n      this.list.hidden = true\n    }\n  }\n}\n","import {attr, controller} from '@github/catalyst'\n\n@controller\nexport class NotificationFocusListItemElement extends HTMLElement {\n  @attr notificationId = ''\n\n  async runRemoveAction(e: Event): Promise<void> {\n    e.preventDefault()\n\n    const form = e.currentTarget as HTMLFormElement\n    const body = new FormData(form)\n    const method = form.method\n    const url = form.action\n    const {ok} = await fetch(url, {body, method})\n\n    if (ok) {\n      this.dispatchEvent(\n        new CustomEvent('focus-mode-remove-item', {\n          bubbles: true,\n          detail: {notificationId: this.notificationId}\n        })\n      )\n    }\n  }\n}\n","import {controller, target} from '@github/catalyst'\n\n@controller\nexport class NotificationFocusFiltersElement extends HTMLElement {\n  @target detailsContainer: HTMLElement\n  @target filterTitle: HTMLElement\n\n  changeFilter(e: Event) {\n    e.preventDefault()\n    this.detailsContainer.removeAttribute('open')\n    const link = e.currentTarget as HTMLLinkElement\n\n    this.setFilterTitle(link.innerHTML)\n\n    this.dispatchEvent(\n      new CustomEvent('focus-mode-filter-change', {\n        detail: {url: link.href}\n      })\n    )\n  }\n\n  private setFilterTitle(text: string) {\n    this.filterTitle.innerHTML = text\n  }\n}\n","import {controller, target, targets} from '@github/catalyst'\nimport {hideGlobalError, showGlobalError} from '../behaviors/ajax-error'\nimport type DetailsDialogElement from '@github/details-dialog-element'\nimport DetailsMenuElement from '@github/details-menu-element'\nimport {changeValue} from '../form'\n\n@controller\nclass NotificationsListSubscriptionFormElement extends HTMLElement {\n  @target details: HTMLDetailsElement\n  @target menu: DetailsMenuElement\n  @target customButton: HTMLButtonElement\n  @target customDialog: DetailsDialogElement\n  @targets subscriptionButtons: HTMLButtonElement[]\n  @target socialCount: HTMLElement\n  @target unwatchButtonCopy: HTMLElement\n  @target stopIgnoringButtonCopy: HTMLElement\n  @target watchButtonCopy: HTMLElement\n  @targets threadTypeCheckboxes: HTMLInputElement[]\n  @target customSubmit: HTMLButtonElement\n\n  async submitCustomForm(e: Event) {\n    await this.submitForm(e)\n    this.closeMenu()\n  }\n\n  async submitForm(e: Event) {\n    e.preventDefault()\n\n    hideGlobalError()\n\n    const form = e.currentTarget as HTMLFormElement\n    const body = new FormData(form)\n\n    const response = await self.fetch(form.action, {\n      method: form.method,\n      body,\n      headers: {\n        'X-Requested-With': 'XMLHttpRequest',\n        Accept: 'application/json'\n      }\n    })\n\n    if (!response.ok) {\n      showGlobalError()\n      return\n    }\n    const json = await response.json()\n\n    const doParam = body.get('do')\n    if (typeof doParam === 'string') this.updateCheckedState(doParam)\n    if (typeof doParam === 'string') this.updateMenuButtonCopy(doParam)\n    this.updateSocialCount(json.count)\n    this.applyInputsCheckedPropertiesToAttributesForNextFormReset()\n  }\n\n  updateMenuButtonCopy(subscription: string) {\n    this.unwatchButtonCopy.hidden = !(subscription === 'subscribed' || subscription === 'custom')\n    this.stopIgnoringButtonCopy.hidden = !(subscription === 'ignore')\n    this.watchButtonCopy.hidden = !(\n      subscription !== 'subscribed' &&\n      subscription !== 'custom' &&\n      subscription !== 'ignore'\n    )\n  }\n\n  // form.reset() will reset the form back to the values in it's html attributes, not to it's current JS properties\n  // therefore, after successfully saving the form to the server, we transfer value of the `.checked` properties\n  // of the inputs in the form into the `[checked]` attribute. This means that if the user reopens the form and\n  // edits it again, cancelling will reset the form to it's last saved state, not the original state on page load\n  applyInputsCheckedPropertiesToAttributesForNextFormReset() {\n    for (const input of [...this.threadTypeCheckboxes]) {\n      input.toggleAttribute('checked', input.checked)\n    }\n  }\n\n  updateCheckedState(doParam: string) {\n    for (const button of this.subscriptionButtons) {\n      button.setAttribute('aria-checked', button.value === doParam ? 'true' : 'false')\n    }\n\n    if (doParam === 'custom') {\n      this.customButton.setAttribute('aria-checked', 'true')\n    } else {\n      this.customButton.setAttribute('aria-checked', 'false')\n\n      for (const input of [...this.threadTypeCheckboxes]) {\n        changeValue(input, false)\n      }\n    }\n  }\n\n  updateSocialCount(count: string) {\n    if (this.socialCount) {\n      this.socialCount.textContent = count\n    }\n  }\n\n  openCustomDialog(e: Event) {\n    e.preventDefault()\n    e.stopPropagation()\n    this.menu.toggleAttribute('hidden', true)\n    this.customDialog.toggleAttribute('hidden', false)\n    setTimeout(() => {\n      this.customDialog.querySelector<HTMLInputElement>('input[type=checkbox][autofocus]')?.focus()\n    }, 0)\n  }\n\n  closeCustomDialog(e: Event) {\n    e.preventDefault()\n    e.stopPropagation()\n    this.menu.toggleAttribute('hidden', false)\n    this.customDialog.toggleAttribute('hidden', true)\n    setTimeout(() => {\n      this.customButton.focus()\n    }, 0)\n  }\n\n  detailsToggled() {\n    this.menu.toggleAttribute('hidden', false)\n    this.customDialog.toggleAttribute('hidden', true)\n  }\n\n  submitCustom(e: Event) {\n    e.preventDefault()\n    this.details.toggleAttribute('open', false)\n  }\n\n  threadTypeCheckboxesUpdated() {\n    const noneSelected = !this.threadTypeCheckboxes.some(input => input.checked)\n\n    this.customSubmit.disabled = noneSelected\n  }\n\n  closeMenu() {\n    this.details.toggleAttribute('open', false)\n  }\n}\n","import {controller, target} from '@github/catalyst'\n@controller\nclass NotificationsTeamSubscriptionFormElement extends HTMLElement {\n  @target details: HTMLDetailsElement\n\n  closeMenu() {\n    this.details.toggleAttribute('open', false)\n  }\n}\n","import {validate} from './behaviors/html-validation'\n\ninterface PasswordOptions {\n  minimumCharacterCount: number\n  passphraseLength: number\n}\n\ninterface Result {\n  valid: boolean\n  hasMinimumCharacterCount: boolean\n  hasMinimumPassphraseLength: boolean\n  hasLowerCase: boolean\n  hasNumber: boolean\n}\n\nclass PasswordStrengthElement extends HTMLElement {\n  connectedCallback() {\n    this.addEventListener('input', onInput)\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener('input', onInput)\n  }\n}\n\nif (!window.customElements.get('password-strength')) {\n  window.PasswordStrengthElement = PasswordStrengthElement\n  window.customElements.define('password-strength', PasswordStrengthElement)\n}\n\ndeclare global {\n  interface Window {\n    PasswordStrengthElement: typeof PasswordStrengthElement\n  }\n}\n\nfunction onInput(event: Event) {\n  const passwordStrength = event.currentTarget\n  if (!(passwordStrength instanceof PasswordStrengthElement)) return\n  const passwordInput = event.target\n  if (!(passwordInput instanceof HTMLInputElement)) return\n  const form = passwordInput.form\n  if (!(form instanceof HTMLFormElement)) return\n\n  const result = validatePassword(passwordInput.value, {\n    minimumCharacterCount: Number(passwordStrength.getAttribute('minimum-character-count')!),\n    passphraseLength: Number(passwordStrength.getAttribute('passphrase-length'))\n  })\n\n  if (result.valid) {\n    passwordInput.setCustomValidity('')\n    const errorHint = passwordStrength.querySelector('dl.form-group')\n    if (errorHint) {\n      errorHint.classList.remove('errored')\n      errorHint.classList.add('successed')\n    }\n  } else {\n    passwordInput.setCustomValidity(passwordStrength.getAttribute('invalid-message')!)\n  }\n\n  highlightPasswordStrengthExplainer(passwordStrength, result)\n  validate(form)\n}\n\nfunction validatePassword(password: string, options: PasswordOptions): Result {\n  const result = {\n    valid: false,\n    hasMinimumCharacterCount: password.length >= options.minimumCharacterCount,\n    hasMinimumPassphraseLength: options.passphraseLength !== 0 && password.length >= options.passphraseLength,\n    hasLowerCase: /[a-z]/.test(password),\n    hasNumber: /\\d/.test(password)\n  }\n  result.valid =\n    result.hasMinimumPassphraseLength || (result.hasMinimumCharacterCount && result.hasLowerCase && result.hasNumber)\n  return result\n}\n\nfunction highlightPasswordStrengthExplainer(element: HTMLElement, result: Result) {\n  const moreThanNCharactersEl = element.querySelector('[data-more-than-n-chars]')\n  const minCharsEl = element.querySelector<HTMLElement>('[data-min-chars]')!\n  const numberReqEl = element.querySelector<HTMLElement>('[data-number-requirement]')!\n  const letterReqEl = element.querySelector<HTMLElement>('[data-letter-requirement]')!\n  const errorClasses = element\n    .getAttribute('error-class')!\n    .split(' ')\n    .filter(t => t.length > 0)\n  const passClasses = element\n    .getAttribute('pass-class')!\n    .split(' ')\n    .filter(t => t.length > 0)\n\n  for (const part of [moreThanNCharactersEl, minCharsEl, numberReqEl, letterReqEl]) {\n    part?.classList.remove(...errorClasses, ...passClasses)\n  }\n\n  if (result.hasMinimumPassphraseLength && moreThanNCharactersEl) {\n    moreThanNCharactersEl.classList.add(...passClasses)\n  } else if (result.valid) {\n    minCharsEl.classList.add(...passClasses)\n    numberReqEl.classList.add(...passClasses)\n    letterReqEl.classList.add(...passClasses)\n  } else {\n    const charTextClasses = result.hasMinimumCharacterCount ? passClasses : errorClasses\n    const numberTextClasses = result.hasNumber ? passClasses : errorClasses\n    const caseTextClasses = result.hasLowerCase ? passClasses : errorClasses\n\n    moreThanNCharactersEl?.classList.add(...errorClasses)\n    minCharsEl.classList.add(...charTextClasses)\n    numberReqEl.classList.add(...numberTextClasses)\n    letterReqEl.classList.add(...caseTextClasses)\n  }\n}\n","/* eslint eslint-comments/no-use: off */\n\nimport './include-fragment-element-hacks'\nimport IncludeFragmentElement from '@github/include-fragment-element'\n\nclass PollIncludeFragmentElement extends IncludeFragmentElement {\n  async fetch(request: Request, ms = 1000): Promise<Response> {\n    const response = await super.fetch(request)\n\n    if (response.status === 202) {\n      await new Promise(resolve => setTimeout(resolve, ms))\n      return this.fetch(request, ms * 1.5)\n    } else {\n      return response\n    }\n  }\n}\n\nif (!window.customElements.get('poll-include-fragment')) {\n  window.PollIncludeFragmentElement = PollIncludeFragmentElement\n  window.customElements.define('poll-include-fragment', PollIncludeFragmentElement)\n}\n\ndeclare global {\n  interface Window {\n    PollIncludeFragmentElement: typeof PollIncludeFragmentElement\n  }\n}\n","import {RelativeTimeElement} from '@github/time-elements'\n\n// <precise-time-ago> generates an always relative time-ago with short\n// descriptions like \"1h 15m 30s.\" It updates every second, which is useful for\n// showing elapsed times when precision is important, like for CI. For better\n// performance, prefer <time-ago format=\"micro\"> when precision to the second\n// is not needed.\n//\n// Example usage:\n// <precise-time-ago datetime=\"2012-04-01T16:30:00-08:00\"></precise-time-ago>\n\nclass PreciseTimeAgoElement extends RelativeTimeElement {\n  // Adapted from https://git.io/fjloW to update every second\n  connectedCallback() {\n    nowElements.push(this)\n\n    if (!updateNowElementsId) {\n      updateNowElements()\n      updateNowElementsId = window.setInterval(updateNowElements, 1000)\n    }\n  }\n\n  // Copied from https://git.io/fjlAl to access module-scoped variables\n  disconnectedCallback() {\n    const ix = nowElements.indexOf(this)\n    if (ix !== -1) {\n      nowElements.splice(ix, 1)\n    }\n\n    if (!nowElements.length) {\n      window.clearInterval(updateNowElementsId)\n      updateNowElementsId = undefined\n    }\n  }\n\n  getFormattedDate() {\n    const timeAgoDate = this.date\n    if (!timeAgoDate) return\n\n    const ms = new Date().getTime() - timeAgoDate.getTime()\n    const sec = Math.floor(ms / 1000)\n    const min = Math.floor(sec / 60)\n    const hr = Math.floor(min / 60)\n    const day = Math.floor(hr / 24)\n\n    const remainderSec = sec - min * 60\n    const remainderMin = min - hr * 60\n    const remainderHr = hr - day * 24\n\n    if (min < 1) {\n      return this.applyPrecision([`${sec}s`])\n    } else if (hr < 1) {\n      return this.applyPrecision([`${min}m`, `${remainderSec}s`])\n    } else if (day < 1) {\n      return this.applyPrecision([`${hr}h`, `${remainderMin}m`, `${remainderSec}s`])\n    } else {\n      return this.applyPrecision([`${day}d`, `${remainderHr}h`, `${remainderMin}m`, `${remainderSec}s`])\n    }\n  }\n\n  applyPrecision(units: string[]) {\n    const precision = Number(this.getAttribute('data-precision') || units.length)\n    return units.slice(0, precision).join(' ')\n  }\n}\n\n// https://git.io/fjlo4.\nconst nowElements: PreciseTimeAgoElement[] = []\n\n// https://git.io/fjloB.\nlet updateNowElementsId: number | undefined\n\n// https://git.io/fjloR\nfunction updateNowElements() {\n  for (const element of nowElements) {\n    element.textContent = element.getFormattedDate() || ''\n  }\n}\n\nif (!window.customElements.get('precise-time-ago')) {\n  window.PreciseTimeAgoElement = PreciseTimeAgoElement\n  window.customElements.define('precise-time-ago', PreciseTimeAgoElement)\n}\n\ndeclare global {\n  interface Window {\n    PreciseTimeAgoElement: typeof PreciseTimeAgoElement\n  }\n}\n","/*\nThis was pulled in from github/text-expander-element to make iterating and testing easier.\nSee https://github.com/github/ui-platform/issues/88\n*/\ntype Keyword = {\n  word: string\n  position: number\n  beginningOfLine: boolean\n}\n\nconst boundary = /\\s|\\(|\\[/\n\n// Extracts a keyword from the source text, backtracking from the cursor position.\nexport default function keyword(text: string, key: string, cursor: number): Keyword | void {\n  // Activation key not found in front of the cursor.\n  const keyIndex = text.lastIndexOf(key, cursor - 1)\n  if (keyIndex === -1) return\n\n  // Space between the cursor and previous activation key.\n  const spaceIndex = text.lastIndexOf(' ', cursor - 1)\n  if (spaceIndex > keyIndex) return\n\n  // Activation key must occur at word boundary.\n  const pre = text[keyIndex - 1]\n  if (pre && !boundary.test(pre)) return\n\n  // Extract matched keyword.\n  const word = text.substring(keyIndex + key.length, cursor)\n  return {word, position: keyIndex + key.length, beginningOfLine: isBeginningOfLine(pre)}\n}\n\nconst isBeginningOfLine = (character: string): boolean => {\n  // When slash is the first character in the text area, the previous character is undefined\n  return character === undefined || /\\n/.test(character)\n}\n","/*\nThis was pulled in from github/text-expander-element to make iterating and testing easier.\nSee https://github.com/github/ui-platform/issues/88\n*/\nconst properties = ['position:absolute;', 'overflow:auto;', 'word-wrap:break-word;', 'top:0px;', 'left:-9999px;']\n\n// Copy CSS properties from text field to div that would affect the cursor position.\nconst propertyNamesToCopy = [\n  'box-sizing',\n  'font-family',\n  'font-size',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'height',\n  'letter-spacing',\n  'line-height',\n  'max-height',\n  'min-height',\n  'padding-bottom',\n  'padding-left',\n  'padding-right',\n  'padding-top',\n  'border-bottom',\n  'border-left',\n  'border-right',\n  'border-top',\n  'text-decoration',\n  'text-indent',\n  'text-transform',\n  'width',\n  'word-spacing'\n]\n\n// Map from text field element to its mirror.\nconst mirrorMap = new WeakMap()\n\n// Builds offscreen div that mirrors the text field.\n//\n// textField - A HTMLInputElement or HTMLTextAreaElement element\n// markerPosition - Optional Number to position a cursor marker at\n//                  (defaults to the end of the text)\n//\n// Returns an Element attached to the DOM. It is the callers\n// responsibility to cleanup and remove the element after they are\n// finished with their measurements.\nexport default function textFieldMirror(\n  textField: HTMLInputElement | HTMLTextAreaElement,\n  markerPosition: number | null\n): {mirror: HTMLElement; marker: HTMLElement} {\n  const nodeName = textField.nodeName.toLowerCase()\n  if (nodeName !== 'textarea' && nodeName !== 'input') {\n    throw new Error('expected textField to a textarea or input')\n  }\n\n  let mirror = mirrorMap.get(textField)\n  if (mirror && mirror.parentElement === textField.parentElement) {\n    mirror.innerHTML = ''\n  } else {\n    mirror = document.createElement('div')\n    mirrorMap.set(textField, mirror)\n    const style = window.getComputedStyle(textField)\n    const props = properties.slice(0)\n    if (nodeName === 'textarea') {\n      props.push('white-space:pre-wrap;')\n    } else {\n      props.push('white-space:nowrap;')\n    }\n    for (let i = 0, len = propertyNamesToCopy.length; i < len; i++) {\n      const name = propertyNamesToCopy[i]\n      props.push(`${name}:${style.getPropertyValue(name)};`)\n    }\n    mirror.style.cssText = props.join(' ')\n  }\n\n  const marker = document.createElement('span')\n  marker.style.cssText = 'position: absolute;'\n  marker.innerHTML = '&nbsp;'\n\n  let before\n  let after\n  if (typeof markerPosition === 'number') {\n    let text = textField.value.substring(0, markerPosition)\n    if (text) {\n      before = document.createTextNode(text)\n    }\n    text = textField.value.substring(markerPosition)\n    if (text) {\n      after = document.createTextNode(text)\n    }\n  } else {\n    const text = textField.value\n    if (text) {\n      before = document.createTextNode(text)\n    }\n  }\n\n  if (before) {\n    mirror.appendChild(before)\n  }\n\n  mirror.appendChild(marker)\n\n  if (after) {\n    mirror.appendChild(after)\n  }\n\n  if (!mirror.parentElement) {\n    if (!textField.parentElement) {\n      throw new Error('textField must have a parentElement to mirror')\n    }\n    textField.parentElement.insertBefore(mirror, textField)\n  }\n\n  mirror.scrollTop = textField.scrollTop\n  mirror.scrollLeft = textField.scrollLeft\n\n  return {mirror, marker}\n}\n","/*\nThis was pulled in from github/text-expander-element to make iterating and testing easier.\nSee https://github.com/github/ui-platform/issues/88\n*/\nimport textFieldMirror from './text-field-mirror'\n\n// Get offset position of cursor in a `textField` field. The offset is the\n// number of pixels from the top left of the `textField`. Useful for\n// positioning a popup near the insertion point.\n//\n// const {top, left} = textFieldSelectionPosition(textarea)\n//\n// Measures offset position of cursor in text field.\n//\n// field - A HTMLTextAreaElement or HTMLInputElement\n// index - Number index into textField.value (default: textField.selectionEnd)\n//\n// Returns object with {top, left} properties.\nexport default function textFieldSelectionPosition(\n  field: HTMLInputElement | HTMLTextAreaElement,\n  index: number | null = field.selectionEnd\n): {top: number; left: number} {\n  const {mirror, marker} = textFieldMirror(field, index)\n\n  const mirrorRect = mirror.getBoundingClientRect()\n  const markerRect = marker.getBoundingClientRect()\n\n  setTimeout(() => {\n    mirror.remove()\n  }, 5000)\n\n  return {\n    top: markerRect.top - mirrorRect.top,\n    left: markerRect.left - mirrorRect.left\n  }\n}\n","/*\nThis was pulled in from github/text-expander-element to make iterating and testing easier.\nSee https://github.com/github/ui-platform/issues/88\n*/\nimport Combobox from '@github/combobox-nav'\nimport keyword from './keyword'\nimport textFieldSelectionPosition from './text-field-selection-position'\n\ntype Match = {\n  text: string\n  key: string\n  position: number\n  beginningOfLine: boolean\n}\n\ntype Result = {\n  fragment: HTMLElement\n  matched: boolean\n}\n\nconst states = new WeakMap()\n\nclass SlashCommandExpander {\n  expander: SlashCommandExpanderElement\n  input: HTMLInputElement | HTMLTextAreaElement\n  menu: HTMLElement | null\n  oninput: (event: Event) => void\n  onkeydown: (event: KeyboardEvent) => void\n  onpaste: (event: Event) => void\n  oncommit: (event: Event) => void\n  onblur: (event: Event) => void\n  onmousedown: (event: Event) => void\n  combobox: Combobox | null\n  match: Match | null\n  justPasted: boolean\n  interactingWithMenu: boolean\n\n  constructor(expander: SlashCommandExpanderElement, input: HTMLInputElement | HTMLTextAreaElement) {\n    this.expander = expander\n    this.input = input\n    this.combobox = null\n    this.menu = null\n    this.match = null\n    this.justPasted = false\n    this.oninput = this.onInput.bind(this)\n    this.onpaste = this.onPaste.bind(this)\n    this.onkeydown = this.onKeydown.bind(this)\n    this.oncommit = this.onCommit.bind(this)\n    this.onmousedown = this.onMousedown.bind(this)\n    this.onblur = this.onBlur.bind(this)\n    this.interactingWithMenu = false\n    input.addEventListener('paste', this.onpaste)\n    input.addEventListener('input', this.oninput)\n    ;(input as HTMLElement).addEventListener('keydown', this.onkeydown)\n    input.addEventListener('blur', this.onblur)\n  }\n\n  destroy() {\n    this.input.removeEventListener('paste', this.onpaste)\n    this.input.removeEventListener('input', this.oninput)\n    ;(this.input as HTMLElement).removeEventListener('keydown', this.onkeydown)\n    this.input.removeEventListener('blur', this.onblur)\n  }\n\n  activate(match: Match, menu: HTMLElement) {\n    if (this.input !== document.activeElement) return\n    this.setMenu(match, menu)\n  }\n\n  deactivate(): boolean {\n    const menu = this.menu\n    const combobox = this.combobox\n    if (!menu || !combobox) return false\n    this.menu = null\n    this.combobox = null\n\n    menu.removeEventListener('combobox-commit', this.oncommit)\n    menu.removeEventListener('mousedown', this.onmousedown)\n    combobox.destroy()\n    menu.remove()\n\n    return true\n  }\n\n  setMenu(match: Match, menu: HTMLElement) {\n    this.deactivate()\n    this.menu = menu\n\n    if (!menu.id) menu.id = `text-expander-${Math.floor(Math.random() * 100000).toString()}`\n    this.expander.append(menu)\n\n    const menuItems = menu.querySelector<HTMLElement>('.js-slash-command-menu-items')\n\n    if (menuItems) {\n      this.combobox = new Combobox(this.input, menuItems)\n    } else {\n      this.combobox = new Combobox(this.input, menu)\n    }\n\n    const {top, left} = textFieldSelectionPosition(this.input, match.position)\n    const topMargin = parseInt(window.getComputedStyle(this.input).fontSize)\n\n    menu.style.top = `${top + topMargin}px`\n    menu.style.left = `${left}px`\n\n    this.combobox.start()\n    menu.addEventListener('combobox-commit', this.oncommit)\n    menu.addEventListener('mousedown', this.onmousedown)\n\n    // Focus first menu item.\n    this.combobox.navigate(1)\n  }\n\n  setValue(value: string | null) {\n    if (value === null || value === undefined) return\n\n    const match = this.match\n    if (!match) return\n\n    const beginning = this.input.value.substring(0, match.position - match.key.length)\n    const remaining = this.input.value.substring(match.position + match.text.length)\n\n    let {cursor, value: insertValue} = this.replaceCursorMark(value)\n    insertValue = insertValue?.length === 0 ? insertValue : `${insertValue} `\n\n    this.input.value = beginning + insertValue + remaining\n\n    this.deactivate()\n    this.input.focus()\n\n    cursor = beginning.length + (cursor || insertValue.length)\n    this.input.selectionStart = cursor\n    this.input.selectionEnd = cursor\n  }\n\n  // Take a value and replace occurrences of %cursor%.\n  //\n  // Returns object with two keys:\n  // - cursor: holds index of cursor mark location\n  // - value: Given value with the cursor marks removed.\n  replaceCursorMark(value: string) {\n    const cursorPattern = /%cursor%/gm\n\n    const cursorFlagMatch = cursorPattern.exec(value)\n    if (cursorFlagMatch) {\n      return {\n        cursor: cursorFlagMatch.index,\n        value: value.replace(cursorPattern, '')\n      }\n    } else {\n      return {\n        cursor: null,\n        value\n      }\n    }\n  }\n\n  onCommit({target}: Event) {\n    const item = target\n    if (!(item instanceof HTMLElement)) return\n    if (!this.combobox) return\n\n    const match = this.match\n    if (!match) return\n\n    const detail = {item, key: match.key, value: null}\n    const canceled = !this.expander.dispatchEvent(new CustomEvent('text-expander-value', {cancelable: true, detail}))\n\n    if (canceled) return\n    if (detail.value) this.setValue(detail.value)\n  }\n\n  onBlur() {\n    if (this.interactingWithMenu) {\n      this.interactingWithMenu = false\n      return\n    }\n\n    this.deactivate()\n  }\n\n  onPaste() {\n    this.justPasted = true\n  }\n\n  async delay(milliseconds: number) {\n    return new Promise(resolve => setTimeout(resolve, milliseconds))\n  }\n\n  async onInput() {\n    if (this.justPasted) {\n      this.justPasted = false\n      return\n    }\n\n    const match = this.findMatch()\n    if (match) {\n      this.match = match\n      await this.delay(this.appropriateDelay(this.match))\n\n      // Text was changed while waiting for delay\n      if (this.match !== match) return\n      const menu = await this.notifyProviders(match)\n\n      // Text was cleared while waiting on async providers.\n      if (!this.match) return\n\n      if (menu) {\n        this.activate(match, menu)\n      } else {\n        this.deactivate()\n      }\n    } else {\n      this.match = null\n      this.deactivate()\n    }\n  }\n\n  // How long should we wait before displaying the slash command menu?\n  appropriateDelay(match: Match): number {\n    if (match.beginningOfLine) {\n      return 0\n    } else if (match.text !== '') {\n      return 0\n    } else {\n      // When something is typing at 50 WPM, they won't see the prompt.\n      // 50 WPM = 250 CPM = 4 characters per second\n      // 1000ms / 4 = 250ms per character\n      return 250\n    }\n  }\n\n  findMatch(): Match | void {\n    const cursor = this.input.selectionEnd\n    const text = this.input.value\n    for (const key of this.expander.keys) {\n      const found = keyword(text, key, cursor!)\n      if (found) {\n        return {text: found.word, key, position: found.position, beginningOfLine: found.beginningOfLine}\n      }\n    }\n  }\n\n  async notifyProviders(match: Match): Promise<HTMLElement | void> {\n    const providers: Array<Promise<Result> | Result> = []\n    const provide = (result: Promise<Result> | Result) => providers.push(result)\n    const canceled = !this.expander.dispatchEvent(\n      new CustomEvent('text-expander-change', {cancelable: true, detail: {provide, text: match.text, key: match.key}})\n    )\n    if (canceled) return\n\n    const all = await Promise.all(providers)\n    const fragments = all.filter(x => x.matched).map(x => x.fragment)\n    return fragments[0]\n  }\n\n  onMousedown() {\n    this.interactingWithMenu = true\n  }\n\n  onKeydown(event: KeyboardEvent) {\n    if (event.key !== 'Escape') return\n    if (this.deactivate()) {\n      event.stopImmediatePropagation()\n      event.preventDefault()\n    }\n  }\n}\n\nexport default class SlashCommandExpanderElement extends HTMLElement {\n  get keys(): string[] {\n    const keys = this.getAttribute('keys')\n    return keys ? keys.split(' ') : []\n  }\n\n  connectedCallback() {\n    const input = this.querySelector('input[type=\"text\"], textarea')\n    if (!(input instanceof HTMLInputElement || input instanceof HTMLTextAreaElement)) return\n    const state = new SlashCommandExpander(this, input)\n    states.set(this, state)\n  }\n\n  disconnectedCallback() {\n    const state = states.get(this)\n    if (!state) return\n    state.destroy()\n    states.delete(this)\n  }\n\n  setValue(value: string) {\n    const state = states.get(this)\n    if (!state) return\n    state.setValue(value)\n  }\n\n  setMenu(menu: HTMLElement, interactionExpected = false) {\n    const state = states.get(this)\n    if (!state) return\n    if (!state.match) return\n    if (interactionExpected) {\n      state.interactingWithMenu = true\n    }\n    state.setMenu(state.match, menu)\n  }\n\n  closeMenu() {\n    const state = states.get(this)\n    if (!state) return\n    state.setValue('')\n  }\n\n  isLoading() {\n    const loadingMenu = this.getElementsByClassName('js-slash-command-expander-loading')[0] as HTMLElement\n\n    if (loadingMenu) {\n      const loadingMenuClone = loadingMenu.cloneNode(true) as HTMLElement\n      // eslint-disable-next-line github/no-d-none\n      loadingMenuClone.classList.remove('d-none')\n      this.setMenu(loadingMenuClone)\n    }\n  }\n\n  showError() {\n    const errorMenu = this.getElementsByClassName('js-slash-command-expander-error')[0] as HTMLElement\n\n    if (errorMenu) {\n      const errorMenuClone = errorMenu.cloneNode(true) as HTMLElement\n      // eslint-disable-next-line github/no-d-none\n      errorMenuClone.classList.remove('d-none')\n      this.setMenu(errorMenuClone)\n    }\n  }\n}\n","/*\nThis was pulled in from github/text-expander-element to make iterating and testing easier.\nSee https://github.com/github/ui-platform/issues/88\n*/\n\nimport SlashCommandExpanderElement from './slash-command-expander-element'\nexport {SlashCommandExpanderElement as default}\n\ndeclare global {\n  interface Window {\n    SlashCommandExpanderElement: typeof SlashCommandExpanderElement\n  }\n}\n\nif (!window.customElements.get('slash-command-expander')) {\n  window.SlashCommandExpanderElement = SlashCommandExpanderElement\n  window.customElements.define('slash-command-expander', SlashCommandExpanderElement)\n}\n","// Global handler for AJAX loading indicators.\n//\n// Only enabled on new style `data-remote` requests.\n//\n// Examples\n//\n//   .loading-spinner { display: none; }\n//   form.loading .loading-spinner { display: block; }\n//\n\nimport {on} from 'delegated-events'\n\non('deprecatedAjaxSend', '[data-remote]', function (event) {\n  if (event.currentTarget !== event.target) {\n    return\n  }\n  if (event.defaultPrevented) {\n    return\n  }\n  event.currentTarget.classList.add('loading')\n})\n\n// Clear any errors when the request is tried again\non('deprecatedAjaxComplete', '[data-remote]', function (event) {\n  if (event.currentTarget !== event.target) {\n    return\n  }\n  event.currentTarget.classList.remove('loading')\n})\n","import {fire} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\n\n// Dashboard event stream ajax pagination\nremoteForm('form.js-ajax-pagination, .js-ajax-pagination form', async function (form, wants) {\n  const container = form.closest<HTMLElement>('.js-ajax-pagination')!\n  let response\n  try {\n    response = await wants.html()\n  } catch (err) {\n    if (err.response && err.response.status === 404) {\n      container.remove()\n      return\n    } else {\n      throw err\n    }\n  }\n  container.replaceWith(response.html)\n  fire(form, 'page:loaded')\n})\n","// Common behaviors associated with <auto-check>\n\nimport {announceFromElement} from '../aria-live'\nimport {fire} from 'delegated-events'\nimport {observe} from 'selector-observer'\nimport {validate} from '../behaviors/html-validation'\n\nconst notes = new WeakMap()\n\nobserve('auto-check', function (el) {\n  if (el.classList.contains('js-prevent-default-behavior')) return\n\n  const input = el.querySelector('input')\n  if (!input) return\n\n  const container = input.closest('.form-group') || el\n  const form = input.form\n\n  let id: string | null\n  function generateId() {\n    if (!id) id = `input-check-${(Math.random() * 10000).toFixed(0)}`\n    return id\n  }\n  const ariaDescribedby = input.getAttribute('aria-describedby')\n\n  input.addEventListener('focusout:delay', () => {\n    input.setAttribute('aria-describedby', [id, ariaDescribedby].join(' '))\n  })\n\n  const note = container.querySelector('p.note')\n  if (note) {\n    if (!note.id) note.id = generateId()\n    notes.set(note, note.innerHTML)\n  }\n\n  el.addEventListener('loadstart', () => {\n    reset(input, container)\n    container.classList.add('is-loading')\n    input.classList.add('is-autocheck-loading')\n\n    validate(form!)\n  })\n\n  el.addEventListener('loadend', () => {\n    container.classList.remove('is-loading')\n    input.classList.remove('is-autocheck-loading')\n  })\n\n  input.addEventListener('auto-check-success', async (event: Event) => {\n    input.classList.add('is-autocheck-successful')\n    container.classList.add('successed')\n\n    validate(form!)\n\n    const {response} = (event as CustomEvent).detail\n    if (!response) return\n\n    const message = await response.text()\n    if (!message) return\n\n    if (note instanceof HTMLElement) {\n      note.innerHTML = message\n      announceFromElement(note)\n    } else {\n      const isOk = response.status === 200\n      const tagName = container.tagName === 'DL' ? 'dd' : 'div'\n      const element = document.createElement(tagName)\n      element.id = generateId()\n      element.classList.add(isOk ? 'success' : 'warning')\n      element.innerHTML = message\n      container.append(element)\n      container.classList.add(isOk ? 'successed' : 'warn')\n      announceFromElement(element)\n      if (isOk) element.hidden = document.activeElement !== input\n    }\n\n    fire(input, 'auto-check-message-updated')\n  })\n\n  input.addEventListener('auto-check-error', async event => {\n    input.classList.add('is-autocheck-errored')\n    container.classList.add('errored')\n\n    validate(form!)\n\n    const {response} = (event as CustomEvent).detail\n    if (!response) return\n\n    const message = await response.text()\n\n    if (note instanceof HTMLElement) {\n      // eslint-disable-next-line i18n-text/no-en\n      note.innerHTML = message || 'Something went wrong'\n      announceFromElement(note)\n    } else {\n      const tagName = container.tagName === 'DL' ? 'dd' : 'div'\n      const error = document.createElement(tagName)\n      error.id = generateId()\n      error.classList.add('error')\n      // eslint-disable-next-line i18n-text/no-en\n      error.innerHTML = message || 'Something went wrong'\n      container.append(error)\n      announceFromElement(error)\n    }\n  })\n\n  input.addEventListener('input', () => {\n    input.removeAttribute('aria-describedby')\n    if (!input.value) reset(input, container)\n  })\n\n  input.addEventListener('blur', () => {\n    const successMessage = container.querySelector<HTMLElement>('.success')\n    if (successMessage) successMessage.hidden = true\n  })\n\n  input.addEventListener('focus', () => {\n    const successMessage = container.querySelector<HTMLElement>('.success')\n    if (successMessage) successMessage.hidden = false\n  })\n\n  form!.addEventListener('reset', () => {\n    reset(input, container)\n  })\n})\n\n// Reset the autocheck state.\nfunction reset(input: HTMLInputElement, container: Element) {\n  container.classList.remove('is-loading', 'successed', 'errored', 'warn')\n  input.classList.remove('is-autocheck-loading', 'is-autocheck-successful', 'is-autocheck-errored')\n\n  const note = container.querySelector('p.note')\n  if (note) {\n    const content = notes.get(note)\n    if (content) note.innerHTML = content\n  }\n\n  if (container.tagName === 'DL') {\n    container.querySelector('dd.error')?.remove()\n    container.querySelector('dd.warning')?.remove()\n    container.querySelector('dd.success')?.remove()\n  } else {\n    container.querySelector('div.error')?.remove()\n    container.querySelector('div.warning')?.remove()\n    container.querySelector('div.success')?.remove()\n  }\n}\n","// Common behaviors associated with <auto-complete>\n\nimport AutocompleteElement from '@github/auto-complete-element'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\n\n// Display spinner during query server fetch.\nobserve('auto-complete', function (el) {\n  el.addEventListener('loadstart', () => el.classList.add('is-auto-complete-loading'))\n  el.addEventListener('loadend', () => el.classList.remove('is-auto-complete-loading'))\n})\n\nobserve('auto-complete', {constructor: AutocompleteElement, initialize: toggleSubmitButton})\n\non('auto-complete-change', 'auto-complete', function (event) {\n  toggleSubmitButton(event.currentTarget as AutocompleteElement)\n})\n\n// TODO Upstream `required` attribute to <auto-complete> so it can\n// participate in data-disable-invalid form validation.\n//\n// Toggle the submit button disabled/enabled based on the completer.\nfunction toggleSubmitButton(completer: AutocompleteElement) {\n  const form = completer.closest('form')\n  if (!form) return\n  const button = form.querySelector('.js-auto-complete-button')\n  if (!(button instanceof HTMLButtonElement)) return\n  button.disabled = !completer.value\n}\n","// Autosearch form\n//\n// Automatically replaces the contents of a container against a search field\n// in the search form.\n//\n// Note: Using `data-throttled-autosubmit` means that the form will autosubmit\n// on input with a bit of throttle so that we don't send unnessesary requests\n// to the server. See `app/assets/modules/github/behaviors/autosubmit.js`.\n//\n// Markup:\n//\n// `data-autosearch-results-container` - The ID of the container to update with results\n//\n// <form action=\"/search\" data-autosearch-results-container=\"search-results\">\n//   <input type=\"search\" placeholder=\"Find something\" data-throttled-autosubmit>\n//   <div id=\"search-results\">\n//     This content will get replaced when the input changes\n//   </div>\n// </form>\n//\nimport {on} from 'delegated-events'\nimport {parseHTML} from '../parse-html'\nimport {replaceState} from '../history'\nimport {serialize} from '../form'\n\nlet previousController: AbortController | null = null\non('submit', '[data-autosearch-results-container]', async function (event) {\n  const form = event.currentTarget\n  if (!(form instanceof HTMLFormElement)) return\n  event.preventDefault()\n\n  previousController?.abort()\n  form.classList.add('is-sending')\n  const url = new URL(form.action, window.location.origin)\n  const method = form.method\n  const serialized = serialize(form)\n  let body = null\n  if (method === 'get') {\n    url.search = serialized\n  } else {\n    body = new FormData(form)\n  }\n  const {signal} = (previousController = new AbortController())\n  const request = new Request(url.toString(), {\n    method,\n    body,\n    signal,\n    headers: {Accept: 'text/html', 'X-Requested-With': 'XMLHttpRequest'}\n  })\n  let response\n  try {\n    response = await fetch(request)\n  } catch {\n    // Ignore network errors\n  }\n  form.classList.remove('is-sending')\n  if (!response || !response.ok || signal.aborted) return\n  const id = form.getAttribute('data-autosearch-results-container')\n  const resultsContainer = id ? document.getElementById(id) : null\n  if (resultsContainer) {\n    resultsContainer.innerHTML = ''\n    resultsContainer.appendChild(parseHTML(document, await response.text()))\n  }\n  replaceState(null, '', `?${serialized}`)\n})\n","// Form AutoSubmit Behavior\n//\n// Automatically submits form when one of its fields change.\n//\n// Examples\n//\n//   <form action=\"/subscribe\" data-autosubmit>\n//     <input type=radio name=state value=1> Subscribe\n//     <input type=radio name=state value=0> Unsubscribe\n//   </form>\n\nimport {debounce} from '@github/mini-throttle'\nimport {fromEvent} from '../subscription'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\nimport {requestSubmit} from '../form'\n\non('change', 'form[data-autosubmit]', function (event) {\n  const target = event.currentTarget\n  requestSubmit(target as HTMLFormElement)\n})\n\non('change', 'input[data-autosubmit], select[data-autosubmit]', submit)\n\n// Submit a form from a change event.\nfunction submit(event: Event) {\n  const input = event.target\n  if (!(input instanceof HTMLInputElement) && !(input instanceof HTMLSelectElement)) return\n\n  const form = input.form\n  requestSubmit(form!)\n}\n\nconst debouncedSubmit = debounce(submit, 300)\n\nobserve('input[data-throttled-autosubmit]', {\n  subscribe: el => fromEvent(el, 'input', debouncedSubmit)\n})\n","// Click to select clone urls\n\nimport {microtask} from '../eventloop-tasks'\nimport {onFocus} from '../onfocus'\n\nonFocus('input[data-autoselect], textarea[data-autoselect]', async function (input) {\n  await microtask()\n  ;(input as HTMLInputElement | HTMLTextAreaElement).select()\n})\n","import {observe} from 'selector-observer'\n\n// Sets the text of the avatar reset button depending on whether or not the\n// user has a gravatar associated with their GitHub account.\nasync function detectGravatar(el: Element) {\n  const gravitarUrl = el.getAttribute('data-url') || ''\n  const hasGravitar = await fetchGravatarInfo(gravitarUrl)\n\n  if (hasGravitar) {\n    const gravatarText = el.getAttribute('data-gravatar-text')\n    if (gravatarText != null) {\n      el.textContent = gravatarText\n    }\n  }\n}\n\nobserve('.js-detect-gravatar', function (el) {\n  detectGravatar(el)\n})\n\n// Fetch the gravitarUrl, and check the `has_gravatar` property from the returning JSON.\nasync function fetchGravatarInfo(gravitarUrl: string): Promise<boolean> {\n  const url = gravitarUrl\n  if (!url) return false\n\n  try {\n    const response = await fetch(url, {headers: {Accept: 'application/json'}})\n    if (!response.ok) return false\n    const data = (await response.json()) as {has_gravatar: boolean}\n    return data.has_gravatar\n  } catch {\n    return false\n  }\n}\n","import {addThrottledInputEventListener} from '../throttled-input'\nimport {getState} from './pjax'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\nimport {replaceState} from '../history'\nimport visible from '../visible'\n\ninterface UserPlan {\n  free: boolean\n  is_enterprise_cloud_trial: boolean\n  seats: number\n  no_additional_seats: boolean\n  selectors: string[]\n  url: string\n}\n\nlet previousController: AbortController | null = null\non('click', '.js-org-signup-duration-change', event => {\n  event.preventDefault()\n  const el = event.currentTarget\n  const newDuration = el.getAttribute('data-plan-duration')!\n\n  updateDurationFields(newDuration)\n  updateSeatFieldURLs(newDuration)\n  for (const seatsField of document.querySelectorAll<HTMLInputElement>('.js-seat-field')) {\n    updateTotals(seatsField)\n  }\n  toggleDurationUnitPrices()\n})\n\nasync function updateTotals(el: HTMLInputElement | HTMLSelectElement) {\n  const itemKey = el.getAttribute('data-item-name') || 'items'\n  const itemRawCount = el.value\n  const itemMinimum = parseInt(el.getAttribute('data-item-minimum')!) || 0\n  const itemMaximum = parseInt(el.getAttribute('data-item-maximum')!) || 300\n  const itemCount = parseInt(el.getAttribute('data-item-count')!) || 0\n  const itemDelta = Math.max(itemMinimum, parseInt(itemRawCount) || 0)\n  const contactUs = itemDelta > itemMaximum\n\n  const downgradeButton = document.querySelector('.js-downgrade-button')\n  if (downgradeButton instanceof HTMLButtonElement) {\n    downgradeButton.disabled = itemDelta === itemCount\n  }\n\n  const url = new URL(el.getAttribute('data-url')!, window.location.origin)\n  const params = new URLSearchParams(url.search.slice(1))\n  params.append(itemKey, itemDelta.toString())\n\n  const transformInput = document.querySelector('.js-transform-user')\n  if (transformInput) params.append('transform_user', '1')\n\n  url.search = params.toString()\n\n  previousController?.abort()\n  const {signal} = (previousController = new AbortController())\n  let data: UserPlan | null = null\n  try {\n    const response = await fetch(url.toString(), {signal, headers: {Accept: 'application/json'}})\n    if (!response.ok) return\n    data = (await response.json()) as UserPlan\n  } catch {\n    // ignore network errors\n  }\n  if (signal.aborted) return\n  if (!data) return\n\n  const contact = document.querySelector('.js-contact-us')\n  /* eslint-disable-next-line github/no-d-none */\n  if (contact) contact.classList.toggle('d-none', !contactUs)\n\n  const paymentSummary = document.querySelector('.js-payment-summary')\n  /* eslint-disable-next-line github/no-d-none */\n  if (paymentSummary) paymentSummary.classList.toggle('d-none', contactUs)\n\n  const submit = document.querySelector('.js-submit-billing')\n  if (submit instanceof HTMLElement) submit.hidden = contactUs\n\n  const billing = document.querySelector('.js-billing-section')\n  if (billing) billing.classList.toggle('has-removed-contents', data.free || data.is_enterprise_cloud_trial)\n\n  const upgrade = document.querySelector('.js-upgrade-info')\n  /* eslint-disable-next-line github/no-d-none */\n  if (upgrade) upgrade.classList.toggle('d-none', itemDelta <= 0)\n\n  const downgrade = document.querySelector('.js-downgrade-info')\n  /* eslint-disable-next-line github/no-d-none */\n  if (downgrade) downgrade.classList.toggle('d-none', itemDelta >= 0)\n\n  const extraSeats = document.querySelector('.js-extra-seats-line-item')\n  /* eslint-disable-next-line github/no-d-none */\n  if (extraSeats) extraSeats.classList.toggle('d-none', data.no_additional_seats)\n\n  const seatField = document.querySelector('.js-seat-field')\n  if (seatField) updateSeatFields(itemRawCount)\n\n  const minimumSeatsTooltip = document.querySelector('.js-minimum-seats-disclaimer')\n  if (minimumSeatsTooltip) {\n    minimumSeatsTooltip.classList.toggle('tooltipped', data.seats === 5)\n    minimumSeatsTooltip.classList.toggle('tooltipped-nw', data.seats === 5)\n  }\n\n  const ref = data.selectors\n  for (const selector in ref) {\n    for (const element of document.querySelectorAll(selector)) {\n      element.innerHTML = ref[selector]\n    }\n  }\n  replaceState(getState(), '', data.url)\n}\n\nfunction toggleDurationUnitPrices() {\n  for (const unitPrice of document.querySelectorAll<HTMLElement>('.js-unit-price')) {\n    unitPrice.hidden = !unitPrice.hidden\n  }\n}\n\nfunction updateDurationFields(newDuration: string) {\n  const oldDuration = newDuration === 'year' ? 'month' : 'year'\n  for (const planDurationText of document.querySelectorAll('.js-plan-duration-text')) {\n    planDurationText.innerHTML = newDuration\n  }\n\n  for (const planDurationAdjective of document.querySelectorAll('.unstyled-available-plan-duration-adjective')) {\n    planDurationAdjective.innerHTML = `${newDuration}ly`\n  }\n\n  for (const durationLink of document.querySelectorAll('.js-org-signup-duration-change')) {\n    durationLink.setAttribute('data-plan-duration', oldDuration)\n  }\n}\n\nfunction updateSeatFields(numberOfSeats: string) {\n  for (const el of document.querySelectorAll<HTMLInputElement>('.js-seat-field')) {\n    el.value = numberOfSeats\n  }\n}\n\nfunction updateSeatFieldURLs(newDuration: string) {\n  for (const el of document.querySelectorAll<HTMLInputElement>('.js-seat-field')) {\n    const url = new URL(el.getAttribute('data-url')!, window.location.origin)\n    const params = new URLSearchParams(url.search.slice(1))\n    params.delete('plan_duration')\n    params.append('plan_duration', newDuration)\n    url.search = params.toString()\n    el.setAttribute('data-url', url.toString())\n  }\n}\n\nobserve('.js-addon-purchase-field', {\n  constructor: HTMLInputElement,\n  add(el) {\n    if (visible(el)) updateTotals(el)\n\n    addThrottledInputEventListener(el, function () {\n      updateTotals(el)\n    })\n  }\n})\n\nobserve('.js-addon-downgrade-field', {\n  constructor: HTMLSelectElement,\n  add(el) {\n    if (visible(el)) updateTotals(el)\n\n    el.addEventListener('change', function () {\n      updateTotals(el)\n    })\n  }\n})\n\nfunction handleOrgChange(event: Event) {\n  const addonField = document.querySelector('.js-addon-purchase-field')\n  const selectedRadio = (event.target as Element).querySelector('input:checked')\n\n  if (addonField instanceof HTMLInputElement && selectedRadio instanceof HTMLInputElement) {\n    const newUrl = selectedRadio.getAttribute('data-upgrade-url')\n\n    if (newUrl) {\n      addonField.setAttribute('data-url', newUrl)\n      addonField.value = '0'\n      updateTotals(addonField)\n    }\n  }\n}\n\non('details-menu-selected', '.js-organization-container', handleOrgChange, {capture: true})\n","import {onInput} from '../onfocus'\n\nonInput('.js-csv-filter-field', function (event) {\n  const query = (event.target as HTMLInputElement).value.toLowerCase()\n  for (const row of document.querySelectorAll('.js-csv-data tbody tr')) {\n    if (!(row instanceof HTMLElement)) continue\n    if (!row.textContent) continue\n    row.hidden = !!query && !row.textContent.toLowerCase().includes(query)\n  }\n})\n","import {DOMRangeFromBlob, formatBlobRangeAnchor, parseBlobRange, parseFileAnchor} from '../blob-anchor'\nimport type {AnchorInfo} from '../blob-anchor'\nimport ClipboardCopyElement from '@github/clipboard-copy-element'\nimport hashChange from './hash-change'\nimport {on} from 'delegated-events'\nimport {surroundContents} from '../range'\n\nlet skipNextScrollTo = false\n\nfunction queryLineElement(anchorPrefix: string, line: number) {\n  return document.querySelector(`#${anchorPrefix}LC${line}`)\n}\n\n// Highlight a line or range of lines.\nfunction highlightLines({blobRange, anchorPrefix}: AnchorInfo): void {\n  const lineElements = document.querySelectorAll('.js-file-line')\n\n  if (lineElements.length === 0) return\n  clearHighlights()\n\n  if (!blobRange) return\n\n  if (blobRange.start.column === null || blobRange.end.column === null) {\n    for (let i = blobRange.start.line; i <= blobRange.end.line; i += 1) {\n      const line = queryLineElement(anchorPrefix, i)\n      if (line) line.classList.add('highlighted')\n    }\n  } else if (\n    blobRange.start.line === blobRange.end.line &&\n    blobRange.start.column != null &&\n    blobRange.end.column != null\n  ) {\n    const range = DOMRangeFromBlob(blobRange, line => queryLineElement(anchorPrefix, line))\n\n    if (range) {\n      const span = document.createElement('span')\n      span.classList.add('highlighted')\n      surroundContents(range, span)\n    }\n  } else {\n    // TODO column highlights across multiple lines\n  }\n}\n\n// Clear all highlighted lines and ranges.\nfunction clearHighlights() {\n  for (const el of document.querySelectorAll('.js-file-line.highlighted')) {\n    el.classList.remove('highlighted')\n  }\n\n  for (const el of document.querySelectorAll('.js-file-line .highlighted')) {\n    const lineEl = el.closest<HTMLElement>('.js-file-line')!\n    el.replaceWith(...el.childNodes)\n    lineEl.normalize()\n  }\n}\n\n// Highlight and scroll to the lines in the current location hash.\nfunction scrollLinesIntoView(): void {\n  const anchorInfo = parseFileAnchor(window.location.hash)\n\n  highlightLines(anchorInfo)\n  showOrHideLineActions()\n\n  const {blobRange, anchorPrefix} = anchorInfo\n\n  const line = blobRange && queryLineElement(anchorPrefix, blobRange.start.line)\n\n  if (!skipNextScrollTo && line) {\n    line.scrollIntoView()\n    const container = line.closest<HTMLElement>('.blob-wrapper, .js-blob-wrapper')!\n    container.scrollLeft = 0\n  }\n\n  skipNextScrollTo = false\n}\n\n// Update highlighted lines when the page loads and\n// anytime the hash changes.\nhashChange(function () {\n  if (document.querySelector('.js-file-line-container')) {\n    setTimeout(scrollLinesIntoView, 0)\n    const hash = window.location.hash\n    for (const element of document.querySelectorAll('.js-update-url-with-hash')) {\n      if (element instanceof HTMLAnchorElement) {\n        element.hash = hash\n      } else if (element instanceof HTMLFormElement) {\n        const newAction = new URL(element.action, window.location.origin)\n        newAction.hash = hash\n        element.action = newAction.toString()\n      }\n    }\n  }\n})\n\nfunction setCopyLines(lines: NodeListOf<HTMLElement>): void {\n  const lineTextArray: string[] = []\n  for (const line of lines) {\n    lineTextArray.push(line.textContent!)\n  }\n  const button = document.getElementById('js-copy-lines')\n  if (button instanceof ClipboardCopyElement) {\n    // eslint-disable-next-line i18n-text/no-en\n    button.textContent = `Copy ${lines.length === 1 ? 'line' : 'lines'}`\n    button.value = lineTextArray.join('\\n')\n    const gaText = `Blob, copyLines, numLines:${lines.length.toString()}`\n    button.setAttribute('data-ga-click', gaText)\n  }\n}\n\nfunction setPermalink(numLines: number): string | undefined {\n  const permalinkContainer = document.querySelector('.js-permalink-shortcut')\n  if (permalinkContainer instanceof HTMLAnchorElement) {\n    const url = `${permalinkContainer.href}${window.location.hash}`\n    const button = document.getElementById('js-copy-permalink')\n    if (button instanceof ClipboardCopyElement) {\n      button.value = url\n      const gaText = `Blob, copyPermalink, numLines:${numLines.toString()}`\n      button.setAttribute('data-ga-click', gaText)\n    }\n    return url\n  }\n}\n\nfunction setOpenIssueLink(permalink: string, numLines: number) {\n  const newIssueLink = document.getElementById('js-new-issue')\n  if (newIssueLink instanceof HTMLAnchorElement) {\n    if (!newIssueLink.href) return\n    const newIssueUrl = new URL(newIssueLink.href, window.location.origin)\n    const params = new URLSearchParams(newIssueUrl.search.slice(1))\n    params.set('permalink', permalink)\n    newIssueUrl.search = params.toString()\n    newIssueLink.href = newIssueUrl.toString()\n    newIssueLink.setAttribute('data-ga-click', `Blob, newIssue, numLines:${numLines.toString()}`)\n  }\n}\n\nfunction setViewGitBlame(numLines: number): void {\n  const button = document.getElementById('js-view-git-blame')\n  if (!button) return\n  button.setAttribute('data-ga-click', `Blob, viewGitBlame, numLines:${numLines.toString()}`)\n}\n\nfunction showOrHideLineActions(): void {\n  const actions = document.querySelector<HTMLElement>('.js-file-line-actions')\n  if (!actions) return\n\n  const lines = document.querySelectorAll<HTMLElement>('.js-file-line.highlighted')\n  const firstSelected = lines[0]\n\n  if (firstSelected) {\n    setCopyLines(lines)\n    setViewGitBlame(lines.length)\n    const permalink = setPermalink(lines.length)\n    if (permalink) setOpenIssueLink(permalink, lines.length)\n\n    actions.style.top = `${firstSelected.offsetTop - 2}px`\n    /* eslint-disable-next-line github/no-d-none */\n    actions.classList.remove('d-none')\n  } else {\n    /* eslint-disable-next-line github/no-d-none */\n    actions.classList.add('d-none')\n  }\n}\n\n// Prevent scroll position from changing after setting location.hash.\n//\n// callback - Function to preserve scroll position after.\nfunction preserveLineNumberScrollPosition(callback: () => void): void {\n  const scrollTop = window.scrollY\n  skipNextScrollTo = true\n  callback()\n  window.scrollTo(0, scrollTop)\n}\n\n// Clicking line numbers highlights the line\non('click', '.js-line-number', function (event) {\n  const anchorInfo = parseFileAnchor(event.currentTarget.id)\n\n  const {blobRange} = anchorInfo\n\n  const currentLines = parseBlobRange(window.location.hash)\n  if (currentLines && event.shiftKey) {\n    anchorInfo.blobRange = {\n      start: currentLines.start,\n      end: blobRange.end\n    }\n  }\n\n  preserveLineNumberScrollPosition(() => {\n    window.location.hash = formatBlobRangeAnchor(anchorInfo)\n  })\n})\n\n// \"Jump to Line\" modal\non('submit', '.js-jump-to-line-form', function (event) {\n  const field = event.currentTarget.querySelector<HTMLInputElement>('.js-jump-to-line-field')!\n  // Regex removes all characters except integers and dashes (for multi-line case)\n  const strippedField = field.value.replace(/[^\\d-]/g, '')\n  const lineNums = strippedField\n    .split('-')\n    .map(s => parseInt(s, 10))\n    .filter(n => n > 0)\n    .sort((a, b) => a - b)\n  if (lineNums.length) window.location.hash = `L${lineNums.join('-L')}`\n\n  event.preventDefault()\n})\n","// Bulk actions\n//\n// Provides a way to update bulk actions buttons/menus from a fetched url\n// when check boxes are updated.\n//\n//     <div class=\"js-bulk-actions-container\" data-bulk-actions-url=\"/bulk/actions/url\" data-bulk-actions-parameter=\"member_ids\">\n//       <div class=\"js-bulk-actions\">\n//         <!-- buttons/menus to be updated -->\n//       </div>\n//\n//       <div class=\"js-bulk-actions-item\" data-bulk-actions-id=\"1\">\n//         <input type=\"checkbox\" class=\"js-bulk-actions-toggle\">\n//       </div>\n//     </div>\n//\n// If [data-bulk-actions-parameter] is not assigned, `input.js-bulk-actions-toggle`'s name and value will be used instead.\n//\n//     <div class=\"js-bulk-actions-container\" data-bulk-actions-url=\"/bulk/actions/url\">\n//       <div class=\"js-bulk-actions\">\n//         <!-- buttons/menus to be updated -->\n//       </div>\n//\n//       <input type=\"checkbox\" name=\"member_ids[]\" value=\"1\" class=\"js-bulk-actions-toggle\">\n//     </div>\n//\n\nimport {fire, on} from 'delegated-events'\nimport {debounce} from '@github/mini-throttle'\n\n// Get the bulk-actions-url from the container.\nfunction bulkUrl(container: Element): string {\n  const url = new URL(container.getAttribute('data-bulk-actions-url')!, window.location.origin)\n  const params = new URLSearchParams(url.search.slice(1))\n  const name = container.getAttribute('data-bulk-actions-parameter')\n  const checkedItems = Array.from(container.querySelectorAll<HTMLInputElement>('.js-bulk-actions-toggle:checked'))\n  if (name) {\n    const ids = checkedItems\n      .map(el => el.closest<HTMLElement>('.js-bulk-actions-item')!.getAttribute('data-bulk-actions-id')!)\n      .sort()\n    for (const id of ids) {\n      params.append(`${name}[]`, id)\n    }\n  } else {\n    for (const input of checkedItems.sort((a, b) => (a.value > b.value ? 1 : -1))) {\n      params.append(input.name, input.value)\n    }\n  }\n\n  url.search = params.toString()\n  return url.toString()\n}\n\nlet previousController: AbortController | null = null\n// Update the bulk actions container with new HTML fetched from the server.\nasync function updateBulkActions(event: Event) {\n  const container = event.target\n  if (!(container instanceof HTMLElement)) return\n  const actionsContainer = container.querySelector<HTMLElement>('.js-bulk-actions')!\n  const isItemSelected = !!container.querySelector('.js-bulk-actions-toggle:checked')\n\n  previousController?.abort()\n  const {signal} = (previousController = new AbortController())\n  let html = ''\n  try {\n    // TODO: Drop `X-Requested-With` header once controllers are cleaned up of `request.xhr?`\n    const response = await fetch(bulkUrl(container), {signal, headers: {'X-Requested-With': 'XMLHttpRequest'}})\n    if (!response.ok) return\n    html = await response.text()\n  } catch {\n    // Ignore network errors\n  }\n  if (signal.aborted) return\n  if (!html) return\n\n  if (!isItemSelected) {\n    actionsContainer.innerHTML = html\n    toggleMembershipTabs(container)\n  } else {\n    toggleMembershipTabs(container)\n    actionsContainer.innerHTML = html\n  }\n\n  fire(container, 'bulk-actions:updated')\n}\n\n// Toggle the membership tabs based on the amount of checked bulk-actions.\nfunction toggleMembershipTabs(container: HTMLElement) {\n  const membershipTabs = document.querySelector('.js-membership-tabs')\n  if (membershipTabs) {\n    const checked = container.querySelectorAll('.js-bulk-actions-toggle:checked')\n    /* eslint-disable-next-line github/no-d-none */\n    membershipTabs.classList.toggle('d-none', checked.length > 0)\n  }\n}\n\non('change', '.js-bulk-actions-toggle', function (event) {\n  const toggle = event.currentTarget\n  const container = toggle.closest<HTMLElement>('.js-bulk-actions-container')!\n  fire(container, 'bulk-actions:update')\n})\n\non('bulk-actions:update', '.js-bulk-actions-container', debounce(updateBulkActions, 100))\n","let lastActiveElement: Element | null\nlet currentInputIsMouse = false\n\nfunction setClass() {\n  lastActiveElement = document.activeElement\n  if (document.body) {\n    document.body.classList.toggle('intent-mouse', currentInputIsMouse)\n  }\n}\n\n// Use mousedown event to make sure outline is remove for holding and dragging\ndocument.addEventListener(\n  'mousedown',\n  function () {\n    currentInputIsMouse = true\n    if (lastActiveElement === document.activeElement) setClass()\n  },\n  {capture: true}\n)\n\ndocument.addEventListener(\n  'keydown',\n  function () {\n    currentInputIsMouse = false\n  },\n  {capture: true}\n)\n\ndocument.addEventListener('focusin', setClass, {capture: true})\n","import {loaded} from '../document-ready'\nimport {sendStats} from '../stats'\n\ntype Ok<T> = {kind: 'ok'; value: T | null}\ntype Err<E> = {kind: 'err'; value: E}\ntype Result<T, E> = Ok<T> | Err<E>\n\nfunction getLocalJSON<T>(key: string): Result<T, Error> {\n  try {\n    const text = window.localStorage.getItem(key)\n    return {kind: 'ok', value: text ? JSON.parse(text) : null}\n  } catch (e) {\n    return {kind: 'err', value: e}\n  }\n}\n\nfunction setLocalJSON<T>(key: string, value: T): Result<null, Error> {\n  try {\n    window.localStorage.setItem(key, JSON.stringify(value))\n    return {kind: 'ok', value: null}\n  } catch (e) {\n    return {kind: 'err', value: e}\n  }\n}\n\nfunction gatherBundleURLs() {\n  const urls: {[key: string]: string} = {}\n  for (const script of document.getElementsByTagName('script')) {\n    const match = script.src.match(/\\/([\\w-]+)-[0-9a-f]{8,}\\.js$/)\n    if (match) urls[`${match[1]}.js`] = script.src\n  }\n  for (const link of document.getElementsByTagName('link')) {\n    const match = link.href.match(/\\/([\\w-]+)-[0-9a-f]{8,}\\.css$/)\n    if (match) urls[`${match[1]}.css`] = link.href\n  }\n  return urls\n}\n\ntype Bundles = Record<string, string>\n\nfunction report() {\n  const urls = gatherBundleURLs()\n  const read = getLocalJSON<Bundles>('bundle-urls')\n  if (read.kind === 'err') {\n    setLocalJSON('bundle-urls', urls)\n    return\n  }\n  const previousURLs = read.value || {}\n  const downloadedBundles = Object.keys(urls).filter(bundle => previousURLs[bundle] !== urls[bundle])\n  if (downloadedBundles.length) {\n    const write = setLocalJSON('bundle-urls', {...previousURLs, ...urls})\n    if (write.kind === 'ok') {\n      sendStats({downloadedBundles})\n    }\n  }\n}\n\n;(async () => {\n  await loaded\n  window.requestIdleCallback(report)\n})()\n","// Behaviors complementing buttons or minibuttons\n//\n// See also\n//   primer/buttons.scss\n//\n\nimport {fromEvent} from '../subscription'\nimport {observe} from 'selector-observer'\n\nfunction cancelEvent(event: Event) {\n  event.preventDefault()\n  event.stopPropagation()\n}\n\n// Prevent minibutton click if target is disabled\nobserve('a.btn.disabled', {\n  subscribe: el => fromEvent(el, 'click', cancelEvent)\n})\n","import {observe} from 'selector-observer'\nimport subscribe from '@github/check-all'\n\nobserve('.js-check-all-container', {\n  constructor: HTMLElement,\n  subscribe\n})\n","import {deleteCookie, getCookies} from '../cookies'\n\n// This module detects a logout that has just occurred and clears browser data\n// for the origin that might contain sensitive things such as localstorage.\n\n// Set by lib/github/authentication/logout_result.rb on logout\nexport const JustLoggedOutCookieName = 'logout-was-successful'\n\nfunction clearData() {\n  for (const storage of [sessionStorage, localStorage]) {\n    try {\n      storage.clear()\n    } catch {\n      // ignore failure to clear\n    }\n  }\n}\n\nexport function clearDataIfJustLoggedOut() {\n  if (getCookies(JustLoggedOutCookieName).length > 0) {\n    clearData()\n    deleteCookie(JustLoggedOutCookieName)\n  }\n}\n\nclearDataIfJustLoggedOut()\n","import {announceFromElement} from '../aria-live'\nimport {on} from 'delegated-events'\n\nconst duration = 2000\n\non('clipboard-copy', '[data-copy-feedback]', event => {\n  const clipboardCopyElement = event.currentTarget\n  const message = clipboardCopyElement.getAttribute('data-copy-feedback')!\n  const originalLabel = clipboardCopyElement.getAttribute('aria-label')\n  const direction = clipboardCopyElement.getAttribute('data-tooltip-direction') || 's'\n\n  clipboardCopyElement.setAttribute('aria-label', message)\n  clipboardCopyElement.classList.add('tooltipped', `tooltipped-${direction}`)\n  if (!(clipboardCopyElement instanceof HTMLElement)) return\n  announceFromElement(clipboardCopyElement)\n\n  setTimeout(() => {\n    if (originalLabel) {\n      clipboardCopyElement.setAttribute('aria-label', originalLabel)\n    } else {\n      clipboardCopyElement.removeAttribute('aria-label')\n    }\n    clipboardCopyElement.classList.remove('tooltipped', `tooltipped-${direction}`)\n  }, duration)\n})\n\n// Toggle a copy button.\nfunction toggleCopyButton(button: HTMLElement) {\n  const clippyIcon = button.querySelector('.js-clipboard-clippy-icon')\n  const checkIcon = button.querySelector('.js-clipboard-check-icon')\n\n  button.classList.toggle('ClipboardButton--success')\n\n  if (clippyIcon) {\n    /* eslint-disable-next-line github/no-d-none */\n    clippyIcon.classList.toggle('d-none')\n  }\n  if (checkIcon) {\n    /* eslint-disable-next-line github/no-d-none */\n    checkIcon.classList.toggle('d-none')\n  }\n}\n\non('clipboard-copy', '.js-clipboard-copy', function ({currentTarget}) {\n  if (!(currentTarget instanceof HTMLElement)) return\n  toggleCopyButton(currentTarget)\n\n  setTimeout(toggleCopyButton, duration, currentTarget)\n})\n","import {observe} from 'selector-observer'\n\nobserve('.js-file-line-container, .js-code-block-container', {\n  constructor: HTMLElement,\n  subscribe(file) {\n    const popover = document.querySelector('.js-tagsearch-popover') as HTMLElement\n    if (!(popover instanceof HTMLElement))\n      return {\n        unsubscribe() {\n          // Used as a no operation placeholder for unsubscribing if there is no popover.\n        }\n      }\n    const popoverContent = popover.querySelector<HTMLElement>('.js-tagsearch-popover-content')!\n    const popoverHTML = new WeakMap()\n    const wrapCache = new WeakMap()\n\n    let activeToken: Element | undefined\n\n    async function onMouseMove(event: MouseEvent) {\n      const range = matchFromPoint(/\\w+[!?]?/g, event.clientX, event.clientY)\n      if (!range) return\n\n      const rangeElement = range.commonAncestorContainer.parentElement!\n      for (const className of rangeElement.classList) {\n        if (['pl-token', 'pl-c', 'pl-s', 'pl-k'].includes(className)) return\n      }\n\n      if (rangeElement.closest('.js-skip-tagsearch')) {\n        return\n      }\n\n      const text = range.toString()\n      if (!text || text.match(/\\n|\\s|[();&.=\",]/)) return\n\n      let didCheckText = wrapCache.get(rangeElement)\n      if (!didCheckText) {\n        didCheckText = new Set()\n        wrapCache.set(rangeElement, didCheckText)\n      }\n      if (didCheckText.has(text)) return\n      didCheckText.add(text)\n\n      let lang: string | null = popover.getAttribute('data-tagsearch-lang')!\n\n      // Handle Ruby embedded in ERB templates\n      if (lang === 'HTML+ERB') {\n        if (rangeElement.closest('.pl-sre')) {\n          lang = 'Ruby'\n        } else {\n          return\n        }\n      }\n\n      if (file.classList.contains('js-code-block-container')) {\n        lang = getCodeBlockLanguage(rangeElement)\n        // Ignore any requests where the range element is not in a code block\n        // with a supported language\n        if (!lang) return\n      }\n\n      const pos = getRowAndColumn(range)\n      const html = await fetchPopoverContents(popover, text, lang, pos)\n      if (!html) return\n\n      const wrapper = document.createElement('span')\n      wrapper.classList.add('pl-token')\n      wrapper.addEventListener('click', onClick)\n      wrapper.setAttribute('data-hydro-click', popover.getAttribute('data-hydro-click')!)\n      wrapper.setAttribute('data-hydro-click-hmac', popover.getAttribute('data-hydro-click-hmac')!)\n      popoverHTML.set(wrapper, html)\n      range.surroundContents(wrapper)\n    }\n\n    // Ensure popover list is reset to the top.\n    function resetScrollTop() {\n      popoverContent.scrollTop = 0\n    }\n\n    function onClick(event: MouseEvent) {\n      // Ignore clicks with modifier keys\n      if (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey) return\n\n      const target = event.currentTarget as HTMLElement\n\n      if (target === activeToken) {\n        hidePopover()\n      } else {\n        populatePopover(target)\n        showPopover()\n      }\n\n      event.preventDefault()\n    }\n\n    function populatePopover(token: HTMLElement) {\n      if (activeToken) activeToken.classList.remove('active')\n      activeToken = token\n      activeToken.classList.add('active')\n\n      popoverContent.innerHTML = popoverHTML.get(token) || ''\n\n      positionPopover(token)\n    }\n\n    function positionPopover(token: HTMLElement) {\n      const rect = token.getClientRects()[0] || {bottom: 0, left: 0}\n      popover.style.position = 'absolute'\n      popover.style.top = `${window.scrollY + rect.bottom + 7}px`\n      popover.style.left = `${window.scrollX + rect.left}px`\n    }\n\n    function showPopover() {\n      if (!popover.hidden) {\n        // When existing popover is active and user clicks on different symbol, we need to still reset the navigation tabs and scrollTop for the popover's new contents.\n        resetScrollTop()\n        return\n      }\n      popover.hidden = false\n\n      // Setting a scrollTop value only succeeds if the HTML element is visible.\n      resetScrollTop()\n\n      document.addEventListener('click', onDocumentClick)\n      document.addEventListener('keyup', onKeyup)\n      /* eslint-disable-next-line github/prefer-observers */\n      window.addEventListener('resize', onResize)\n    }\n\n    function hidePopover() {\n      if (popover.hidden) return\n      popover.hidden = true\n\n      if (activeToken) activeToken.classList.remove('active')\n      activeToken = undefined\n\n      document.removeEventListener('click', onDocumentClick)\n      document.removeEventListener('keyup', onKeyup)\n      window.removeEventListener('resize', onResize)\n    }\n\n    function onResize() {\n      if (!(activeToken instanceof HTMLElement)) return\n      positionPopover(activeToken)\n    }\n\n    function onDocumentClick(event: MouseEvent) {\n      const {target} = event\n      if (!(target instanceof Node)) return\n\n      if (!popover.contains(target) && !activeToken!.contains(target)) {\n        hidePopover()\n      }\n    }\n\n    function onKeyup(event: KeyboardEvent) {\n      switch (event.key) {\n        case 'Escape':\n          hidePopover()\n          break\n      }\n    }\n\n    file.addEventListener('mousemove', onMouseMove)\n\n    return {\n      unsubscribe() {\n        file.removeEventListener('mousemove', onMouseMove)\n      }\n    }\n  }\n})\n\nasync function fetchPopoverContents(\n  popover: HTMLElement,\n  text: string,\n  lang: string,\n  pos: [number, number]\n): Promise<string> {\n  const urlStr = popover.getAttribute('data-tagsearch-url')!\n  const path = popover.getAttribute('data-tagsearch-path')!\n  const ref = popover.getAttribute('data-tagsearch-ref')!\n\n  const url = new URL(urlStr, window.location.origin)\n  const params = new URLSearchParams()\n  params.set('q', text)\n  params.set('blob_path', path)\n  params.set('ref', ref)\n  params.set('language', lang)\n  params.set('row', pos[0].toString())\n  params.set('col', pos[1].toString())\n  url.search = params.toString()\n\n  const response = await fetch(url.toString(), {\n    headers: {\n      'X-Requested-With': 'XMLHttpRequest'\n    }\n  })\n  if (!response.ok) {\n    return ''\n  }\n  const html = await response.text()\n\n  // Ignore responses with no definitions\n  if (/js-tagsearch-no-definitions/.test(html)) return ''\n\n  return html\n}\n\n// Returns matching text range given screen offsets.\n//\n// Examples\n//\n//   // Find nearest word under mouse cursor\n//   matchFromPoint(/\\w+/g, event.clientX, event.clientY)\n//\n// Returns Range or null if nothing matches position.\nfunction matchFromPoint(regexp: RegExp, x: number, y: number): Range | undefined | null {\n  let textNode: Node | undefined\n  let offset: number | undefined\n\n  if (document.caretPositionFromPoint) {\n    const caret = document.caretPositionFromPoint(x, y)\n    if (caret) {\n      textNode = caret.offsetNode\n      offset = caret.offset\n    }\n  } else if (document.caretRangeFromPoint) {\n    const range = document.caretRangeFromPoint(x, y)\n    if (range) {\n      textNode = range.startContainer\n      offset = range.startOffset\n    }\n  }\n\n  if (!textNode || typeof offset !== 'number' || textNode.nodeType !== Node.TEXT_NODE) return\n\n  const text = textNode.textContent\n  if (!text) return null\n\n  const match = findNearestMatch(text, regexp, offset)\n  if (!match) return null\n\n  const matchedRange = document.createRange()\n  matchedRange.setStart(textNode, match[1])\n  matchedRange.setEnd(textNode, match[2])\n\n  return matchedRange\n}\n\n// Find nearest match in string given a starting offset.\n//\n// Similar to String#scan, but only returns one result around the given offset.\n//\n// Examples\n//\n//   findNearestMatch(\"The quick brown fox jumps over the lazy dog\", /\\w+/g, 1)\n//   // [\"The\", 0, 3]\n//\n//   findNearestMatch(\"The quick brown fox jumps over the lazy dog\", /\\w+/g, 18)\n//   [\"fox\", 16, 19]\n//\n// Return matching string, start and end offsets. Otherwise returns null for no match.\nexport function findNearestMatch(str: string, regexp: RegExp, offset: number): [string, number, number] | null {\n  let m\n  while ((m = regexp.exec(str))) {\n    const len = m.index + m[0].length\n    if (m.index <= offset && offset < len) {\n      return [m[0], m.index, len]\n    }\n  }\n  return null\n}\n\n// Get the language name of the embedded code block that the given element is\n// located in. This will be used for files such as Markdown that can contain\n// nested code blocks in multiple languages.\n//\n// Return language name or null\nfunction getCodeBlockLanguage(element: Element): string | null {\n  // FIXME Use js- class or data attributes for the language lookup/mappings\n  const codeBlockElement = element.closest('.highlight')\n  if (codeBlockElement) {\n    for (const className of codeBlockElement.classList) {\n      switch (className) {\n        case 'highlight-source-go':\n          return 'Go'\n        case 'highlight-source-js':\n          return 'JavaScript'\n        case 'highlight-source-python':\n          return 'Python'\n        case 'highlight-source-ruby':\n          return 'Ruby'\n        case 'highlight-source-ts':\n          return 'TypeScript'\n      }\n    }\n  }\n\n  return null\n}\n\n// Returns a zero-indexed position of the range in utf16 code units.\nexport function getRowAndColumn(range: Range): [number, number] {\n  let node = range.startContainer\n  let offset = range.startOffset\n  for (;;) {\n    let prev = node.previousSibling\n    while (prev) {\n      offset += (prev.textContent || '').length\n      prev = prev.previousSibling\n    }\n    const parent = node.parentElement\n    if (parent) {\n      if (parent.classList.contains('js-file-line')) {\n        const lineNumber = parent.previousElementSibling!\n        if (!lineNumber.classList.contains('js-line-number')) {\n          throw new Error('invariant')\n        }\n        const row = parseInt(lineNumber.getAttribute('data-line-number') || '1', 10)\n        return [row - 1, offset]\n      } else {\n        node = parent\n      }\n    } else {\n      return [0, 0]\n    }\n  }\n}\n","/* eslint @typescript-eslint/no-shadow: off */\n/* eslint eslint-comments/no-use: off */\n/* eslint-disable no-console */\n\nimport {generateOctolyticsId} from './octolytics-tracking'\nimport {getOctolyticsId} from '../octolytics-utils'\n\n// */\n//                                                                      #\n//                   ,,//////,,,                                        #\n//               ,,/////////////,,                                      #\n//             ,////////%%%////////,                                    #\n//           ,/////%%//%%%%/////////,                                   #\n//          ,,////%%%%/%/%//%%////////                                  #\n//         ,,///%/%%%/%%/   ,//////////                                 #\n//        ,///%%%%/%%//      ,%%////////,                               #\n//       ,,///%%%%%%%/         ,/////////,,                             #\n//       ,//%%%//%%%//         ,/%/////////,,                           #\n//      ,//%%%%/%%%//           /%//////////,,                          #\n//       ,//%%/%%%//              ,////////////,                 //     #\n//       ,/%/////,,                  ,//////////,,,,,       ,,,///,     #\n//                                     ,/%%/////////////////,///,,      #\n//                                       ,///%///////////////,,         #\n//                                            ,,//////////,,            #\n//      ____  ____  _____  ____  _    ___  _ _____  _  ____  ____       #\n//     /  _ \\/   _\\/__ __\\/  _ \\/ \\   \\  \\///__ __\\/ \\/   _\\/ ___\\      #\n//     | / \\||  /    / \\  | / \\|| |    \\  /   / \\  | ||  /  |    \\      #\n//     | \\_/||  \\__  | |  | \\_/|| |_/\\ / /    | |  | ||  \\__\\___ |      #\n//     \\____/\\____/  \\_/  \\____/\\____//_/     \\_/  \\_/\\____/\\____/      #\n//                                                                      #\n// */\n//\n// How to use this:\n//\n// A. Set data. You can set it declaratively or imperatively (or both,\n//    with the imperative data taking precedence).\n//\n//    Note that actor is set as one object. The dimensions are also set\n//    as one object that includes all dimension information. So, if you\n//    try to set some actor information imperatively and some\n//    declaratively, you'll end up with only the declaratively-set\n//    information.\n//\n// OPTION 1 (imperative):\n//\n// Include a script like this on your page, substituting the app:\n//\n//     <script language=\"CoffeeScript\">\n//       window._octo ?= []\n//\n//       window._octo.push [\"setHost\", \"collector.githubapp.com\"]\n//\n//       window._octo.push [\"setApp\",  \"aaaaa-bb-cc-dd-eeeee\"]\n//\n//       # If you know who the actor is:\n//       window._octo.push [\"setActor\", {id: 1, hash: \"(see docs for how to do this)\"}]\n//\n//       # If you have dimensions:\n//       window._octo.push [\"addDimensions\", {\"dimension-name\": \"dimensionValue\",\n//         \"other-dimension\": \"other\"}]\n//\n//       # If you have other context:\n//       window._octo.push [\"addContext\", {\"context-name\": [\"a\", \"b\", \"c\"]}]\n//     </script>\n//\n// OPTION 2 (declarative):\n//\n//     <meta name=\"octolytics-host\" content=\"collector.githubapp.com\">\n//\n//     <meta name=\"octolytics-app\" content=\"aaaaa-bb-cc-dd-eeeee\">\n//\n//     <!-- If you know who the actor is: -->\n//     <meta name=\"octolytics-actor-id\" content=\"1\">\n//     <meta name=\"octolytics-actor-hash\" content=\"(see docs)\">\n//\n//     <!-- If you have dimensions: -->\n//     <meta name=\"octolytics-dimension-name\" content=\"dimensionValue\">\n//     <meta name=\"octolytics-dimension-other-name\" content=\"other\">\n//\n//     <!-- If you have context: -->\n//     <meta name=\"octolytics-context-filter_level\" content=\"medium\">\n//\n//\n// B. Tell octolytics to record a page view. You can do this whenever you\n//    have a page view event, including initial page load and ajax/pjax refreshes.\n//\n//     <script language=\"CoffeeScript\">\n//       window._octo ?= []\n//       window._octo.push ['recordPageView']\n//     </script>\n//\n// C. Include a `<script>` tag that links to this file. This can be anywhere, and\n//    the end of the file is a great place to add it.\n//\n//     <script src=\"//collector.githubapp.com/assets/api.js\"></script>\n//\n//\n// Development Note: Changes to this file require the CDN to be purged after\n// deployment. See\n// <https://github.com/github/analytics/blob/master/doc/CollectorJavascript.md>\n// for more details.\n//\n// Development Note: This file is vendored in the github/github repo. You'll need\n// to update it there after making changes in this repository.\n// https://github.com/github/github/blob/master/vendor/assets/javascripts/collector-api.coffee\n\nconst hasProp = {}.hasOwnProperty\n\nconst GitHubAnalytics: Octolytics.GitHubAnalytics = {\n  host: '',\n  type: 'page_view',\n  dimensions: {},\n  measures: {},\n  context: {},\n  actor: {},\n  image: new Image(),\n  performance: {},\n  expectedPerformanceTimingKeys: [\n    'connectEnd',\n    'connectStart',\n    'domComplete',\n    'domContentLoadedEventEnd',\n    'domContentLoadedEventStart',\n    'domInteractive',\n    'domLoading',\n    'domainLookupEnd',\n    'domainLookupStart',\n    'fetchStart',\n    'loadEventEnd',\n    'loadEventStart',\n    'navigationStart',\n    'redirectEnd',\n    'redirectStart',\n    'requestStart',\n    'responseEnd',\n    'responseStart',\n    'secureConnectionStart',\n    'unloadEventEnd',\n    'unloadEventStart'\n  ],\n  recordPageView() {\n    this.applyMetaTags()\n    if (this.app == null) {\n      return false\n    }\n    if (this.host == null) {\n      console && console.warn && console.warn('Host not set, you are doing something wrong')\n      return false\n    }\n    this.image.src = this._src()\n    this._clearPerformance()\n    return true\n  },\n  setHost(host) {\n    this.host = host\n  },\n  setApp(app) {\n    this.app = app\n  },\n  setDimensions(dimensions) {\n    this.dimensions = dimensions\n  },\n  addDimensions(dimensions) {\n    let k: string | null\n    if (this.dimensions == null) {\n      this.dimensions = {}\n    }\n    const results = []\n    for (k in dimensions) {\n      if (!hasProp.call(dimensions, k)) continue\n      const v = dimensions[k]\n      results.push((this.dimensions[k] = v))\n    }\n    return results\n  },\n  setMeasures(measures) {\n    this.measures = measures\n  },\n  addMeasures(measures) {\n    let k\n    if (this.measures == null) {\n      this.measures = {}\n    }\n    const results = []\n    for (k in measures) {\n      if (!hasProp.call(measures, k)) continue\n      const v = measures[k]\n      results.push((this.measures[k] = v))\n    }\n    return results\n  },\n  setContext(context) {\n    this.context = context\n  },\n  addContext(context) {\n    let k: string | null\n    if (this.context == null) {\n      this.context = {}\n    }\n    const results: Octolytics.Context[] = []\n    for (k in context) {\n      if (!hasProp.call(context, k)) continue\n      const v = context[k]\n      results.push((this.context[k] = v))\n    }\n    return results\n  },\n  setActor(actor) {\n    this.actor = actor\n  },\n  push(array) {\n    return this.applyCall(array)\n  },\n  enablePerformance() {\n    this.performance = this._performanceTiming()\n  },\n  _recordSrc(type, dimensions, measures, context) {\n    return `//${this.host}/${this.app}/${type}?${this._queryString(dimensions, measures, context)}`\n  },\n  _src() {\n    return `//${this.host}/${this.app}/${this.type}?${this._queryString()}`\n  },\n  _queryString(dimensions, measures, context) {\n    let key: string | null\n    let value: string | number | null\n\n    const ref = this._params()\n    const paramPieces = []\n    for (key in ref) {\n      value = ref[key]\n      paramPieces.push(`dimensions[${key}]=${value}`)\n    }\n\n    paramPieces.push(this._encodeObject('dimensions', Object.assign({}, this.dimensions, dimensions)))\n    paramPieces.push(this._encodeObject('measures', Object.assign({}, this.measures, measures)))\n    if (this.performance != null) {\n      paramPieces.push(\n        this._encodeObject('measures', {\n          performance_timing: String(this.performance)\n        })\n      )\n    }\n    paramPieces.push(this._encodeObject('context', Object.assign({}, this.context, context)))\n    paramPieces.push(this._actor())\n    paramPieces.push(\n      this._encodeObject('dimensions', {\n        cid: this._clientId()\n      })\n    )\n    return paramPieces.join('&')\n  },\n  _clearPerformance() {\n    this.performance = null\n  },\n  _performanceTiming() {\n    if (\n      window.performance == null ||\n      window.performance.timing == null ||\n      window.performance.timing.navigationStart == null\n    ) {\n      return null\n    }\n\n    const timing: {[key: string]: number} = this.expectedPerformanceTimingKeys.reduce((timing, key) => {\n      const time = window.performance.timing[key]\n      /* eslint-disable-next-line @typescript-eslint/ban-ts-comment */\n      // @ts-ignore needlessly strict compiler error around assigning string subset to string key\n      timing[key] = typeof time == 'number' ? time : 0\n      return timing\n    }, {})\n    const version = 1\n    const measures = []\n    const epoch = timing['navigationStart']\n    for (const key in timing) {\n      const value = timing[key]\n      const measure = value === 0 ? null : value - epoch\n      measures.push(measure)\n    }\n    return `${version}-${measures.join('-')}`\n  },\n  _params() {\n    return {\n      page: this._encode(this._page()),\n      title: this._encode(this._title()),\n      referrer: this._encode(this._referrer()),\n      user_agent: this._encode(this._agent()),\n      screen_resolution: this._encode(this._screenResolution()),\n      pixel_ratio: this._encode(this._pixelRatio()),\n      browser_resolution: this._encode(this._browserResolution()),\n      tz_seconds: this._encode(this._tzSeconds()),\n      timestamp: new Date().getTime()\n    }\n  },\n  _page() {\n    try {\n      const locationOverride = document.querySelector('meta[name=octolytics-location]')\n      if (locationOverride instanceof HTMLMetaElement) {\n        return document.location.origin + locationOverride.content\n      } else {\n        return document.location.href\n      }\n    } catch (error) {\n      // ignore\n    }\n  },\n  _title() {\n    try {\n      return document.title\n    } catch (error) {\n      // ignore\n    }\n  },\n  _referrer() {\n    let referrer = ''\n    try {\n      referrer = window.top.document.referrer\n    } catch (error) {\n      if (window.parent) {\n        try {\n          referrer = window.parent.document.referrer\n        } catch (error) {\n          // ignore\n        }\n      }\n    }\n    if (referrer === '') {\n      referrer = document.referrer\n    }\n    return referrer\n  },\n  _agent() {\n    try {\n      return navigator.userAgent\n    } catch (error) {\n      // ignore\n    }\n  },\n  _screenResolution() {\n    try {\n      return `${screen.width}x${screen.height}`\n    } catch (error) {\n      return 'unknown'\n    }\n  },\n  _pixelRatio() {\n    return window.devicePixelRatio\n  },\n  _browserResolution() {\n    let height = 0\n    let width = 0\n    try {\n      if (typeof window.innerWidth === 'number') {\n        width = window.innerWidth\n        height = window.innerHeight\n      } else if (document.documentElement != null && document.documentElement.clientWidth != null) {\n        width = document.documentElement.clientWidth\n        height = document.documentElement.clientHeight\n      } else if (document.body != null && document.body.clientWidth != null) {\n        width = document.body.clientWidth\n        height = document.body.clientHeight\n      }\n      return `${width}x${height}`\n    } catch (error) {\n      return 'unknown'\n    }\n  },\n  _tzSeconds() {\n    try {\n      return new Date().getTimezoneOffset() * -60\n    } catch (error) {\n      return ''\n    }\n  },\n  _encodeObject(key, object) {\n    const pieces = []\n    if (Array.isArray(object)) {\n      for (const item of object) {\n        pieces.push(this._encodeObject(`${key}[]`, item))\n      }\n    } else if (typeof object === 'object') {\n      for (const subkey in object) {\n        pieces.push(this._encodeObject(`${key}[${subkey}]`, object[subkey]))\n      }\n    } else {\n      pieces.push(`${key}=${this._encode(object)}`)\n    }\n    return pieces.join('&')\n  },\n  _actor() {\n    let j\n    let key\n    let len\n    const actorPieces = []\n    const ref = this.actor\n    for (key in ref) {\n      const value = ref[key]\n      const actorKey = `dimensions[actor_${key}]`\n      if (Array.isArray(value)) {\n        for (j = 0, len = value.length; j < len; j++) {\n          const item = value[j]\n          actorPieces.push(`${actorKey}[]=${this._encode(item)}`)\n        }\n      } else {\n        actorPieces.push(`${actorKey}=${this._encode(value)}`)\n      }\n    }\n    return actorPieces.join('&')\n  },\n  _clientId() {\n    let clientId = getOctolyticsId()\n    if (clientId === '') {\n      clientId = generateOctolyticsId()\n    }\n    return clientId\n  },\n  _encode(string) {\n    if (string != null) {\n      return window.encodeURIComponent(string)\n    } else {\n      return ''\n    }\n  },\n  applyQueuedCalls(calls) {\n    const results = []\n    for (const call of calls) {\n      results.push(this.applyCall(call))\n    }\n    return results\n  },\n  applyCall(array) {\n    const name = array[0]\n    const args = array.slice(1)\n    if (typeof this[name] === 'function') {\n      /* eslint-disable-next-line @typescript-eslint/ban-ts-comment */\n      // @ts-ignore this is a dynamic function call with variadic arguments, TS doesn't like this\n      return this[name](...args)\n    } else {\n      return console && console.warn && console.warn(`${name} is not a valid method`)\n    }\n  },\n  applyMetaTags() {\n    const data = this.loadMetaTags()\n    if (data.host) {\n      this.setHost(data.host)\n    }\n    if (data.app) {\n      this.setApp(data.app)\n    }\n    if (!this._objectIsEmpty(data.actor)) {\n      this.setActor(data.actor)\n    }\n    this.addDimensions(data.dimensions)\n    this.addMeasures(data.measures)\n    return this.addContext(data.context)\n  },\n  loadMetaTags() {\n    let j: number | null\n    let len: number | null\n\n    const result: Octolytics.MetaPayload = {\n      dimensions: {},\n      measures: {},\n      context: {},\n      actor: {}\n    }\n\n    const ref = document.getElementsByTagName('meta')\n    for (j = 0, len = ref.length; j < len; j++) {\n      const meta = ref[j]\n      if (meta.name && meta.content) {\n        const nameParts = meta.name.match(this.octolyticsMetaTagName)\n        if (nameParts) {\n          switch (nameParts[1]) {\n            case 'host':\n              result.host = meta.content\n              break\n            case 'app-id':\n              result.app = meta.content\n              break\n            case 'app':\n              result.app = meta.content\n              break\n            case 'dimension':\n              this._addField(result.dimensions, nameParts[2], meta)\n              break\n            case 'measure':\n              this._addField(result.measures, nameParts[2], meta)\n              break\n            case 'context':\n              this._addField(result.context, nameParts[2], meta)\n              break\n            case 'actor':\n              this._addField(result.actor, nameParts[2], meta)\n          }\n        }\n      }\n    }\n\n    const visitorMeta = document.querySelector('meta[name=visitor-payload]')\n    if (visitorMeta instanceof HTMLMetaElement) {\n      const visitorHash = JSON.parse(atob(visitorMeta.content))\n      this.addDimensions(visitorHash)\n    }\n    return result\n  },\n  _addField(target, fieldName, metaTag) {\n    target[fieldName] = metaTag.content\n  },\n  _objectIsEmpty(obj) {\n    let k: string | null\n    for (k in obj) {\n      if (!hasProp.call(obj, k)) continue\n      return false\n    }\n    return true\n  },\n  octolyticsMetaTagName: /^octolytics-(host|app-id|app|dimension|measure|context|actor)-?(.*)/\n}\n\nif (window._octo) {\n  if (window._octo.slice) {\n    const queuedFunctionCalls = window._octo.slice(0)\n    window._octo = GitHubAnalytics\n    window._octo.applyQueuedCalls(queuedFunctionCalls)\n  }\n} else {\n  window._octo = GitHubAnalytics\n}\n","import {\n  ColorMode,\n  getActualClientColorMode,\n  getClientMode,\n  getPreferredColorMode,\n  oppositeColorMode,\n  setClientMode\n} from '../color-modes'\nimport {on} from 'delegated-events'\nimport {onKey} from '../onfocus'\nimport {ready} from '../document-ready'\n\n// Universe 2020 promo banner\n// ========================================================\n\n// If the user's color mode is set to \"auto\", we don't actually\n// know if the page is in dark mode until the document loads.\n;(async function setupPromoForAutoColorMode() {\n  await ready\n\n  const promoCheck = document.querySelector('.js-promo-color-modes-toggle')\n  if (promoCheck && getClientMode() === 'auto') {\n    const currentColorMode = getActualClientColorMode()\n    if (currentColorMode === 'dark') {\n      promoCheck.setAttribute('aria-checked', 'true')\n    }\n  }\n})()\n\n// If the user's color mode is set to unset\n// and they have prefers dark mode for OS setting. We want to show\n// the header banner. https://github.com/github/design-systems/issues/1325#issuecomment-804207193\n;(async function setupHeaderPromoForUnsetColorMode() {\n  await ready\n\n  const promoCheck = document.querySelector<HTMLElement>('.js-header-color-modes-promo')\n  const hidePromo = document.querySelector('.js-header-promo-hide')\n  if (promoCheck && getPreferredColorMode() === 'dark' && hidePromo === null) {\n    promoCheck.hidden = false\n  }\n})()\n\n// Toggle\n\nfunction togglePromoColorModes(el: Element) {\n  const checked = el.getAttribute('aria-checked') === 'true'\n  let targetChecked = true\n  let targetColorMode: ColorMode = 'dark'\n\n  if (checked) {\n    targetChecked = false\n    targetColorMode = 'light'\n  }\n\n  el.setAttribute('aria-checked', String(targetChecked))\n  setClientMode(targetColorMode)\n\n  const popover = document.querySelector('.js-promo-color-modes-banner-popover')\n  if (popover && targetColorMode === 'dark') {\n    setTimeout(() => {\n      popover.removeAttribute('hidden')\n      setTimeout(() => popover.classList.add('shown'), 100)\n    }, 3500)\n  }\n\n  // prevent animations on initial load\n  const profileBanner = document.querySelector('.js-promo-color-modes-banner-profile.isInitialToggle')\n  if (profileBanner) {\n    profileBanner.classList.remove('isInitialToggle')\n  }\n\n  const form = document.querySelector<HTMLFormElement>('.js-promo-color-modes-form')!\n  const formData = new FormData(form)\n  formData.set('color_mode', targetColorMode)\n\n  fetch(form.action, {\n    method: form.method,\n    body: formData,\n    headers: {'X-Requested-With': 'XMLHttpRequest'}\n  })\n}\n\non('submit', '.profile-color-modes .js-notice-dismiss', () => {\n  const popover = document.querySelector('.js-promo-color-modes-banner-popover')\n  if (popover) {\n    popover.classList.remove('shown')\n  }\n})\n\non('click', '.js-promo-color-modes-toggle', event => {\n  const el = event.currentTarget!\n  togglePromoColorModes(el)\n})\n\nonKey('keydown', '.js-promo-color-modes-toggle', event => {\n  if (event.code === 'Space' || event.code === 'Enter') {\n    event.preventDefault()\n    const el = event.currentTarget as Element\n    togglePromoColorModes(el)\n  }\n})\n\non('submit', '.js-color-mode-keyboard-toggle', async event => {\n  event.preventDefault()\n\n  const colorMode = getActualClientColorMode()\n  if (!colorMode) {\n    return\n  }\n\n  const form = event.currentTarget as HTMLFormElement\n  const formData = new FormData(form)\n\n  if (!formData.has('color_mode')) {\n    const newColorMode = oppositeColorMode(colorMode)\n    setClientMode(newColorMode)\n\n    formData.set('color_mode', newColorMode)\n  } else {\n    setClientMode('auto')\n  }\n\n  fetch(form.action, {\n    method: form.method,\n    body: formData,\n    headers: {'X-Requested-With': 'XMLHttpRequest'}\n  })\n})\n\non(\n  'toggle',\n  '.js-header-promo-toggle',\n  event => {\n    const headerPromo = document.querySelector<HTMLElement>('.js-header-color-modes-promo')\n    const detailElement = event.target as HTMLDetailsElement\n    const hidePromo = document.querySelector('.js-header-promo-hide')\n    if (headerPromo && detailElement && hidePromo === null) {\n      headerPromo.hidden = detailElement.open\n    }\n  },\n  {capture: true}\n)\n\n// GA Banner\n\non('click', '.js-profile-color-modes-ga', event => {\n  const el = event.currentTarget!\n  el.classList.add('isActive')\n})\n\non('click', '.js-profile-color-modes-ga-submit', () => {\n  const el = document.querySelector('.js-profile-color-modes-ga')\n  if (el) {\n    el.classList.remove('isActive')\n    el.classList.add('isHidden')\n  }\n})\n","// Commenting: AJAX form submission\n//\n// Markup\n//\n//     <form class=\"js-new-comment-form\">\n//       <div class=\"js-comment-form-error\" hidden>\n//       </div>\n//\n//       <textarea class=\"js-comment-field\"></textarea>\n//\n//       <button type=\"submit\">\n//         Comment\n//       </button>\n//     </form>\n//\n// Primer Validation example:\n// see: https://primer.style/css/components/forms#form-group-validation\n//\n//   <form class=\"js-new-comment-form\">\n//     <div class=\"form-group js-remove-error-state-on-click\">\n//       <textarea class=\"js-comment-field\" aria-describedby=\"body-input-validation\",\n//       </textarea>\n//\n//       <p class=\"note error js-comment-form-error\" id=\"body-input-validation\" hidden></p>\n//\n//       <button type=\"submit\">\n//         Comment\n//       </button>\n//     </div>\n//   </form>\n\nimport {fire, on} from 'delegated-events'\nimport type {ErrorWithResponse} from '@github/remote-form'\nimport {changeValue} from '../../form'\nimport {remoteForm} from '@github/remote-form'\nimport {replaceContent} from '../../updatable-content'\n\n// Hide any comment errors on retry.\nfunction clearFormError(form: Element) {\n  const formError = form.querySelector('.js-comment-form-error')\n  if (formError instanceof HTMLElement) {\n    formError.hidden = true\n  }\n}\n\n// Remove error state when Primer Form Validation enabled field is clicked on\non('click', '.errored.js-remove-error-state-on-click', function ({currentTarget}) {\n  currentTarget.classList.remove('errored')\n})\n\n// Reset form after AJAX request is successful\nremoteForm('.js-new-comment-form', async function (form, wants) {\n  let response\n  clearFormError(form)\n  try {\n    response = await wants.json()\n  } catch (error) {\n    handleFormError(form, error)\n  }\n\n  if (!response) {\n    return\n  }\n\n  form.reset()\n  for (const field of form.querySelectorAll<HTMLInputElement>('.js-resettable-field')) {\n    changeValue(field, field.getAttribute('data-reset-value') || '')\n  }\n  const writeTab = form.querySelector('.js-write-tab')\n  if (writeTab instanceof HTMLElement) {\n    writeTab.click()\n  }\n  const ref = response.json.updateContent\n\n  for (const selector in ref) {\n    const html = ref[selector]\n    const el = document.querySelector(selector)\n    if (el instanceof HTMLElement) {\n      replaceContent(el, html)\n    } else {\n      // eslint-disable-next-line no-console\n      console.warn(`couldn't find ${selector} for immediate update`)\n    }\n  }\n\n  fire(form, 'comment:success')\n})\n\n// Show comment error if ajax request fails.\nfunction handleFormError(form: Element, error: ErrorWithResponse) {\n  // eslint-disable-next-line i18n-text/no-en\n  let message = \"You can't comment at this time\"\n  if (error.response && error.response.status === 422) {\n    const data = error.response.json\n    if (data.errors) {\n      if (Array.isArray(data.errors)) {\n        message += `  your comment ${data.errors.join(', ')}`\n      } else {\n        message = data.errors\n      }\n    }\n  }\n\n  message += '. '\n\n  const formError = form.querySelector('.js-comment-form-error')\n  if (formError instanceof HTMLElement) {\n    formError.textContent = message\n    formError.hidden = false\n\n    const formGroupValidationFormWrapper = formError.closest('div.form-group.js-remove-error-state-on-click')\n\n    if (formGroupValidationFormWrapper) {\n      formGroupValidationFormWrapper.classList.add('errored')\n    }\n  }\n}\n","// Commenting: Focus CSS hacks\n//\n// Bubbles js-comment-field focus state up to js-write-bucket.\n//\n// So we can have a focused ring around the drag and drop section.\n//\n// TODO: `focused` class should be `is-focused`\n\nimport {onFocus} from '../../onfocus'\n\n// Sync focused class.\nfunction toggleFocus(el: Element, focused: boolean) {\n  const container = el.closest('.js-write-bucket')\n  if (container) {\n    container.classList.toggle('focused', focused)\n  }\n}\n\n// Clean up focused class on blur.\nfunction blurred(event: Event) {\n  const el = event.currentTarget\n  if (el instanceof Element) {\n    toggleFocus(el, false)\n  }\n}\n\nonFocus('.js-comment-field', function (el) {\n  toggleFocus(el, true)\n  el.addEventListener('blur', blurred, {once: true})\n})\n","// Commenting: Close button\n//\n// When comment fields also have a \"Close\" button, update the copy of the\n// button when text is present to indicate that the form will both post a\n// comment and close the discussion.\n//\n// Markup\n//\n//     <form>\n//       <textarea class=\"js-comment-field\"></textarea>\n//       <div>\n//         <button type=\"submit\">Comment</button>\n//         <button type=\"submit\" class=\"js-comment-and-button\"\n//           data-comment-text=\"Close with comment\">\n//           Close\n//         </button>\n//       </div>\n//     </form>\n\nimport {observe} from 'selector-observer'\n\nconst setButtonText = (button: HTMLButtonElement, hasValue: boolean) => {\n  const spanText = button.querySelector('.js-form-action-text')\n  const textTarget = spanText ? spanText : button\n  textTarget.textContent = hasValue\n    ? button.getAttribute('data-comment-text')!\n    : textTarget.getAttribute('data-default-action-text')!\n}\n\nconst createInputHandler = (button: HTMLButtonElement): ((event: Event) => void) => {\n  let previousHasValue: string\n\n  // Handle input.\n  return (event: Event) => {\n    const target = event.currentTarget\n    const newValue = (target as HTMLInputElement).value.trim()\n\n    if (newValue !== previousHasValue) {\n      previousHasValue = newValue\n      setButtonText(button, Boolean(newValue))\n    }\n  }\n}\n\nobserve('.js-comment-and-button', {\n  constructor: HTMLButtonElement,\n  initialize(button) {\n    const commentField = button.form!.querySelector<HTMLElement>('.js-comment-field')!\n    const handleInput = createInputHandler(button)\n\n    return {\n      add() {\n        commentField.addEventListener('input', handleInput)\n        commentField.addEventListener('change', handleInput)\n      },\n      remove() {\n        commentField.removeEventListener('input', handleInput)\n        commentField.removeEventListener('change', handleInput)\n      }\n    }\n  }\n})\n","// Scan an ArrayBuffer as PNG, yielding each chunk along the way.\n//\n// Example:\n//\n//   scanner = new PNGScanner buffer\n//   scanner.scan (chunkType, chunkLength) ->\n//     if chunkType is \"IHDR\"\n//       imageWidth = @readLong()\n//       imageHeight = @readLong()\n//\n// The callback will get called for each PNG chunk as described in\n// http://www.w3.org/TR/PNG/#11Chunks. During the callback, the scanner will be\n// positioned on the start of chunk's data portion, where individual values are\n// accessible with:\n//\n// - readChar(): reads 1-byte value (uint8)\n// - readShort(): reads 2-byte value (uint16)\n// - readLong(): reads 4-byte value (uint32)\n// - readString(length): reads <length> ASCII characters as a string\n// - advance(bytes): skips <bytes> bytes forward\n//\n// Scanning will end if the callback returns `false` at any point.\n\nconst PNG_HEADER = 0x89504e47\nconst CRC_WIDTH = 4\n\nexport default class PNGScanner {\n  dataview: DataView\n  pos: number\n\n  static fromFile(file: Blob): Promise<PNGScanner> {\n    return new Promise(function (resolve, reject) {\n      const reader = new FileReader()\n      reader.onload = function () {\n        resolve(new PNGScanner(reader.result as ArrayBuffer))\n      }\n      reader.onerror = function () {\n        reject(reader.error)\n      }\n      reader.readAsArrayBuffer(file)\n    })\n  }\n\n  constructor(buffer: ArrayBuffer) {\n    this.dataview = new DataView(buffer)\n    this.pos = 0\n  }\n\n  advance(bytes: number) {\n    this.pos += bytes\n  }\n\n  readInt(bytes: 1 | 2 | 4) {\n    /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n    const self = this\n\n    // I want the do { } syntax *so* bad.\n    const value = (function () {\n      switch (bytes) {\n        case 1:\n          return self.dataview.getUint8(self.pos)\n        case 2:\n          return self.dataview.getUint16(self.pos)\n        case 4:\n          return self.dataview.getUint32(self.pos)\n        default:\n          // I shouldn't need this, but flow can't figure out that all values of bytes are handled by the above switch\n          throw new Error('bytes parameter must be 1, 2 or 4')\n      }\n    })()\n    this.advance(bytes)\n    return value\n  }\n\n  readChar() {\n    return this.readInt(1)\n  }\n\n  readShort() {\n    return this.readInt(2)\n  }\n\n  readLong() {\n    return this.readInt(4)\n  }\n\n  readString(length: number): string {\n    const buf = []\n    for (let i = 0; i < length; i++) {\n      buf.push(String.fromCharCode(this.readChar()))\n    }\n    return buf.join('')\n  }\n\n  scan(fn: (this: PNGScanner, type: string, len: number) => boolean) {\n    if (this.readLong() !== PNG_HEADER) {\n      throw new Error('invalid PNG')\n    }\n\n    this.advance(4)\n\n    for (;;) {\n      const len = this.readLong()\n      const type = this.readString(4)\n      const resumeAt = this.pos + len + CRC_WIDTH\n      if (fn.call(this, type, len) === false || type === 'IEND') {\n        break\n      }\n      this.pos = resumeAt\n    }\n  }\n}\n","import {insertText, replaceText} from '../../text'\n\nimport type {Attachment} from '@github/file-attachment-element'\nimport type {ImageDimensions} from '../../image-dimensions'\nimport {getCodeEditor} from '../../code-editor'\nimport imageDimensions from '../../image-dimensions'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\nimport subscribe from '@github/paste-markdown'\n\nobserve('.js-paste-markdown', {constructor: HTMLElement, subscribe})\n\n// Based off `isImage` from @github/file-attachment-element\n// Eventually, we should upstream this\nfunction isVideo(attachment: Attachment): boolean {\n  return ['video/mp4', 'video/quicktime'].includes(attachment.file.type)\n}\n\nfunction parameterizeName(name: string): string {\n  return name\n    .replace(/[[\\]\\\\\"<>&]/g, '.') // Convert unwanted chars to separator\n    .replace(/\\.{2,}/g, '.') // No more than 1 separator in a row\n    .replace(/^\\.|\\.$/gi, '') // Remove leading/trailing separator\n}\n\n// Returns an uploading status message while the file is uploading. The\n// placeholder will be replaced with a URL to the image once the upload\n// is complete.\nfunction placeholderText(attachment: Attachment): string {\n  // Video uploads do not include braces around the text\n  if (isVideo(attachment)) return `\\nUploading ${attachment.file.name}\\n`\n\n  const prefix = attachment.isImage() ? '!' : ''\n  return `${prefix}[Uploading ${attachment.file.name}]()`\n}\n\n// Strips non-word characters from a file name so it's safe to use in a\n// markdown image alt tag without needing to be escaped.\nfunction altText(name: string): string {\n  return parameterizeName(name)\n    .replace(/\\.[^.]+$/, '') // Strip file extension\n    .replace(/\\./g, ' ') // Bring back some white space\n}\n\nconst RETINA_PPI = 72 * 2\n\non('upload:setup', '.js-upload-markdown-image', function (event) {\n  setValidityAndLinkText('uploading', '', event)\n})\n\non('upload:complete', '.js-upload-markdown-image', async function (event) {\n  const {attachment} = event.detail\n  const target = event.currentTarget\n  let href\n  if (attachment.isImage()) {\n    href = await imageHref(attachment)\n  } else if (isVideo(attachment)) {\n    href = videoMarkdown(attachment)\n  } else {\n    href = mdLink(attachment)\n  }\n  setValidityAndLinkText('', href, event, target)\n})\n\nfunction mdLink(attachment: Attachment): string {\n  return `[${attachment.file.name}](${attachment.href})`\n}\n\nfunction videoMarkdown(attachment: Attachment): string {\n  return `\\n${attachment.href!}\\n`\n}\n\nasync function imageHref(attachment: Attachment): Promise<string> {\n  const dimensions = await imageSize(attachment.file)\n  const alt = altText(attachment.file.name)\n  const src = attachment.href\n  if (dimensions.ppi === RETINA_PPI) {\n    const width = Math.round(dimensions.width / 2)\n    // eslint-disable-next-line github/unescaped-html-literal\n    return `<img width=\"${width}\" alt=\"${alt}\" src=\"${src}\">`\n  }\n  return `![${alt}](${src})`\n}\n\nasync function imageSize(file: File): Promise<ImageDimensions> {\n  const empty = {width: 0, height: 0, ppi: 0}\n  try {\n    return (await imageDimensions(file)) ?? empty\n  } catch {\n    return empty\n  }\n}\n\non('upload:error', '.js-upload-markdown-image', function (event) {\n  setValidityAndLinkText('', '', event)\n})\n\non('upload:invalid', '.js-upload-markdown-image', function (event) {\n  setValidityAndLinkText('', '', event)\n})\n\n// Updates text inserted in editor for dropped assets, be it a regular editor\n// (textarea) or a code editor (CodeMirror) editing a Markdown file\n//\n// If validty is 'uploading', inserts \"[Uploading asset-name](...)\" at cursor,\n// otherwise replace that placeholder with href\n//\n// target is only required if event.currentTarget is lost (e.g., after await)\nfunction setValidityAndLinkText(\n  validity: string,\n  href: string,\n  event: CustomEvent & {currentTarget: Element},\n  target?: EventTarget & Element\n) {\n  const field = (target || event.currentTarget).querySelector<HTMLTextAreaElement>('.js-comment-field')!\n  const placeholder = placeholderText(event.detail.attachment)\n  if (field) {\n    // Regular text editor\n    field.setCustomValidity(validity)\n    if (validity === 'uploading') {\n      insertText(field, `${placeholder}\\n`)\n    } else {\n      replaceText(field, placeholder, href)\n    }\n  } else {\n    // CodeMirror (code editor)\n    const editor = getCodeEditor(\n      (target || event.currentTarget).querySelector<HTMLTextAreaElement>('.js-code-editor')!\n    )!.editor!\n    if (validity === 'uploading') {\n      const cursor = editor.getCursor()\n      editor.replaceRange(`${placeholder}\\n`, cursor)\n    } else {\n      const cursor = editor.getSearchCursor(placeholder)\n      cursor.findNext()\n      cursor.replace(href)\n    }\n  }\n}\n","// Commenting: Write and Preview tabs\n//\n// Markup\n//\n//     <form class=\"js-new-comment-form\">\n//       <div class=\"js-previewable-comment-form write-selected\"\n//           data-preview-url=\"/preview\">\n//\n//         <ul>\n//           <li><a href=\"#\" class=\"js-write-tab selected\">Write</a></li>\n//           <li><a href=\"#\" class=\"js-preview-tab\">Preview</a></li>\n//         </ul>\n//\n//         <textarea class=\"js-comment-field\"></textarea>\n//\n//       </div>\n//     </form>\n//\n// TODO: Everything should be using js- prefixed classes\n// TODO: Remove all static copy\n\nimport {fire, on} from 'delegated-events'\nimport TabContainerElement from '@github/tab-container-element'\nimport memoize from '@github/memoize'\nimport {observe} from 'selector-observer'\nimport {onKey} from '../../onfocus'\n\n// Finds the CSRF token value in a `js-data-preview-url-csrf` hidden input\n// element in the preview div. If we don't find a token for the preview\n// div, find the CSRF token value in the hidden `authenticity_token` form\n// input to be used in the parent form submission (i.e. the form that this is\n// previewing).\n//\n// Returns the CSRF token String.\nfunction token(container: Element): string {\n  const dataToken = container.querySelector('.js-data-preview-url-csrf')\n  // eslint-disable-next-line github/authenticity-token\n  const formTokenRef = container.closest<HTMLFormElement>('form')!.elements.namedItem('authenticity_token')\n  if (dataToken instanceof HTMLInputElement) {\n    return dataToken.value\n  } else if (formTokenRef instanceof HTMLInputElement) {\n    return formTokenRef.value\n  } else {\n    throw new Error('Comment preview authenticity token not found')\n  }\n}\n\n// Bidirectionally switches between \"Write\" and \"Preview\" tabs.\nfunction activateTab(tab: Element): HTMLElement {\n  const container = tab.closest<HTMLElement>('.js-previewable-comment-form')!\n  const isPreview = tab.classList.contains('js-preview-tab')\n  if (isPreview) {\n    const writeContent = container.querySelector<HTMLElement>('.js-write-bucket')!\n    const previewBody = container.querySelector<HTMLElement>('.js-preview-body')!\n    if (writeContent.clientHeight > 0) {\n      previewBody.style.minHeight = `${writeContent.clientHeight}px`\n    }\n  }\n  container.classList.toggle('preview-selected', isPreview)\n  container.classList.toggle('write-selected', !isPreview)\n  const currentSelectedTabs = container.querySelector<HTMLElement>(\n    '.tabnav-tab.selected, .tabnav-tab[aria-selected=\"true\"]'\n  )!\n  currentSelectedTabs.setAttribute('aria-selected', 'false')\n  currentSelectedTabs.classList.remove('selected')\n  tab.classList.add('selected')\n  tab.setAttribute('aria-selected', 'true')\n  const writeTab = container.querySelector<HTMLElement>('.js-write-tab')!\n  if (isPreview) {\n    // On Apple devices, the Meta (Cmd)+Shift plane is in lower case. So\n    // Cmd+Shift+p is correct, while `Control+P` is also correct.\n    writeTab.setAttribute('data-hotkey', 'Control+P,Meta+Shift+p')\n  } else {\n    writeTab.removeAttribute('data-hotkey')\n  }\n  return container\n}\n\non('click', '.js-write-tab', function (event) {\n  const target = event.currentTarget\n  const commentForm = target.closest<HTMLElement>('.js-previewable-comment-form')!\n  // <tab-container> changes are handled in the `tab-container-change` event handler\n  if (commentForm instanceof TabContainerElement) {\n    setTimeout(() => {\n      commentForm.querySelector<HTMLElement>('.js-comment-field')!.focus()\n    })\n    return\n  }\n\n  const container = activateTab(target)\n  setTimeout(() => {\n    container.querySelector<HTMLElement>('.js-comment-field')!.focus()\n  })\n  const toolbar = commentForm.querySelector('markdown-toolbar')\n  if (toolbar instanceof HTMLElement) {\n    toolbar.hidden = false\n  }\n})\n\non('click', '.js-preview-tab', function (event) {\n  const target = event.currentTarget\n  const commentForm = target.closest<HTMLElement>('.js-previewable-comment-form')!\n  // <tab-container> changes are handled in the `tab-container-change` event handler\n  if (commentForm instanceof TabContainerElement) return\n\n  const container = activateTab(target)\n  setTimeout(() => {\n    renderPreview(container)\n  })\n  const toolbar = commentForm.querySelector('markdown-toolbar')\n  if (toolbar instanceof HTMLElement) {\n    toolbar.hidden = true\n  }\n  event.stopPropagation()\n  event.preventDefault()\n})\n\non('tab-container-change', '.js-previewable-comment-form', function (event) {\n  const isPreviewPanel = event.detail.relatedTarget.classList.contains('js-preview-panel')\n  const container = event.currentTarget\n  const writeTab = container.querySelector<HTMLElement>('.js-write-tab')!\n\n  if (isPreviewPanel) {\n    const writeContent = container.querySelector<HTMLElement>('.js-write-bucket')!\n    const previewBody = container.querySelector<HTMLElement>('.js-preview-body')!\n    const skipSizing = previewBody.hasAttribute('data-skip-sizing')\n\n    if (!skipSizing && writeContent.clientHeight > 0) {\n      previewBody.style.minHeight = `${writeContent.clientHeight}px`\n    }\n\n    writeTab.setAttribute('data-hotkey', 'Control+P,Meta+Shift+p')\n    renderPreview(container)\n    const toolbar = container.querySelector('markdown-toolbar')\n    if (toolbar instanceof HTMLElement) {\n      toolbar.hidden = true\n    }\n  } else {\n    writeTab.removeAttribute('data-hotkey')\n    const toolbar = container.querySelector('markdown-toolbar')\n    if (toolbar instanceof HTMLElement) {\n      toolbar.hidden = false\n    }\n  }\n\n  container.classList.toggle('preview-selected', isPreviewPanel)\n  container.classList.toggle('write-selected', !isPreviewPanel)\n})\n\n// Allow triggering preview rendering from outside code\n// TODO Replace event with exported module function.\non('preview:render', '.js-previewable-comment-form', function (event) {\n  const previewTab = (event.target as Element).querySelector<HTMLElement>('.js-preview-tab')!\n  const container = activateTab(previewTab)\n  setTimeout(() => {\n    renderPreview(container)\n    const toolbar = container.querySelector('markdown-toolbar')\n    if (toolbar instanceof HTMLElement) {\n      toolbar.hidden = true\n    }\n  })\n})\n\nfunction previewForm(container: Element): FormData {\n  const text = container.querySelector<HTMLTextAreaElement>('.js-comment-field')!.value\n  const path = container.querySelector<HTMLInputElement>('.js-path')?.value\n  const lineNumber = container.querySelector<HTMLInputElement>('.js-line-number')?.value\n  const startLineNumber = container.querySelector<HTMLInputElement>('.js-start-line-number')?.value\n  const side = container.querySelector<HTMLInputElement>('.js-side')?.value\n  const startSide = container.querySelector<HTMLInputElement>('.js-start-side')?.value\n  const startCommitOid = container.querySelector<HTMLInputElement>('.js-start-commit-oid')?.value\n  const endCommitOid = container.querySelector<HTMLInputElement>('.js-end-commit-oid')?.value\n  const baseCommitOid = container.querySelector<HTMLInputElement>('.js-base-commit-oid')?.value\n  const commentId = container.querySelector<HTMLInputElement>('.js-comment-id')?.value\n\n  const form = new FormData()\n  form.append('text', text)\n  // eslint-disable-next-line github/authenticity-token\n  form.append('authenticity_token', token(container))\n  if (path) form.append('path', path)\n  if (lineNumber) form.append('line_number', lineNumber)\n  if (startLineNumber) form.append('start_line_number', startLineNumber)\n  if (side) form.append('side', side)\n  if (startSide) form.append('start_side', startSide)\n  if (startCommitOid) form.append('start_commit_oid', startCommitOid)\n  if (endCommitOid) form.append('end_commit_oid', endCommitOid)\n  if (baseCommitOid) form.append('base_commit_oid', baseCommitOid)\n  if (commentId) form.append('comment_id', commentId)\n  return form\n}\n\nfunction fetchPreview(container: Element): Promise<string> {\n  const url = container.getAttribute('data-preview-url')!\n  const data = previewForm(container)\n  fire(container, 'preview:setup', {data})\n  return cachedFetch(url, data)\n}\n\nconst cachedFetch = memoize(uncachedFetch, {hash})\nlet previousController: AbortController | null = null\nasync function uncachedFetch(url: string, body: FormData): Promise<string> {\n  previousController?.abort()\n  const {signal} = (previousController = new AbortController())\n  const response = await fetch(url, {method: 'post', body, signal})\n  if (!response.ok) throw new Error('something went wrong')\n  return response.text()\n}\n\nfunction hash(url: string, body: FormData): string {\n  const params = [...body.entries()].toString()\n  return `${url}:${params}`\n}\n\nasync function renderPreview(container: Element) {\n  const commentBody = container.querySelector<HTMLElement>('.comment-body')!\n\n  // eslint-disable-next-line github/unescaped-html-literal\n  commentBody.innerHTML = '<p>Loading preview&hellip;</p>'\n  try {\n    const html = await fetchPreview(container)\n    // eslint-disable-next-line github/unescaped-html-literal\n    commentBody.innerHTML = html || '<p>Nothing to preview</p>'\n  } catch (error) {\n    if (error.name !== 'AbortError') {\n      // eslint-disable-next-line github/unescaped-html-literal\n      commentBody.innerHTML = '<p>Error rendering preview</p>'\n    }\n  }\n}\n\nobserve('.js-preview-tab', function (tab) {\n  tab.addEventListener('mouseenter', async () => {\n    const container = tab.closest<HTMLElement>('.js-previewable-comment-form')!\n    try {\n      await fetchPreview(container)\n    } catch (error) {\n      // Ignore fetch errors on silent prefetch\n    }\n  })\n})\n\nonKey('keydown', '.js-comment-field', function (event: KeyboardEvent) {\n  const field = event.target as HTMLInputElement\n\n  // On Apple devices, the Meta (Cmd)+Shift plane is in lower case. So\n  // normalising the key toUpperCase is necessary\n  if ((event.ctrlKey || event.metaKey) && event.shiftKey && event.key.toUpperCase() === 'P') {\n    const container = field.closest<HTMLElement>('.js-previewable-comment-form')!\n    if (container.classList.contains('write-selected')) {\n      if (container instanceof TabContainerElement) {\n        container.querySelector<HTMLElement>('.js-preview-tab')!.click()\n      } else {\n        // eslint-disable-next-line github/no-blur\n        field.blur()\n        container.dispatchEvent(\n          new CustomEvent('preview:render', {\n            bubbles: true,\n            cancelable: false\n          })\n        )\n      }\n      event.preventDefault()\n      event.stopImmediatePropagation()\n    }\n  }\n})\n","import PNGScanner from './png-scanner'\n\nconst METERS_PER_INCH = 0.0254\n\nexport type ImageDimensions = {\n  width: number\n  height: number\n  ppi: number\n}\n\n// Returns a Promise that resolves with an object indicating:\n//\n// - width: image width in pixels\n// - height: image height in pixels\n// - ppi: pixels-per-inch count (optional)\n//\n// Only PNG file uploads are supported at the moment. All other types will\n// resolve with an empty metadata object.\nexport default async function imageDimensions(file: File): Promise<ImageDimensions | null> {\n  if (file.type !== 'image/png') {\n    return null\n  }\n  const slice = file.slice(0, 10240, file.type)\n  const scanner = await PNGScanner.fromFile(slice)\n  const meta = {\n    width: 0,\n    height: 0,\n    ppi: 1\n  }\n\n  scanner.scan(function (type) {\n    switch (type) {\n      case 'IHDR': {\n        /* eslint-disable-next-line no-invalid-this */\n        meta.width = this.readLong()\n        /* eslint-disable-next-line no-invalid-this */\n        meta.height = this.readLong()\n        return true\n      }\n      case 'pHYs': {\n        /* eslint-disable-next-line no-invalid-this */\n        const ppuX = this.readLong()\n        /* eslint-disable-next-line no-invalid-this */\n        const ppuY = this.readLong()\n        /* eslint-disable-next-line no-invalid-this */\n        const unit = this.readChar()\n        let inchesRatio\n        if (unit === 1) {\n          inchesRatio = METERS_PER_INCH\n        }\n        if (inchesRatio) {\n          meta.ppi = Math.round(((ppuX + ppuY) / 2) * inchesRatio)\n        }\n        return false\n      }\n      case 'IDAT': {\n        return false\n      }\n    }\n\n    return true\n  })\n\n  return meta\n}\n","import {on} from 'delegated-events'\nimport {onKey} from '../../onfocus'\n\n// This regex matches a comment containing only \"-1\", \"+1\", \":-\", \":-1\", \":+\", or \":+1\"\nconst plusOneMarker = /^(\\+1|-1|:\\+1?|:-1?)$/\n\n// Checks to see if a comment is a reaction like comment.\nconst isReactionLikeComment = (text: string): boolean => {\n  let matched = false\n  for (const line of text.split('\\n')) {\n    const l = line.trim()\n    if (!l || l.startsWith('>')) continue\n    // If a line has matched previously, but this one doesnt,\n    // it means the line has more than just a reaction - so return false\n    if (matched && plusOneMarker.test(l) === false) {\n      return false\n    }\n    if (!matched && plusOneMarker.test(l)) {\n      matched = true\n    }\n  }\n  return matched\n}\n\non('focusout', '#new_comment_field', function (event) {\n  const newCommentTextField = event.currentTarget\n\n  const suggestion = newCommentTextField.closest('.js-reaction-suggestion')\n  if (suggestion) {\n    clearReactionSuggestion(suggestion)\n  }\n})\n\non('focusin', '#new_comment_field', function (event) {\n  toggleReactionSuggestion(event)\n})\n\nonKey('keyup', '#new_comment_field', function (event) {\n  toggleReactionSuggestion(event)\n})\n\n// Toggle reaction suggestion.\nfunction toggleReactionSuggestion(event: Event) {\n  const eventTarget = event.target as HTMLTextAreaElement\n\n  const text = eventTarget.value\n  const reactionSuggestion = eventTarget.closest('.js-reaction-suggestion')\n\n  if (!reactionSuggestion) {\n    return\n  }\n\n  if (isReactionLikeComment(text)) {\n    reactionSuggestion.classList.remove('hide-reaction-suggestion')\n    reactionSuggestion.classList.add('reaction-suggestion')\n    const suggestionText = reactionSuggestion.getAttribute('data-reaction-markup')!\n    reactionSuggestion.setAttribute('data-reaction-suggestion-message', suggestionText)\n  } else {\n    clearReactionSuggestion(reactionSuggestion)\n  }\n}\n\n// Clear reaction suggestion.\nfunction clearReactionSuggestion(reactionSuggestion: Element) {\n  reactionSuggestion.classList.remove('reaction-suggestion')\n  reactionSuggestion.classList.add('hide-reaction-suggestion')\n  reactionSuggestion.removeAttribute('data-reaction-suggestion-message')\n}\n","import {on} from 'delegated-events'\n\n// Support 'c' key to open commits too\non('navigation:keydown', '.js-commits-list-item', function (event) {\n  if (!(event.target instanceof Element)) return\n  if (event.detail.hotkey === 'c') {\n    event.target.querySelector<HTMLElement>('.js-navigation-open')!.click()\n  }\n})\n","// Confirm\n//\n// Prompts native confirm dialog before activating link.\n//\n// data-confirm - Message to pass to confirm().\n//\n//   <button type=\"submit\" data-confirm=\"Are you sure?\">Delete</a>\n\ndocument.addEventListener(\n  'click',\n  function (event) {\n    if (!(event.target instanceof Element)) return\n\n    const selector =\n      'a[data-confirm], input[type=submit][data-confirm], input[type=checkbox][data-confirm], button[data-confirm]'\n\n    const currentTarget = event.target.closest(selector)\n    if (!currentTarget) return\n\n    const message = currentTarget.getAttribute('data-confirm')\n    if (!message) return\n\n    if (\n      currentTarget instanceof HTMLInputElement &&\n      currentTarget.hasAttribute('data-confirm-checked') &&\n      !currentTarget.checked\n    ) {\n      return\n    }\n\n    if (!confirm(message)) {\n      event.stopImmediatePropagation()\n      event.preventDefault()\n    }\n  },\n  true\n)\n","import {onInput} from '../onfocus'\n\nonInput('.js-company-name-input', function (event) {\n  const field = event.target as HTMLInputElement\n\n  const form = field.form!\n  const hints = form.querySelectorAll('.js-company-name-text')\n  if (hints.length === 0) {\n    return\n  }\n\n  const corpTOSLink = form.querySelector('.js-corp-tos-link')\n  const regTOSLink = form.querySelector('.js-tos-link')\n\n  if (regTOSLink) {\n    // TODO Replace with hidden attribute so aria-hidden is not required.\n    /* eslint-disable-next-line github/no-d-none */\n    regTOSLink.classList.add('d-none')\n    regTOSLink.setAttribute('aria-hidden', 'true')\n\n    if (corpTOSLink) {\n      // TODO Replace with hidden attribute so aria-hidden is not required.\n      /* eslint-disable-next-line github/no-d-none */\n      corpTOSLink.classList.remove('d-none')\n      corpTOSLink.setAttribute('aria-hidden', 'false')\n    }\n  }\n\n  for (const hint of hints) {\n    if (field.value) {\n      const hasWording = hint.hasAttribute('data-wording')\n\n      if (hasWording) {\n        const wording = hint.getAttribute('data-wording')!\n        hint.textContent = ` ${wording} ${field.value}`\n      } else {\n        hint.textContent = field.value\n      }\n    } else {\n      hint.textContent = ''\n    }\n  }\n})\n","import {changeValue} from '../form'\nimport {fire} from 'delegated-events'\nimport {observe} from 'selector-observer'\n\n// Update the TOS statement with company name\n//   e.g. By clicking on \"Create an organization\" below, you are agreeing to the Terms of Service and the Privacy Policy on behalf of your company, GitHub, Inc.\nobserve('.js-company-owned:not(:checked)', {\n  constructor: HTMLInputElement,\n  add(el) {\n    const form = el.form!\n    const input = form.querySelector<HTMLInputElement>('.js-company-name-input')!\n    const hint = document.querySelector<HTMLElement>('.js-company-name-text')!\n    const corpTOSLink = document.querySelector<HTMLElement>('.js-corp-tos-link')!\n    const regTOSLink = document.querySelector<HTMLElement>('.js-tos-link')!\n\n    if (el.getAttribute('data-optional')) {\n      input.removeAttribute('required')\n    }\n    changeValue(input, '')\n\n    // TODO Replace with hidden attribute so aria-hidden is not required.\n    /* eslint-disable-next-line github/no-d-none */\n    regTOSLink.classList.remove('d-none')\n    regTOSLink.setAttribute('aria-hidden', 'false')\n    /* eslint-disable-next-line github/no-d-none */\n    corpTOSLink.classList.add('d-none')\n    corpTOSLink.setAttribute('aria-hidden', 'true')\n\n    hint.textContent = ''\n  }\n})\n\nobserve('.js-company-owned:checked', {\n  constructor: HTMLInputElement,\n  add(el) {\n    const form = el.form!\n    const input = form.querySelector('.js-company-name-input')\n\n    if (input) {\n      input.setAttribute('required', '')\n      fire(input, 'focus')\n      fire(input, 'input')\n    }\n  }\n})\n\n// Make the CorpTOS the default on the \"Business Plus\" AKA Business plan\n// TODO Replace with delegated-events\nobserve('.js-company-owned-autoselect', {\n  constructor: HTMLInputElement,\n  add(field) {\n    const planChoice = field\n\n    function autoselect() {\n      if (planChoice.checked && planChoice.form) {\n        const corpTos = planChoice.form.querySelector<HTMLInputElement>('.js-company-owned')!\n        changeValue(corpTos, true)\n      }\n    }\n\n    planChoice.addEventListener('change', autoselect)\n    autoselect()\n  }\n})\n","import {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\n\n// Check if a node contains a single image element with no text.\nfunction isOnlyOneImage(node: Element): boolean {\n  return (node.textContent || '').trim() === '' && (node.querySelectorAll('img') || []).length === 1\n}\n\n// Remove \"show more/less\" links if content is small enough or it doesn't\n// contain text (for example only one image).\n\nobserve('.js-content-attachment .max--md', function (wrapper) {\n  const markdownBody = wrapper.querySelector<HTMLElement>('.markdown-body')!\n  if (markdownBody.clientHeight < 188 || isOnlyOneImage(markdownBody)) {\n    wrapper.classList.remove('max--md')\n    wrapper.querySelector<HTMLElement>('.Details-content--closed')!.hidden = true\n    wrapper.querySelector<HTMLElement>('.Details-content--open')!.hidden = true\n  }\n})\n\n// Submit the form to unfurl the content attachment.\non('click', '.js-hide-content-attachment', function (event) {\n  event.preventDefault()\n  const target = event.currentTarget\n  const unfurl = target.closest<HTMLElement>('.js-content-attachment')!\n  const element = target.closest<HTMLElement>('[data-unfurl-hide-url]')!\n  const url = element.getAttribute('data-unfurl-hide-url')!\n  const token = element.querySelector<HTMLInputElement>('.js-data-unfurl-hide-url-csrf')!\n  const id = target.getAttribute('data-id')!\n  const xhr = new XMLHttpRequest()\n\n  xhr.onload = function () {\n    if (xhr.status >= 200 && xhr.status < 300) {\n      unfurl.remove()\n    }\n  }\n\n  xhr.open('POST', url)\n\n  const formData = new FormData()\n  formData.append('id', id)\n\n  // eslint-disable-next-line github/authenticity-token\n  formData.append('authenticity_token', token.value)\n\n  xhr.send(formData)\n})\n","import {compose, fromEvent} from '../subscription'\nimport IncludeFragmentElement from '@github/include-fragment-element'\nimport hashChange from './hash-change'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\n\nlet currentlyOpenedDetailsDropdown: HTMLElement | null = null\n\ndocument.addEventListener('keydown', function (event: KeyboardEvent) {\n  if (!event.defaultPrevented && event.key === 'Escape' && currentlyOpenedDetailsDropdown) {\n    currentlyOpenedDetailsDropdown.removeAttribute('open')\n  }\n})\n\n// Dismiss open <details> when activating <details> with keyboard.\nobserve('.js-dropdown-details', {\n  subscribe: el => {\n    return compose(fromEvent(el, 'toggle', closeCurrentDetailsDropdown), fromEvent(el, 'toggle', autofocus))\n  }\n})\n\nfunction autofocus({currentTarget}: Event) {\n  const target = currentTarget as HTMLElement\n  if (target.hasAttribute('open')) {\n    const element = target.querySelector<HTMLElement>('[autofocus]')\n    if (element) element.focus()\n  } else {\n    const summary = target.querySelector<HTMLElement>('summary')\n    if (summary) summary.focus()\n  }\n}\n\nfunction closeCurrentDetailsDropdown({currentTarget}: Event) {\n  const target = currentTarget as HTMLElement\n  if (target.hasAttribute('open')) {\n    if (currentlyOpenedDetailsDropdown && currentlyOpenedDetailsDropdown !== target) {\n      currentlyOpenedDetailsDropdown.removeAttribute('open')\n    }\n\n    currentlyOpenedDetailsDropdown = target\n  } else if (target === currentlyOpenedDetailsDropdown) {\n    currentlyOpenedDetailsDropdown = null\n  }\n}\n\nobserve('[data-deferred-details-content-url]:not([data-details-no-preload-on-hover])', {\n  subscribe: el => {\n    const summary = el.querySelector<HTMLElement>('summary')!\n    return fromEvent(summary, 'mouseenter', loadDeferredContent)\n  }\n})\n\nobserve('[data-deferred-details-content-url]', {\n  subscribe: el => {\n    return fromEvent(el, 'toggle', loadDeferredContent)\n  }\n})\n\nfunction loadDeferredContent({currentTarget}: Event) {\n  if (!(currentTarget instanceof Element)) return\n\n  const details = currentTarget.closest<HTMLElement>('details')!\n  const url = details.getAttribute('data-deferred-details-content-url')!\n  details.removeAttribute('data-deferred-details-content-url')\n  const includeFragmentElement = details.querySelector<IncludeFragmentElement>(\n    'include-fragment, poll-include-fragment'\n  )!\n  includeFragmentElement.src = url\n}\n\n// Additonal button trigger for <details id>\non('click', '[data-toggle-for]', function (event) {\n  const id = event.currentTarget.getAttribute('data-toggle-for') || ''\n  const details = document.getElementById(id)\n  if (!details) return\n  details.hasAttribute('open') ? details.removeAttribute('open') : details.setAttribute('open', 'open')\n})\n\n// Expand collapsed outdated diff if anchor points to it\n//   /github/github/pull/123#discussion-diff-456\n//   /github/github/pull/123#discussion-r345\nhashChange(function ({target}) {\n  if (!target || target.closest('summary')) return\n\n  let node = target.parentElement\n  while (node) {\n    node = node.closest('details')\n    if (node) {\n      if (!node.hasAttribute('open')) {\n        node.setAttribute('open', '')\n      }\n      node = node.parentElement\n    }\n  }\n})\n\n// The details dialog allows users to dismiss the dialog by clicking on the\n// grayed-out background. This additional functionality prohibits dismissing\n// the dialog in this way.\non('details-dialog-close', '[data-disable-dialog-dismiss]', function (event) {\n  event.preventDefault()\n})\n","import {fire, on} from 'delegated-events'\nimport RemoteInputElement from '@github/remote-input-element'\nimport {fromEvent} from '../subscription'\nimport {microtask} from '../eventloop-tasks'\nimport {observe} from 'selector-observer'\nimport {onKey} from '../onfocus'\n\n// Match deprecated .js-select-menu state classes.\nobserve('details.select-menu details-menu include-fragment', function (el) {\n  const details = el.closest('details')\n  if (!details) return\n  el.addEventListener('loadstart', function () {\n    details.classList.add('is-loading')\n    details.classList.remove('has-error')\n  })\n  el.addEventListener('error', function () {\n    details.classList.add('has-error')\n  })\n  el.addEventListener('loadend', function () {\n    details.classList.remove('is-loading')\n    const filter = details.querySelector('.js-filterable-field')\n    if (filter) fire(filter, 'filterable:change')\n  })\n})\n\n// Clear filter when menu closes.\nobserve('details details-menu .js-filterable-field', {\n  constructor: HTMLInputElement,\n  add(filter) {\n    const details = filter.closest<HTMLElement>('details')!\n    details.addEventListener('toggle', function () {\n      if (!details.hasAttribute('open')) {\n        filter.value = ''\n        fire(filter, 'filterable:change')\n      }\n    })\n  }\n})\n\n// Temporary fix for role=menu containing input\nobserve('details-menu[role=menu] [role=menu]', el => {\n  const menu = el.closest('details-menu[role]')\n  if (menu && menu !== el) menu.removeAttribute('role')\n})\n\n// Clear filter when menu closes.\nobserve('details details-menu remote-input input', {\n  constructor: HTMLInputElement,\n  add(filter) {\n    const details = filter.closest<HTMLElement>('details')!\n    details.addEventListener('toggle', function () {\n      if (!details.hasAttribute('open')) {\n        filter.value = ''\n      }\n    })\n  }\n})\n\n// On form reset fire change on input so details-menu can apply state changes.\nobserve('form details-menu', menu => {\n  const form = menu.closest<HTMLElement>('form')!\n  form.addEventListener('reset', () => {\n    setTimeout(() => resetMenus(form), 0)\n  })\n})\n\n// Re-fires the `change` event for checked radios in a details-menu form.\nfunction resetMenus(form: Element) {\n  const inputs = form.querySelectorAll('details-menu [role=menuitemradio] input[type=radio]:checked')\n  for (const input of inputs) {\n    fire(input, 'change')\n  }\n}\n\n/**\n * Auto trigger the first item on Enter when filterable field is focused.\n */\nonKey('keypress', 'details-menu .js-filterable-field, details-menu filter-input input', (event: KeyboardEvent) => {\n  if (event.key === 'Enter') {\n    const input = event.currentTarget\n    const menu = (input as HTMLInputElement).closest<HTMLElement>('details-menu')!\n    const firstItem = menu.querySelector('[role^=\"menuitem\"]:not([hidden])')\n    if (firstItem instanceof HTMLElement) firstItem.click()\n    event.preventDefault()\n  }\n})\n\n// Focus filterable field after selecting an item\non(\n  'details-menu-selected',\n  'details-menu',\n  event => {\n    const menu = event.currentTarget\n\n    const filterableField = (menu as HTMLElement).querySelector('.js-filterable-field')\n    if (filterableField instanceof HTMLInputElement && filterableField.value) filterableField.focus()\n  },\n  {capture: true}\n)\n\n// On selection, sync selectedItem.value to input[id=data-menu-input]\non(\n  'details-menu-selected',\n  '[data-menu-input]',\n  event => {\n    if (!(event.target instanceof Element)) return\n    const id = event.target.getAttribute('data-menu-input')!\n    const el = document.getElementById(id)\n    if (!(el instanceof HTMLInputElement || el instanceof HTMLTextAreaElement)) return\n    el.value = ((event as CustomEvent).detail.relatedTarget as HTMLButtonElement).value\n  },\n  {capture: true}\n)\n\n// Restore focus on the previously focused element after results have been updated\n// Otherwise return focus to input\nobserve('details-menu remote-input', {\n  constructor: RemoteInputElement,\n  initialize(el) {\n    const resultsContainer = document.getElementById(el.getAttribute('aria-owns') || '')\n    if (!resultsContainer) return\n\n    let activeElementId: string | null = null\n    el.addEventListener('load', () => {\n      if (document.activeElement && resultsContainer.contains(document.activeElement) && document.activeElement.id) {\n        activeElementId = document.activeElement.id\n      } else {\n        activeElementId = null\n      }\n    })\n\n    el.addEventListener('loadend', () => {\n      if (activeElementId) {\n        const focusEl =\n          resultsContainer.querySelector(`#${activeElementId}`) || resultsContainer.querySelector('[role^=\"menu\"]')\n        if (focusEl instanceof HTMLElement) {\n          focusEl.focus()\n        } else if (el.input) {\n          el.input.focus()\n        }\n      }\n    })\n  }\n})\n\non(\n  'details-menu-selected',\n  'details-menu[data-menu-max-options]',\n  event => {\n    const max = +event.currentTarget.getAttribute('data-menu-max-options')!\n    const checkedItems = event.currentTarget.querySelectorAll('[role=\"menuitemcheckbox\"][aria-checked=\"true\"]')\n    const atLimit = max === checkedItems.length\n    event.currentTarget.querySelector<HTMLElement>('[data-menu-max-options-warning]')!.hidden = !atLimit\n    for (const item of event.currentTarget.querySelectorAll<HTMLInputElement>('[role=\"menuitemcheckbox\"] input')) {\n      item.disabled = atLimit && !item.checked\n    }\n  },\n  {capture: true}\n)\n\n// Make js-select-menu & navigation behaviors work with detail select menus\nobserve('details > details-menu', {\n  subscribe(el) {\n    const details = el.closest<HTMLElement>('details')!\n    return fromEvent(details, 'toggle', fireMenuToggleEvent)\n  }\n})\n\n// Fire a menu:[de]activate[d] event depending on the state of the menu.\nasync function fireMenuToggleEvent({currentTarget}: Event) {\n  const details = currentTarget as HTMLElement\n  const isOpen = details.hasAttribute('open')\n  fire(details, isOpen ? 'menu:activate' : 'menu:deactivate')\n  await microtask()\n  fire(details, isOpen ? 'menu:activated' : 'menu:deactivated')\n}\n","// Disable\n//\n// Disables clicked buttons with text in `data-disable-with`.\n//\n// `<input type=submit>` or `<button type=submit>`\n//\n// `data-disable-with` - Message to set `<input>` value or `<button>` innerHTML to.\n//\n//     <input type=\"submit\" data-disable-with=\"Submitting...\">\n\nimport {afterRemote} from '@github/remote-form'\nimport {on} from 'delegated-events'\n\nconst originalText = new WeakMap()\nconst selector = ['input[type=submit][data-disable-with]', 'button[data-disable-with]'].join(', ')\n\n// Get button text.\nfunction getButtonText(el: Element) {\n  if (el instanceof HTMLInputElement) {\n    return el.value || 'Submit'\n  } else {\n    return el.innerHTML || ''\n  }\n}\n\n// Sets a button text.\nfunction setButtonText(el: Element, text: string) {\n  if (el instanceof HTMLInputElement) {\n    el.value = text\n  } else {\n    el.innerHTML = text\n  }\n}\n\non(\n  'submit',\n  'form',\n  function (event) {\n    for (const button of event.currentTarget.querySelectorAll(selector)) {\n      originalText.set(button, getButtonText(button))\n      const disabledText = button.getAttribute('data-disable-with')\n      if (disabledText) {\n        setButtonText(button, disabledText)\n      }\n      ;(button as HTMLInputElement | HTMLButtonElement).disabled = true\n    }\n  },\n  {capture: true}\n)\n\n// Revert a form to it's previous state.\nfunction revert(form: HTMLFormElement) {\n  for (const button of form.querySelectorAll(selector)) {\n    const text = originalText.get(button)\n    if (text != null) {\n      setButtonText(button, text)\n      // Button doesn't have a `data-disable-invalid` property or form is valid\n      if (!button.hasAttribute('data-disable-invalid') || form.checkValidity()) {\n        // Enable the button\n        ;(button as HTMLInputElement | HTMLButtonElement).disabled = false\n      }\n      originalText.delete(button)\n    }\n  }\n}\n\n// Enable controls when AJAX request finishes\non('deprecatedAjaxComplete', 'form', function ({currentTarget, target}) {\n  if (currentTarget === target) {\n    revert(currentTarget as HTMLFormElement)\n  }\n})\n\nafterRemote(revert)\n","import {fire} from 'delegated-events'\nimport {observe} from 'selector-observer'\n\n// Entire document is drop target.\nobserve('.js-document-dropzone', {\n  constructor: HTMLElement,\n  add(el) {\n    document.body.addEventListener('dragstart', onDragstart)\n    document.body.addEventListener('dragend', onDragend)\n    document.body.addEventListener('dragenter', onDragenter)\n    document.body.addEventListener('dragover', onDragenter)\n    document.body.addEventListener('dragleave', onBodyDragleave)\n    el.addEventListener('drop', onDrop)\n  },\n  remove(el) {\n    document.body.removeEventListener('dragstart', onDragstart)\n    document.body.removeEventListener('dragend', onDragend)\n    document.body.removeEventListener('dragenter', onDragenter)\n    document.body.removeEventListener('dragover', onDragenter)\n    document.body.removeEventListener('dragleave', onBodyDragleave)\n    el.removeEventListener('drop', onDrop)\n  }\n})\n\nfunction hasFile(transfer: DataTransfer): boolean {\n  return Array.from(transfer.types).indexOf('Files') >= 0\n}\n\nlet dragging: number | null = null\n\n// Highlight textarea and change drop cursor. Ensure drop target styles\n// are cleared after dragging back outside of window.\nfunction onDragenter(event: DragEvent) {\n  if (ignorePageElementDrag) return\n\n  const target = event.currentTarget as Element\n\n  if (dragging) {\n    window.clearTimeout(dragging)\n  }\n  dragging = window.setTimeout(() => target.classList.remove('dragover'), 200)\n\n  const transfer = event.dataTransfer\n  if (!transfer || !hasFile(transfer)) return\n\n  transfer.dropEffect = 'copy'\n  target.classList.add('dragover')\n\n  event.stopPropagation()\n  event.preventDefault()\n}\n\nfunction onBodyDragleave(event: DragEvent) {\n  // Ignore leave events from children to prevent flicker.\n  if (!(event.target instanceof Element)) return\n  if (event.target.classList.contains('js-document-dropzone')) {\n    const currentTarget = event.currentTarget as Element\n    currentTarget.classList.remove('dragover')\n  }\n}\n\nfunction onDrop(event: DragEvent) {\n  const container = event.currentTarget as Element\n\n  container.classList.remove('dragover')\n  document.body.classList.remove('dragover')\n\n  const transfer = event.dataTransfer\n  if (!transfer || !hasFile(transfer)) return\n\n  fire(container, 'document:drop', {transfer})\n\n  event.stopPropagation()\n  event.preventDefault()\n}\n\n// Ignore image or link drags from within the page itself. Allow them to be\n// dragged onto the desktop, but ignore any drops back onto the page.\nlet ignorePageElementDrag = false\n\nfunction onDragstart() {\n  ignorePageElementDrag = true\n}\n\nfunction onDragend() {\n  ignorePageElementDrag = false\n}\n","// Favicon manager\n//\n// Manages light and dark favicon variations, and handles status,\n// showing a , check, or pending dot over depending on the page status\n\nimport {observe} from 'selector-observer'\n\nlet oldHref: string\n\nfunction updateFavicon(newHref?: string, colorScheme?: string) {\n  const favicon = document.querySelector<HTMLLinkElement>('.js-site-favicon[type=\"image/svg+xml\"]')\n  const faviconFallback = document.querySelector<HTMLLinkElement>('.js-site-favicon[type=\"image/png\"]')\n\n  if (!colorScheme) colorScheme = 'light'\n  const colorSchemeSuffix = colorScheme === 'light' ? '' : '-dark'\n\n  if (favicon && faviconFallback) {\n    if (oldHref == null) {\n      oldHref = favicon.href\n    }\n\n    if (newHref) {\n      newHref = newHref.substr(0, newHref.lastIndexOf('.'))\n      newHref = `${newHref}${colorSchemeSuffix}.svg`\n      favicon.href = newHref\n\n      const newFallbackHref = favicon.href.substr(0, favicon.href.lastIndexOf('.'))\n      faviconFallback.href = `${newFallbackHref}.png`\n    } else {\n      const n = favicon.href.indexOf('-dark.svg')\n      const newFaviconName = favicon.href.substr(0, n !== -1 ? n : favicon.href.lastIndexOf('.'))\n\n      favicon.href = `${newFaviconName}${colorSchemeSuffix}.svg`\n      faviconFallback.href = `${newFaviconName}${colorSchemeSuffix}.png`\n    }\n  }\n}\n\nfunction prefersDarkColorScheme() {\n  return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches\n}\n\nfunction resetIcon() {\n  if (oldHref != null) updateFavicon(oldHref, prefersDarkColorScheme() ? 'dark' : 'light')\n}\n\nobserve('[data-favicon-override]', {\n  add(el) {\n    const href = el.getAttribute('data-favicon-override')!\n\n    // allow `remove` for the old element to fire first\n    setTimeout(() => updateFavicon(href, prefersDarkColorScheme() ? 'dark' : 'light'))\n  },\n  remove() {\n    resetIcon()\n  }\n})\n\nif (prefersDarkColorScheme()) {\n  // update favicon to dark on page load\n  updateFavicon(undefined, 'dark')\n}\n\nwindow.matchMedia('(prefers-color-scheme: dark)').addListener(() => {\n  updateFavicon(undefined, prefersDarkColorScheme() ? 'dark' : 'light')\n})\n","import {on} from 'delegated-events'\n\n// Encrypt plain text with a public key.\nasync function encrypt(publicKey: Uint8Array, value: string): Promise<Uint8Array> {\n  const encoder = new TextEncoder()\n  const messageBytes = encoder.encode(value)\n  const {seal} = await import('../tweetsodium')\n  return seal(messageBytes, publicKey)\n}\n\n// Decode base64 data into a byte array.\nfunction decode(encoded: string): Uint8Array {\n  const bytes = atob(encoded)\n    .split('')\n    .map(x => x.charCodeAt(0))\n  return Uint8Array.from(bytes)\n}\n\n// Encode a byte array as a base64 string.\nfunction encode(bytes: Uint8Array): string {\n  let str = ''\n  for (const byte of bytes) {\n    str += String.fromCharCode(byte)\n  }\n  return btoa(str)\n}\n\non('submit', 'form.js-encrypt-submit', async function (event) {\n  const form = event.currentTarget as HTMLFormElement\n\n  if (event.defaultPrevented || !form.checkValidity()) return\n  const plainText = form.elements.namedItem('secret_value') as HTMLTextAreaElement\n\n  // Prevent serializing plain text value in form submission.\n  plainText.disabled = true\n\n  if (!plainText.value) return\n\n  event.preventDefault()\n\n  // Submit encrypted value in hidden input.\n  const publicKey = decode(form.getAttribute('data-public-key')!)\n\n  ;(form.elements.namedItem('encrypted_value') as HTMLInputElement).value = encode(\n    await encrypt(publicKey, plainText.value)\n  )\n\n  form.submit()\n})\n","import {observe} from 'selector-observer'\n\nobserve('.js-feature-preview-indicator-container', container => {\n  fetchFeaturePreviewIndicator(container)\n})\n\ntype FeatureResponse = {\n  show_indicator: boolean\n}\n\n// Load the indicator status and update any indicators on the page.\nasync function fetchFeaturePreviewIndicator(container: Element) {\n  const url = container.getAttribute('data-feature-preview-indicator-src')!\n  const show = await fetchIndicator(url)\n  const indicators = container.querySelectorAll<HTMLElement>('.js-feature-preview-indicator')\n  for (const indicator of indicators) {\n    indicator.hidden = !show\n  }\n}\n\nasync function fetchIndicator(url: string): Promise<boolean> {\n  try {\n    const response = await fetch(url, {headers: {Accept: 'application/json'}})\n    if (!response.ok) return false\n    const json = (await response.json()) as FeatureResponse\n    return json.show_indicator\n  } catch {\n    return false\n  }\n}\n","import {fire, on} from 'delegated-events'\nimport {dialog} from '../details-dialog'\nimport {fetchSafeDocumentFragment} from '../fetch'\nimport {remoteForm} from '@github/remote-form'\nimport {sendStats} from '../stats'\n\n/*\n  Opens the feature preview dialog to a given feature specified by it's slug\n\n  <button data-feature-preview-trigger-url=\"<%= feature_previews_path(user_id: login, selected_slug: \"my_feature\") %>\">\n    Opt in to the feature preview for My Feature\n  </button>\n\n  You can react to a feature being enrolled/unenrolled by the user with these events:\n\n  - `feature-preview-enroll:my_feature`\n  - `feature-preview-unenroll:my_feature`\n\n  e.g.\n\n  document.addEventListener('feature-preview-enroll:my_feature', () => {\n    optInButton.hidden = true\n    optOutButton.hidden = false\n  })\n\n  document.addEventListener('feature-preview-unenroll:my_feature', () => {\n    optInButton.hidden = false\n    optOutButton.hidden = true\n  })\n*/\n\non('click', '[data-feature-preview-trigger-url]', async event => {\n  const trigger = event.currentTarget\n  const url = trigger.getAttribute('data-feature-preview-trigger-url')!\n\n  const newDialog = await dialog({\n    content: fetchSafeDocumentFragment(document, url),\n    dialogClass: 'feature-preview-dialog'\n  })\n\n  const closeDetails = trigger.getAttribute('data-feature-preview-close-details')!\n  const closeHmac = trigger.getAttribute('data-feature-preview-close-hmac')!\n\n  newDialog.addEventListener('dialog:remove', () => {\n    sendStats({hydroEventPayload: closeDetails, hydroEventHmac: closeHmac}, true)\n  })\n\n  const indicators = document.querySelectorAll<HTMLElement>('.js-feature-preview-indicator')\n  for (const indicator of indicators) {\n    indicator.hidden = true\n  }\n})\n\nremoteForm('.js-feature-preview-unenroll', async (form, wants) => {\n  await wants.text()\n  const feature = form.querySelector<HTMLInputElement>('.js-feature-preview-slug')!.value\n  fire(form, `feature-preview-unenroll:${feature}`)\n})\n\nremoteForm('.js-feature-preview-enroll', async (form, wants) => {\n  await wants.text()\n  const feature = form.querySelector<HTMLInputElement>('.js-feature-preview-slug')!.value\n  fire(form, `feature-preview-enroll:${feature}`)\n})\n","import type {Attachment} from '@github/file-attachment-element'\nimport {sendStats} from '../stats'\n\nexport type UploadError = {\n  status: number\n  body: string\n}\n\n// 204 No Content\ntype S3ResponseData = Record<string, unknown>\n\n// 201 Created\ntype EnterpriseResponseData = {\n  id: number\n  href: string\n}\n\ntype UploadResponseData = EnterpriseResponseData | S3ResponseData\n\ntype S3UploadPolicy = {\n  asset_upload_url: string\n  asset_upload_authenticity_token: string\n  upload_authenticity_token: string\n  upload_url: string\n  form: Record<string, string>\n  header: Record<string, string>\n  same_origin: boolean\n  asset: {\n    id: number\n    href: string\n    name: string\n  }\n}\n\ntype EnterpriseUploadPolicy = {\n  upload_authenticity_token: string\n  upload_url: string\n  form: {[key: string]: string}\n  header: Record<string, string>\n  same_origin: boolean\n  asset: {\n    name: string\n  }\n}\n\nexport type UploadPolicyData = S3UploadPolicy | EnterpriseUploadPolicy\n\nexport type AttachmentUploadDelegate = {\n  attachmentUploadDidStart(attachment: Attachment, policy: UploadPolicyData): void\n  attachmentUploadDidProgress(attachment: Attachment, percent: number): void\n  attachmentUploadDidComplete(attachment: Attachment, policy: UploadPolicyData, data: UploadResponseData): void\n  attachmentUploadDidError(attachment: Attachment, error: UploadError): void\n}\n\nexport default class AttachmentUpload {\n  attachment: Attachment\n  policy: UploadPolicyData\n\n  constructor(attachment: Attachment, policy: UploadPolicyData) {\n    this.attachment = attachment\n    this.policy = policy\n  }\n\n  async process(delegate: AttachmentUploadDelegate): Promise<void> {\n    const startTime = window.performance.now()\n    const headers = new Headers(this.policy.header || {})\n\n    const xhr = new XMLHttpRequest()\n    xhr.open('POST', this.policy.upload_url, true)\n\n    for (const [key, value] of headers) {\n      xhr.setRequestHeader(key, value)\n    }\n\n    xhr.onloadstart = () => {\n      delegate.attachmentUploadDidStart(this.attachment, this.policy)\n    }\n\n    xhr.upload.onprogress = e => {\n      if (e.lengthComputable) {\n        const percent = Math.round((e.loaded / e.total) * 100)\n        delegate.attachmentUploadDidProgress(this.attachment, percent)\n      }\n    }\n\n    await send(xhr, uploadForm(this.attachment, this.policy))\n\n    if (xhr.status === 204) {\n      markComplete(this.policy)\n      delegate.attachmentUploadDidComplete(this.attachment, this.policy, {})\n    } else if (xhr.status === 201) {\n      markComplete(this.policy)\n      delegate.attachmentUploadDidComplete(this.attachment, this.policy, JSON.parse(xhr.responseText))\n    } else {\n      delegate.attachmentUploadDidError(this.attachment, {status: xhr.status, body: xhr.responseText})\n    }\n\n    const endTime = window.performance.now()\n    const timeDiff = endTime - startTime\n    const uploadTiming: PlatformBrowserPerformanceUploadTiming = {\n      duration: timeDiff,\n      size: this.attachment?.file?.size,\n      fileType: this.attachment?.file?.type,\n      success: xhr.status === 204 || xhr.status === 201\n    }\n    sendStats({uploadTiming}, true)\n  }\n}\n\nfunction send(xhr: XMLHttpRequest, body: FormData): Promise<XMLHttpRequest> {\n  return new Promise((resolve, reject) => {\n    xhr.onload = () => resolve(xhr)\n    xhr.onerror = reject\n    xhr.send(body)\n  })\n}\n\nfunction uploadForm(attachment: Attachment, policy: UploadPolicyData): FormData {\n  const form = new FormData()\n  if (policy.same_origin) {\n    // eslint-disable-next-line github/authenticity-token\n    form.append('authenticity_token', policy.upload_authenticity_token)\n  }\n  for (const key in policy.form) {\n    form.append(key, policy.form[key])\n  }\n  form.append('file', attachment.file)\n  return form\n}\n\nfunction markComplete(policy: UploadPolicyData) {\n  /* eslint-disable-next-line @typescript-eslint/ban-ts-comment */\n  // @ts-ignore\n  const url = typeof policy.asset_upload_url === 'string' ? policy.asset_upload_url : null\n  const token =\n    /* eslint-disable-next-line @typescript-eslint/ban-ts-comment */\n    // @ts-ignore\n    typeof policy.asset_upload_authenticity_token == 'string' ? policy.asset_upload_authenticity_token : null\n\n  if (!(url && token)) return\n\n  const form = new FormData()\n  // eslint-disable-next-line github/authenticity-token\n  form.append('authenticity_token', token)\n\n  fetch(url, {\n    method: 'PUT',\n    body: form,\n    credentials: 'same-origin',\n    headers: {\n      Accept: 'application/json',\n      'X-Requested-With': 'XMLHttpRequest'\n    }\n  })\n}\n","import type {Attachment, default as FileAttachmentElement} from '@github/file-attachment-element'\nimport type {AttachmentUploadDelegate, UploadError, UploadPolicyData} from './attachment-upload'\n\nimport AttachmentUpload from './attachment-upload'\nimport type Batch from './batch'\nimport {fire} from 'delegated-events'\n\nexport async function upload(batch: Batch, container: FileAttachmentElement) {\n  const delegate = createDelegate(batch, container)\n  for (const attachment of batch.attachments) {\n    const policy = await validate(batch, attachment, container)\n    if (!policy) return\n    try {\n      const uploader = new AttachmentUpload(attachment, policy)\n      await uploader.process(delegate)\n    } catch {\n      fire(container, 'upload:error', {batch, attachment})\n      resetState(container, 'is-failed')\n      return\n    }\n  }\n}\n\nasync function validate(batch: Batch, attachment: Attachment, container: Element): Promise<UploadPolicyData | null> {\n  const form = policyForm(attachment, container)\n  const preprocess: Array<Promise<unknown>> = []\n  fire(container, 'upload:setup', {batch, attachment, form, preprocess})\n\n  try {\n    await Promise.all(preprocess)\n    const response = await fetch(policyRequest(form, container))\n    if (response.ok) {\n      return await response.json()\n    }\n    fire(container, 'upload:invalid', {batch, attachment})\n    const body = await response.text()\n    const status = response.status\n    const state = policyErrorState({status, body}, attachment.file)\n    resetState(container, state)\n  } catch {\n    fire(container, 'upload:invalid', {batch, attachment})\n    resetState(container, 'is-failed')\n  }\n  return null\n}\n\nfunction policyForm(attachment: Attachment, container: Element): FormData {\n  const token = container.querySelector<HTMLInputElement>('.js-data-upload-policy-url-csrf')!.value\n  const repoId = container.getAttribute('data-upload-repository-id')\n  const subjectType = container.getAttribute('data-subject-type')\n  const subject = container.getAttribute('data-subject-param')\n  const file = attachment.file\n\n  const form = new FormData()\n  form.append('name', file.name)\n  form.append('size', String(file.size))\n  form.append('content_type', file.type)\n  // eslint-disable-next-line github/authenticity-token\n  form.append('authenticity_token', token)\n  if (subjectType) form.append('subject_type', subjectType)\n  if (subject) form.append('subject', subject)\n  if (repoId) {\n    form.append('repository_id', repoId)\n  }\n  if (attachment.directory) {\n    form.append('directory', attachment.directory)\n  }\n\n  return form\n}\n\nfunction policyRequest(form: FormData, container: Element): Request {\n  return new Request(container.getAttribute('data-upload-policy-url')!, {\n    method: 'POST',\n    body: form,\n    credentials: 'same-origin',\n    headers: {\n      Accept: 'application/json',\n      'X-Requested-With': 'XMLHttpRequest'\n    }\n  })\n}\n\nfunction createDelegate(batch: Batch, container: Element): AttachmentUploadDelegate {\n  return {\n    attachmentUploadDidStart(attachment, policy) {\n      attachment.saving(0)\n      resetState(container, 'is-uploading')\n      fire(container, 'upload:start', {batch, attachment, policy})\n    },\n    attachmentUploadDidProgress(attachment, percent) {\n      attachment.saving(percent)\n      fire(container, 'upload:progress', {batch, attachment})\n    },\n    attachmentUploadDidComplete(attachment, policy, result) {\n      attachment.saved(savedAttributes(result, policy))\n      fire(container, 'upload:complete', {batch, attachment})\n      resetState(container, 'is-default')\n    },\n    attachmentUploadDidError(attachment, response) {\n      fire(container, 'upload:error', {batch, attachment})\n      const state = policyErrorState(response)\n      resetState(container, state)\n    }\n  }\n}\n\n// Extracts the uploaded attachment's attributes that reference the stored\n// file on the server. These can come from the upload response in the case of\n// our Enterprise Alambic file server or from the initial policy creation,\n// prior to file upload, in the case of Amazon S3 used by github.com.\nfunction savedAttributes(\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  result: any,\n  policy: UploadPolicyData\n): {id: string | null; href: string | null; name: string | null} {\n  const id =\n    /* eslint-disable-next-line @typescript-eslint/ban-ts-comment */\n    // @ts-ignore\n    (result.id == null ? null : String(result.id)) || (policy.asset.id == null ? null : String(policy.asset.id))\n  const href =\n    (typeof result.href === 'string' ? result.href : null) ||\n    /* eslint-disable-next-line @typescript-eslint/ban-ts-comment */\n    // @ts-ignore\n    (typeof policy.asset.href === 'string' ? policy.asset.href : null)\n  return {id, href, name: policy.asset.name}\n}\n\n// Create a CSS class name that matches the errors coming from the policy\n// POST. The /upload/policies/* resource returns a 422 response with a JSON\n// body describing why the policy is invalid.\nfunction policyErrorState(response: UploadError, file?: File): string {\n  // Amazon S3 error.\n  if (response.status === 400) {\n    return 'is-bad-file'\n  }\n\n  if (response.status !== 422) {\n    return 'is-failed'\n  }\n\n  const hash = JSON.parse(response.body)\n\n  // If we have the expected JSON response with errors key, try to find the right\n  // error message. If there's a server-side error or user got logged out, we\n  // won't have hash.errors, so skip this and return generic failure message.\n  if (!hash || !hash.errors) {\n    return 'is-failed'\n  }\n\n  for (const error of hash.errors) {\n    switch (error.field) {\n      case 'size': {\n        const size = file ? file.size : null\n        if (size != null && size === 0) {\n          return 'is-empty'\n        }\n        return 'is-too-big'\n      }\n      case 'file_count':\n        return 'is-too-many'\n      case 'width':\n      case 'height':\n        return 'is-bad-dimensions'\n      case 'name':\n        if (error.code === 'already_exists') {\n          return 'is-duplicate-filename'\n        }\n        return 'is-bad-file'\n      case 'content_type':\n        return 'is-bad-file'\n      case 'uploader_id':\n        return 'is-bad-permissions'\n      case 'repository_id':\n        return 'is-repository-required'\n      case 'format':\n        return 'is-bad-format'\n    }\n  }\n  return 'is-failed'\n}\n\nconst possibleStates = [\n  'is-default',\n  'is-uploading',\n  'is-bad-file',\n  'is-duplicate-filename',\n  'is-too-big',\n  'is-too-many',\n  'is-hidden-file',\n  'is-failed',\n  'is-bad-dimensions',\n  'is-empty',\n  'is-bad-permissions',\n  'is-repository-required',\n  'is-bad-format'\n]\n\nexport function resetState(container: Element, state: string) {\n  container.classList.remove(...possibleStates)\n  container.classList.add(state)\n}\n","import type {Attachment} from '@github/file-attachment-element'\n\n// A collection of files to be uploaded together. A batch reports progress of\n// the collection rather than each individual file.\nexport default class Batch {\n  attachments: Attachment[]\n  size: number\n  total: number\n\n  constructor(attachments: Attachment[]) {\n    this.attachments = attachments\n\n    // How many total files to upload.\n    this.size = this.attachments.length\n\n    // How many total bytes to upload.\n    this.total = sum(this.attachments, a => a.file.size)\n  }\n\n  // The completion percentage of the batch as a whole.\n  //\n  // Returns a Number between 0 and 100.\n  percent(): number {\n    const bytes = (a: Attachment) => (a.file.size * a.percent) / 100\n    const total = sum(this.attachments, bytes)\n    return Math.round((total / this.total) * 100)\n  }\n\n  uploaded(): number {\n    const value = (a: Attachment) => (a.isSaved() ? 1 : 0)\n    return sum(this.attachments, value)\n  }\n\n  // The completion state of the batch.\n  //\n  // Returns true when all files have been uploaded.\n  isFinished(): boolean {\n    return this.attachments.every(attachment => attachment.isSaved())\n  }\n}\n\nfunction sum<T>(items: T[], map: (item: T) => number): number {\n  return items.reduce((total, item) => total + map(item), 0)\n}\n","import {resetState, upload} from '../upload/batch-upload'\nimport Batch from '../upload/batch'\nimport type FileAttachmentElement from '@github/file-attachment-element'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\n\n// Synchronize element state with primer styles. This should be replaced with CSS.\nobserve('file-attachment[hover]', {\n  add(el) {\n    el.classList.add('dragover')\n  },\n  remove(el) {\n    el.classList.remove('dragover')\n  }\n})\n\n// Cancel empty drops after filtering out hidden dot files.\non('file-attachment-accept', 'file-attachment', function (event) {\n  const {attachments} = event.detail\n  if (attachments.length === 0) {\n    resetState(event.currentTarget, 'is-hidden-file')\n    event.preventDefault()\n  }\n})\n\n// Upload batched files after passing validation.\non('file-attachment-accepted', 'file-attachment', function (event) {\n  // CodeEditor will hide this element if it wants to handle uploads\n  const dragAndDropLabel = event.currentTarget.querySelector<HTMLElement>('.drag-and-drop')\n  if (dragAndDropLabel && dragAndDropLabel.hidden) {\n    return\n  }\n\n  const {attachments} = event.detail\n  upload(new Batch(attachments), event.currentTarget as FileAttachmentElement)\n})\n\nlet count = 0\n\nobserve('file-attachment', {\n  add(el) {\n    if (count++ === 0) {\n      document.addEventListener('drop', onDocumentDrop)\n      document.addEventListener('dragover', onDocumentDragover)\n    }\n    const form = el.closest('form')\n    if (form) {\n      form.addEventListener('reset', onFormReset)\n    }\n  },\n  remove(el) {\n    if (--count === 0) {\n      document.removeEventListener('drop', onDocumentDrop)\n      document.removeEventListener('dragover', onDocumentDragover)\n    }\n\n    const form = el.closest('form')\n    if (form) {\n      form.removeEventListener('reset', onFormReset)\n    }\n  }\n})\n\nfunction hasFile(transfer: DataTransfer): boolean {\n  return Array.from(transfer.types).indexOf('Files') >= 0\n}\n\n// Ignores accidental drops that miss the textarea.\nfunction onDocumentDrop(event: DragEvent) {\n  const transfer = event.dataTransfer\n  if (transfer && hasFile(transfer)) {\n    event.preventDefault()\n  }\n}\n\n// Prevent accidental drops until we're over a textarea.\nfunction onDocumentDragover(event: DragEvent) {\n  const transfer = event.dataTransfer\n  if (transfer && hasFile(transfer)) {\n    event.preventDefault()\n  }\n}\n\n// Parent form has been reset. Reset uploadable state back to default.\nfunction onFormReset({currentTarget}: Event) {\n  const container = (currentTarget as Element).querySelector<HTMLElement>('file-attachment')!\n  resetState(container, 'is-default')\n}\n","type Predicate = (el: Element, query: string) => boolean | null\ntype Options = {limit?: number | null}\n\nexport function filterList(list: Element, query: string, isVisible: Predicate, options: Options = {}): number {\n  const limit = options.limit ?? Infinity\n  let visible = 0\n  for (const item of list.children) {\n    const show = isVisible(item, query)\n    if (show == null) {\n      // ignore\n    } else if (show && visible < limit) {\n      visible++\n      toggle(item as HTMLElement, true)\n    } else {\n      toggle(item as HTMLElement, false)\n    }\n  }\n  return visible\n}\n\nfunction toggle(el: HTMLElement, show: boolean) {\n  el.style.display = show ? '' : 'none'\n  el.hidden = !show\n}\n","import FilterInputElement from '@github/filter-input-element'\nimport {announce} from '../aria-live'\nimport {on} from 'delegated-events'\n\non('filter-input-updated', 'filter-input', event => {\n  const input = (event.currentTarget as FilterInputElement).input\n  if (!(document.activeElement && document.activeElement === input)) return\n  const {count, total} = event.detail\n  // eslint-disable-next-line i18n-text/no-en\n  announce(`Found ${count} out of ${total} ${total === 1 ? 'item' : 'items'}`)\n})\n\non(\n  'toggle',\n  'details',\n  event => {\n    // Wait for the next click to ensure that focus has left input\n    setTimeout(() => resetFilter(event.target as Element), 0)\n  },\n  {capture: true}\n)\n\non(\n  'tab-container-changed',\n  'tab-container',\n  event => {\n    if (!(event.target instanceof HTMLElement)) return\n    const {relatedTarget: panel} = event.detail\n    const filterInput = event.target.querySelector('filter-input')\n    if (filterInput instanceof FilterInputElement) {\n      filterInput.setAttribute('aria-owns', panel.id)\n    }\n  },\n  {capture: true}\n)\n\nfunction resetFilter(target: Element) {\n  const filterInput = target.querySelector<FilterInputElement>('filter-input')\n  if (filterInput && !target.hasAttribute('open')) {\n    filterInput.reset()\n  }\n}\n","import type {TextScore} from './fuzzy-filter'\nimport {compare} from './fuzzy-filter'\nimport {filterSort} from './filter-sort'\n\nconst originalOrder = new WeakMap<Element, HTMLElement[]>()\n\ninterface FilterOptions {\n  limit?: number | null\n  sortKey: (item: HTMLElement) => TextScore | null | undefined\n}\n\n// Filters and sorts list element items against a text query. For use with lists that\n// are already in the DOM, not with lists of results that are changed dynamically\n// via ajax.\n//\n// Returns Number of visible items.\nexport function filterSortList(list: Element, string: string, options: FilterOptions): number {\n  const query = string.toLowerCase()\n  const limit = options.limit\n\n  let allItems = originalOrder.get(list)\n  const checkedInputBeforeFilter = list.querySelector('input[type=\"radio\"]:checked')\n  const children = Array.from(list.children)\n  if (!allItems) {\n    allItems = Array.from(list.children) as HTMLElement[]\n    originalOrder.set(list, allItems)\n  }\n  for (const item of children) {\n    list.removeChild(item)\n    if (item instanceof HTMLElement) item.style.display = ''\n  }\n\n  const found = query ? filterSort(allItems, options.sortKey, compare) : allItems\n  const limited = limit == null ? found : found.slice(0, limit)\n  const visible = limited.length\n  const results = document.createDocumentFragment()\n  for (const item of limited) {\n    results.appendChild(item)\n  }\n\n  // This ensures that checked input before and after filtering is the same one\n  // See https://github.com/github/github/issues/88129#issuecomment-434839397\n  let inputStateReset = false\n  if (checkedInputBeforeFilter instanceof HTMLInputElement) {\n    for (const checkedInput of results.querySelectorAll('input[type=\"radio\"]:checked')) {\n      if (checkedInput instanceof HTMLInputElement && checkedInput.value !== checkedInputBeforeFilter.value) {\n        checkedInput.checked = false\n        inputStateReset = true\n      }\n    }\n  }\n\n  list.appendChild(results)\n\n  // Dispatch a change event after render for details-menu or any other code reacting to the input state\n  if (checkedInputBeforeFilter && inputStateReset) {\n    checkedInputBeforeFilter.dispatchEvent(new Event('change', {bubbles: true}))\n  }\n\n  // hide all dividers if query.length > 0\n  const dividers = list.querySelectorAll('.js-divider')\n  for (const divider of dividers) {\n    /* eslint-disable-next-line github/no-d-none */\n    divider.classList.toggle('d-none', Boolean(query && query.trim().length > 0))\n  }\n\n  return visible\n}\n","import verifySsoSession from './sso'\n\ninterface FilterOptions {\n  limit?: number | null\n}\n\n// Only login, name & selected are attributes required on both server side and payload rendered elements.\n// IE if we construct a user element from a .js-filterable-suggested-user HTMLElement.\ninterface User {\n  id?: string\n  type?: string\n  login: string\n  name: string\n  selected: boolean\n  disabled?: boolean\n  element?: HTMLElement\n  description?: string\n  avatar?: string\n  class?: string\n  suggestion?: boolean\n}\n\ninterface Data {\n  suggestions: User[]\n  users: User[]\n}\n\ninterface TypeAheadData {\n  lastSearchResult: Data\n  lastSearchText: string\n  cachedSuggestions: User[]\n\n  // Used to cache a user ID to a pre-existing rendered element (if they exist in multiple search results).\n  // This is needed to persist their selected state across multiple searches.\n  // Key is user.id (as a string) to the rendered element\n  userResultCache: Map<string, HTMLElement>\n}\n\n// Used to abort any previous type-ahead request if not needed\nlet abortController = new AbortController()\n\nconst typeAheadCache = new WeakMap<Element, TypeAheadData>()\nconst cache = new WeakMap<Element, Data>()\nconst currentQueryForList = new WeakMap<Element, string>()\n\nasync function getData(list: Element, queryText: string, typeAhead: boolean): Promise<Data> {\n  if (typeAhead && !typeAheadCache.has(list)) {\n    initializeTypeAheadCache(list)\n  }\n\n  const data = await fetchQueryIfNeeded(list, queryText, typeAhead)\n  const hasPreRenderedData = list.hasAttribute('data-filterable-data-pre-rendered')\n\n  if (hasPreRenderedData) {\n    data.suggestions = getPreRenderedUsers(list, typeAhead)\n  }\n\n  return data\n}\n\nasync function fetchQueryIfNeeded(list: Element, queryText: string, typeAhead: boolean): Promise<Data> {\n  const url = new URL(list.getAttribute('data-filterable-src')!, window.location.origin)\n\n  if (typeAhead) {\n    const typeAheadData = typeAheadCache.get(list)!\n    const trimmedText = queryText.trim()\n    if (typeAheadData.lastSearchText === trimmedText) return typeAheadData.lastSearchResult\n    typeAheadData.lastSearchText = trimmedText\n\n    const inputId = list.getAttribute('data-filterable-for')!\n    const inputElement = document.getElementById(inputId)\n\n    // Abort any old requests (if any)\n    abortController.abort()\n    if (trimmedText === '') {\n      typeAheadData.lastSearchResult = {suggestions: [], users: []}\n    } else {\n      // Abort controller needs to be re-created, there exists one per abort.\n      abortController = new AbortController()\n      const requestHeaders = {\n        headers: {Accept: 'application/json', 'X-Requested-With': 'XMLHttpRequest'},\n        signal: abortController.signal\n      }\n\n      const params = url.searchParams || new URLSearchParams()\n      params.set('q', queryText)\n      params.set('typeAhead', 'true')\n      url.search = params.toString()\n      inputElement?.classList.add('is-loading')\n      const response = await fetch(url.toString(), requestHeaders)\n      typeAheadData.lastSearchResult = await response.json()\n    }\n\n    inputElement?.classList.remove('is-loading')\n    return typeAheadData.lastSearchResult\n  } else {\n    const requestHeaders = {headers: {Accept: 'application/json', 'X-Requested-With': 'XMLHttpRequest'}}\n    const response = await fetch(url.toString(), requestHeaders)\n    return await response.json()\n  }\n}\n\n// This function will try to find any server side rendered users through the tag `.js-filterable-suggested-user`\n// If any are found, they will be added to the API returned data.\n// This users are distinct from the 'suggestions' currently returned through the reviewers API call.\nfunction getPreRenderedUsers(list: Element, typeAhead: boolean): User[] {\n  const data = []\n  // Add all server rendered users to the `suggestions` list (if any).\n  const suggestedUsers = list.querySelectorAll<HTMLElement>('.js-filterable-suggested-user')\n\n  // If the list has been refreshed, or first time loaded, this will be non-zero, and therefore we clear the array and re-add the new items\n  if (suggestedUsers.length > 0) {\n    // Read the server-side rendered elements that need to be added to suggestions.\n    // This is a work-around to allow the server-side rendered elements to work with the filtering.\n    for (const suggestedUser of list.querySelectorAll<HTMLElement>('.js-filterable-suggested-user')) {\n      suggestedUser.classList.remove('js-filterable-suggested-user')\n\n      // Deconstruct the element into a <User> object\n      data.push({\n        name: suggestedUser.querySelector('.js-description')!.textContent!,\n        login: suggestedUser.querySelector('.js-username')!.textContent!,\n        selected: suggestedUser.getAttribute('aria-checked') === 'true',\n        element: suggestedUser,\n        suggestion: true\n      })\n    }\n  }\n\n  // If the list has been refreshed, or first time loaded, this will be non-zero, and therefore we clear the array and re-add the new items\n  if (typeAhead) {\n    const typeAheadData = typeAheadCache.get(list)!\n    if (suggestedUsers.length > 0) {\n      typeAheadData.cachedSuggestions = data\n      typeAheadData.userResultCache.clear()\n    }\n\n    return typeAheadData.cachedSuggestions\n  }\n\n  return data\n}\n\nfunction initializeTypeAheadCache(list: Element) {\n  typeAheadCache.set(list, {\n    lastSearchResult: {suggestions: [], users: []},\n    lastSearchText: '',\n    cachedSuggestions: [],\n    userResultCache: new Map<string, HTMLElement>()\n  })\n}\n\n// This is like `substringFilterList`, but instead of filtering down direct\n// children of a DOM element, obtain most data from a JSON payload and search\n// within that instead, only generating actual DOM elements when they are\n// \"revealed\" by matching the search term. Similarly, remove elements from the\n// DOM when they don't match a search term and they're not selected.\n//\n// Also, because elements might already exist in the DOM because of their\n// pre-selected state, merge those elements with the data coming from JSON.\nexport async function substringMemoryFilterList(\n  list: Element,\n  queryText: string,\n  options: FilterOptions\n): Promise<number> {\n  currentQueryForList.set(list, queryText)\n\n  await verifySsoSession()\n\n  const showSuggestionsHeaderOnLoad = list.hasAttribute('data-filterable-show-suggestion-header')\n  const typeAhead = list.hasAttribute('data-filterable-type-ahead')\n  let data = cache.get(list)\n\n  if (!data) {\n    try {\n      data = await getData(list, queryText, typeAhead)\n      if (!typeAhead) cache.set(list, data)\n    } catch (error) {\n      if (error.name === 'AbortError') {\n        // A stale type-ahead request was aborted\n        return -1\n      } else {\n        throw error\n      }\n    }\n  }\n\n  // This logic only exists when type-ahead is disabled\n  if (!typeAhead && currentQueryForList.get(list) !== queryText) {\n    return -1\n  }\n\n  const limit = options.limit\n  const template = list.querySelector<HTMLTemplateElement>('template')!\n\n  // an index of items already rendered into DOM due to being preselected\n  const existingElements: {[key: string]: HTMLInputElement} = {}\n  for (const existing of list.querySelectorAll<HTMLInputElement>('input[type=hidden]')) {\n    existingElements[`${existing.name}${existing.value}`] = existing\n  }\n\n  // remove all non-selected items after the template element\n  let cutoffPoint = template.nextElementSibling\n  while (cutoffPoint) {\n    const el = cutoffPoint\n    cutoffPoint = el.nextElementSibling\n    if (\n      el instanceof HTMLElement &&\n      (typeAhead || el.getAttribute('aria-checked') === 'true' || el.classList.contains('select-menu-divider'))\n    ) {\n      el.hidden = true\n    } else {\n      el.remove()\n    }\n  }\n\n  let visible = 0\n\n  const queryTextEmpty = queryText.trim() === ''\n  const items = document.createDocumentFragment()\n  const suggestionsDivider = list.querySelector<HTMLElement>('.js-divider-suggestions')\n  const restDivider = list.querySelector<HTMLElement>('.js-divider-rest')\n  const typeAheadData = typeAheadCache.get(list)\n\n  function addItem(user: User) {\n    const containsQueryText = `${user.login} ${user.name}`.toLowerCase().trim().includes(queryText)\n    const matching = !(limit != null && visible >= limit) && containsQueryText\n    const shouldGenerate = matching || user.selected || user.suggestion\n    if (shouldGenerate) {\n      const item = createReviewerItem(user, template, existingElements, typeAheadData)\n      item.hidden = !matching\n      if (matching) visible++\n      items.appendChild(item)\n    }\n  }\n\n  let anyVisibleNonSelectedSuggestions = false\n\n  // We show suggestions header if we\n  // 1) Actually have suggestions, or\n  // 2) If we still want to show suggestions title (declared by the attribute), but don't ever have any suggestions\n  // (ie data.suggestions is undefined), the criteria simply becomes whether or not there is any query text.\n  if (suggestionsDivider && (data.suggestions?.length > 0 || (showSuggestionsHeaderOnLoad && data.users.length > 0))) {\n    const suggestions = data.suggestions ?? []\n    const selectedSuggestions = suggestions.filter(u => u.selected)\n    const nonSelectedSuggestions = suggestions.filter(u => !u.selected)\n\n    for (const u of selectedSuggestions) {\n      addItem(u)\n    }\n\n    // Put the suggestions after the already assigned users\n    items.appendChild(suggestionsDivider)\n    const preSuggestionsVisibleCount = visible\n    for (const u of nonSelectedSuggestions) {\n      addItem(u)\n    }\n    anyVisibleNonSelectedSuggestions = visible > preSuggestionsVisibleCount\n\n    suggestionsDivider.hidden = !anyVisibleNonSelectedSuggestions || (typeAhead && !queryTextEmpty)\n\n    // Special case where we want to force show the suggestions header even without suggestions in the payload.\n    if (showSuggestionsHeaderOnLoad && data.users.length > 0) {\n      suggestionsDivider.hidden = !queryTextEmpty\n    }\n  }\n\n  if (restDivider) {\n    items.appendChild(restDivider)\n  }\n\n  const preUsersVisibleCount = visible\n  for (const u of data.users) {\n    addItem(u)\n  }\n\n  if (restDivider) {\n    restDivider.hidden = preUsersVisibleCount === visible || !anyVisibleNonSelectedSuggestions\n  }\n\n  list.append(items)\n  return visible\n}\n\nfunction createReviewerItem(\n  user: User,\n  template: HTMLTemplateElement,\n  existingElements: Record<string, HTMLElement>,\n  typeAheadData: TypeAheadData | undefined\n): HTMLElement {\n  if (user.element != null) {\n    return user.element\n  }\n\n  if (typeAheadData?.userResultCache.has(user.id!)) {\n    return typeAheadData.userResultCache.get(user.id!)!\n  }\n\n  const li = template.content.cloneNode(true) as HTMLElement\n  const input = li.querySelector<HTMLInputElement>('input[type=checkbox], input[type=radio]')!\n\n  if (user.type) {\n    input.name = `reviewer_${user.type}_ids[]`\n  }\n  input.value = user.id!\n\n  const inputKey = `${input.name}${user.id}`\n  let selected = user.selected\n  if (existingElements[inputKey]) {\n    selected = true\n    existingElements[inputKey].remove()\n    delete existingElements[inputKey]\n  }\n\n  const item = li.querySelector<HTMLElement>('[role^=menuitem]')!\n  if (selected) {\n    item.setAttribute('aria-checked', 'true')\n    input.checked = true\n  }\n\n  if (user.disabled) {\n    item.setAttribute('aria-disabled', 'true')\n  }\n\n  const login = li.querySelector('.js-username')\n  if (login) login.textContent = user.login\n  const fullName = li.querySelector('.js-description')\n  if (fullName) fullName.textContent = user.name\n  const description = li.querySelector('.js-extended-description')\n  if (description) {\n    if (user.description) {\n      description.textContent = user.description\n    } else {\n      description.remove()\n    }\n  }\n  const avatar = li.querySelector<HTMLImageElement>('.js-avatar')!\n  avatar.className = `${avatar.className} ${user.class}`\n  avatar.src = user.avatar!\n\n  user.element = item\n\n  typeAheadData?.userResultCache.set(user.id!, item)\n\n  return user.element\n}\n","// Filterable Behavior\n//\n// Automatically filters and sorts a list of items against a text field.\n//\n// Markup\n//\n// * js-filterable-field  - Set on field to enable filtering.\n// * data-filterable-for  - Set to ID of input field to bind too.\n// * data-filterable-type - Filtering type. Either \"prefix\", \"substring\", or \"fuzzy\". Defaults to \"prefix\"\n//\n// <input id=\"file-filter-field\" class=\"js-filterable-field\" autocomplete=\"off\">\n//\n// <ul data-filterable-for=\"file-filter-field\" data-filterable-type=\"fuzzy\">\n//   <li>Foo</li>\n//   <li>Bar</li>\n//   <li>Baz</li>\n// </ul>\n//\n//\n// Events\n//\n// filterable:change\n//\n// * **Bubbles** Yes\n// * **Cancelable** No\n// * **Target** List container Element\n// * **Context info**\n//   * relatedTarget - Input field Element\n//\n// $('ul').on('filterable:change', function() {\n//   console.log('order changed')\n// })\n//\n\nimport {addThrottledInputEventListener, removeThrottledInputEventListener} from '../throttled-input'\nimport {fire, on} from 'delegated-events'\nimport {announce} from '../aria-live'\nimport {filterList} from '../filter-list'\nimport {filterSortList} from '../filter-sort-list'\nimport {fuzzyScore} from '../fuzzy-filter'\nimport {microtask} from '../eventloop-tasks'\nimport {observe} from 'selector-observer'\nimport {substringMemoryFilterList} from '../substring-memory-filter-list'\n\nobserve('.js-filterable-field', {\n  constructor: HTMLInputElement,\n  initialize(field) {\n    if (!field.autocomplete) {\n      field.autocomplete = 'off'\n    }\n\n    // A null value will default to whatever is specified within `throttled-input.ts`\n    const throttleWaitInMs = field.hasAttribute('type-ahead') ? 200 : null\n    let value = field.value\n\n    async function onInputChange(input: HTMLInputElement | HTMLTextAreaElement) {\n      if (value === input.value) return\n      value = input.value\n      await microtask()\n      fire(input, 'filterable:change')\n    }\n\n    async function onFocus() {\n      value = field.value\n      await microtask()\n      fire(field, 'filterable:change')\n    }\n\n    return {\n      add(el) {\n        el.addEventListener('focus', onFocus)\n        addThrottledInputEventListener(el, onInputChange, {wait: throttleWaitInMs})\n        if (document.activeElement === el) onFocus()\n      },\n      remove(el) {\n        el.removeEventListener('focus', onFocus)\n        removeThrottledInputEventListener(el, onInputChange)\n      }\n    }\n  }\n})\n\n// Trigger 'filterable:change' on an input after any\n// direct val() calls\non('filterable:change', '.js-filterable-field', async function (event: Event) {\n  const target = event.currentTarget as HTMLInputElement\n  const queryString = target.value.trim().toLowerCase()\n  const filterable = document.querySelectorAll(`[data-filterable-for=\"${target.id}\"]`)\n  for (const list of filterable) {\n    const visible = await filter(list, queryString)\n    if (visible === -1) return\n    if (document.activeElement && target === document.activeElement) {\n      announce(`${visible} results found.`)\n    }\n\n    list.dispatchEvent(\n      new CustomEvent('filterable:change', {\n        bubbles: true,\n        cancelable: false,\n        detail: {\n          inputField: target\n        }\n      })\n    )\n  }\n})\n\nfunction defaultText(content: Element): string {\n  return content.hasAttribute('data-filter-value')\n    ? content.getAttribute('data-filter-value')!.toLowerCase().trim()\n    : content.textContent!.toLowerCase().trim()\n}\n\nasync function filter(list: Element, queryString: string): Promise<number> {\n  const limit = parseInt(list.getAttribute('data-filterable-limit')!, 10) || null\n\n  let visible = 0\n  switch (list.getAttribute('data-filterable-type')) {\n    case 'fuzzy': {\n      const searchQuery = queryString.toLowerCase()\n      const sortKey = (item: HTMLElement) => {\n        const text = defaultText(item)\n        const score = fuzzyScore(text, searchQuery)\n        return score > 0 ? {score, text} : null\n      }\n      visible = filterSortList(list, queryString, {limit, sortKey})\n      break\n    }\n    case 'substring':\n      visible = filterList(list, queryString.toLowerCase(), substring, {limit})\n      break\n    case 'substring-memory':\n      visible = await substringMemoryFilterList(list, queryString, {limit})\n      break\n    default:\n      visible = filterList(list, queryString.toLowerCase(), prefix, {limit})\n      break\n  }\n\n  list.classList.toggle('filterable-active', queryString.length > 0)\n  list.classList.toggle('filterable-empty', visible === 0)\n\n  return visible\n}\n\nfunction prefix(el: Element, queryString: string): boolean {\n  return el.textContent!.toLowerCase().trim().startsWith(queryString)\n}\n\nfunction substring(el: Element, queryString: string): boolean | null {\n  if (el.classList.contains('select-menu-no-results')) return null\n  const target = el.querySelector('[data-filterable-item-text]') || el\n  return target.textContent!.toLowerCase().trim().includes(queryString)\n}\n\n// Toggle new create new item form when filter doesn't match any existing items\non('filterable:change', 'details-menu .select-menu-list', function (event) {\n  const list = event.currentTarget\n  const form = list.querySelector('.js-new-item-form')\n\n  if (form) {\n    toggleForm(list, form, event.detail.inputField.value)\n  }\n})\n\nfunction toggleForm(list: Element, form: Element, filterText: string) {\n  const show = filterText.length > 0 && !itemExists(list, filterText)\n  list.classList.toggle('is-showing-new-item-form', show)\n\n  if (!show) return\n\n  form.querySelector<HTMLElement>('.js-new-item-name')!.textContent = filterText\n\n  const item = form.querySelector('.js-new-item-value')\n  if (item instanceof HTMLInputElement || item instanceof HTMLButtonElement) {\n    item.value = filterText\n  }\n}\n\n// Detect if filtered item is already present in the list.\n//\n// container  - filterable list element\n// filterText - String value of filter field\n//\n// Returns true if item already exists, otherwise false.\nfunction itemExists(container: Element, filterText: string): boolean {\n  for (const item of container.querySelectorAll('[data-menu-button-text]')) {\n    const text = (item as HTMLElement).textContent!.toLowerCase().trim()\n    if (text === filterText.toLowerCase()) {\n      return true\n    }\n  }\n  return false\n}\n\n// Hoist empty class to parent for styling.\nobserve('tab-container .select-menu-list .filterable-empty, details-menu .select-menu-list .filterable-empty', {\n  add(el) {\n    const list = el.closest<HTMLElement>('.select-menu-list')!\n    list.classList.add('filterable-empty')\n  },\n  remove(el) {\n    const list = el.closest<HTMLElement>('.select-menu-list')!\n    list.classList.remove('filterable-empty')\n  }\n})\n","// *HACK*\n//\n// In Firefox label.focus() transfers focus to <input> even with tabindex\n// attribute. This is a problem because <details-menu> relies on menuitem to be\n// the activeElement. See: https://github.com/github/github/issues/123224\n//\n// This script ties in very closely with <details-menu>'s navigation logic.\n// Tread with caution.\nimport {microtask} from '../eventloop-tasks'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\nimport {onKey} from '../onfocus'\n\nconst firefox = navigator.userAgent.match(/Firefox\\/(\\d+)/)\n\n// This should be remove as the user count for Firefox > 76 grows\nif (firefox && Number(firefox[1]) < 76) {\n  // Rely on <input> as activeElement in Firefox instead of <label>\n  observe('details-menu label[tabindex][role^=\"menuitem\"]', el => {\n    const input = el.querySelector('input')\n    if (!input) return\n\n    // Input needs to be displayed to be focused\n\n    // .select-menu-item input { display: none; }\n    const hiddenBySelectMenu = el.classList.contains('select-menu-item')\n    // eslint-disable-next-line github/no-d-none\n    const hiddenByDNone = input.classList.contains('d-none')\n    const hidden = hiddenBySelectMenu || hiddenByDNone || input.hidden\n\n    if (hiddenBySelectMenu) input.classList.add('d-block')\n    // eslint-disable-next-line github/no-d-none\n    if (hiddenByDNone) input.classList.remove('d-none')\n    if (hidden) {\n      input.classList.add('sr-only')\n      input.hidden = false\n    }\n\n    el.removeAttribute('tabindex')\n  })\n\n  // Normally we rely on :focus for styling, but it doesn't happen on <label>\n  // anymore. So instead:\n  //\n  // On focus/blur, toggle .navigation-focus to style label as focused\n  //\n  // eslint-disable-next-line delegated-events/global-on\n  on(\n    'focus',\n    'details-menu label[role=\"menuitemradio\"] input, details-menu label[role=\"menuitemcheckbox\"] input',\n    event => {\n      const label = event.currentTarget.closest<HTMLElement>('label')!\n      if (label.classList.contains('select-menu-item')) label.classList.add('navigation-focus')\n      if (label.classList.contains('SelectMenu-item')) label.classList.add('hx_menuitem--focus')\n      if (label.classList.contains('dropdown-item')) label.classList.add('hx_menuitem--focus')\n      event.currentTarget.addEventListener(\n        'blur',\n        () => {\n          if (label.classList.contains('select-menu-item')) label.classList.remove('navigation-focus')\n          if (label.classList.contains('SelectMenu-item')) label.classList.remove('hx_menuitem--focus')\n          if (label.classList.contains('dropdown-item')) label.classList.remove('hx_menuitem--focus')\n        },\n        {once: true}\n      )\n    },\n    {capture: true}\n  )\n\n  // <details-menu> listens on ArrowDown/ArrowUp keydown events to navigate.\n  // In Firefox it will always focus on the first/last item, because the\n  // activeElement (<input>) is not a [role^=menuitem]. The workaround:\n  //\n  // On arrow keydown: before details-menu navigates, move [role] from <label>\n  // to <input> so <details-menu> knows the current index.\n  //\n  // Unrelated to navigation- by default, pressing Enter while focusing on\n  // <input> will submit the form. We don't want that here.\n  //\n  // On enter keydown: simulate click for activation and prevent default.\n  onKey(\n    'keydown',\n    'details-menu label[role=\"menuitemradio\"] input, details-menu label[role=\"menuitemcheckbox\"] input',\n    async function (event: KeyboardEvent) {\n      if (isArrowKeys(event)) {\n        if (event.currentTarget instanceof Element) switchRoleToInputForNavigation(event.currentTarget)\n      } else if (event.key === 'Enter') {\n        const input = event.currentTarget\n        event.preventDefault()\n        await microtask()\n        if (input instanceof HTMLInputElement) input.click()\n      }\n    }\n  )\n\n  // On blur: after <details-menu> moved focus away from current <input>, revert\n  // role attribute back to <label>.\n  //\n  // eslint-disable-next-line delegated-events/global-on\n  on(\n    'blur',\n    'details-menu label input[role=\"menuitemradio\"], details-menu label input[role=\"menuitemcheckbox\"]',\n    event => {\n      switchRoleBackToOriginalState(event.currentTarget)\n    },\n    {capture: true}\n  )\n\n  // On arrow keyup: if arrow keydown did not trigger blur (for example, when\n  // there is only one item), revert [role] back to <label>.\n  onKey(\n    'keyup',\n    'details-menu label[role=\"menuitemradio\"] input, details-menu label[role=\"menuitemcheckbox\"] input',\n    event => {\n      if (!isArrowKeys(event)) return\n      if (event.currentTarget instanceof Element) switchRoleBackToOriginalState(event.currentTarget)\n    }\n  )\n}\n\nfunction isArrowKeys(event: KeyboardEvent): boolean {\n  return event.key === 'ArrowDown' || event.key === 'ArrowUp'\n}\n\n// From a nearby `<label>` tag, get the `data-role` and set it onto the input,\n// removing the role from the label.\nfunction switchRoleToInputForNavigation(input: Element) {\n  const label = input.closest<HTMLElement>('label')!\n  if (!label.hasAttribute('data-role')) label.setAttribute('data-role', label.getAttribute('role')!)\n  input.setAttribute('role', label.getAttribute('data-role')!)\n  label.removeAttribute('role')\n}\n\n// From a nearby `<label>` tag, get the `data-role` and the label to that\n// data-role, removing the role from the input.\nfunction switchRoleBackToOriginalState(input: Element) {\n  const label = input.closest<HTMLElement>('label')!\n  if (!label.hasAttribute('data-role')) label.setAttribute('data-role', label.getAttribute('role')!)\n  label.setAttribute('role', label.getAttribute('data-role')!)\n  input.removeAttribute('role')\n}\n","// Installs observer to account for sticky/fixed overlay offsets when navigating\n// to a fragment.\n\nimport {computeFixedYOffset, scrollToFragmentTarget} from '../sticky-scroll-into-view'\nimport hashChange from './hash-change'\nimport {on} from 'delegated-events'\n\nfunction scrollTargetIntoViewIfNeeded() {\n  if (computeFixedYOffset(document)) {\n    scrollToFragmentTarget(document)\n  }\n}\n\nhashChange(scrollTargetIntoViewIfNeeded)\n\non('click', 'a[href^=\"#\"]', function (event) {\n  const {currentTarget} = event\n  if (!(currentTarget instanceof HTMLAnchorElement)) return\n\n  // this defers the execution of scrollTargetIntoViewIfNeeded until after all the click stuff happened, including after scroll\n  setTimeout(scrollTargetIntoViewIfNeeded, 0)\n})\n","// Flash\n//\n// Fades out and removes flash element from the page on close.\n//\n// Markup\n//\n//     <div class=\"flash-messages\">\n//       <div class=\"flash\">\n//         <%= octicon('x', :class => 'flash-close js-flash-close') %>\n//         Flash Message\n//       </div>\n//     </div>\n//\n\nimport {on} from 'delegated-events'\n\non('click', '.js-flash-close', function (event) {\n  const container = event.currentTarget.closest('.flash-messages')\n\n  const flash = event.currentTarget.closest('.flash')\n  flash!.remove()\n\n  if (container && !container.querySelector('.flash')) {\n    container.remove()\n  }\n})\n","import {deleteCookie, getCookies} from './cookies'\nimport {TemplateInstance} from '@github/template-parts'\n\nconst ALLOWED_FLASH_COOKIES = ['flash-notice', 'flash-error', 'flash-message', 'flash-warn']\n\n// Find cookies named something like \"flash-notice\" and render the\n// .js-flash-template template for them.\nexport function displayFlash(el: HTMLTemplateElement) {\n  for (const {key, value} of ALLOWED_FLASH_COOKIES.flatMap(getCookies)) {\n    deleteCookie(key)\n    let message\n    try {\n      message = atob(decodeURIComponent(value))\n    } catch {\n      continue\n    }\n    el.after(new TemplateInstance(el, {className: key, message}))\n  }\n}\n","import {displayFlash} from '../flash'\nimport {observe} from 'selector-observer'\n\nobserve('template.js-flash-template', {\n  constructor: HTMLTemplateElement,\n  add(el) {\n    displayFlash(el)\n  }\n})\n","// Delayed Focus Events\n//\n// Provides a family cancelable focus/blur that trigger slightly later.\n// This makes it easier to build menus that only display when you are\n// focused in on a field.\n//\n// Events\n//\n// `focusin:delay`\n//\n// Fired when field is being focused for the first time. Will not fire\n// if field is blurred, and refocused in less than 200ms.\n//\n// * **Synchronicity** Sync\n// * **Bubbles** Yes\n// * **Cancelable** Yes\n// * **Target** Element that is receiving focus.\n//\n// `focusout:delay`\n//\n// Fired when field has been blurred for the first time. Won't fire if\n// the field is not refocused in under 200ms or the `focusout:delay` is\n// canceled.\n//\n// * **Synchronicity** Sync\n// * **Bubbles** Yes\n// * **Cancelable** No\n// * **Target** Element that is receiving focus.\n//\n// ```javascript\n// on('focusin:delay', function() {\n//   showAutocompletions()\n// })\n//\n// on('focusout:delay', function() {\n//   hideAutocompletions()\n// })\n// ```\n//\n\nimport {fire} from 'delegated-events'\n\nconst focused = new WeakMap()\n\n// We use the \"focus\" and \"blur\" event in the capture phase because Firefox\n// historically had a limitation with \"focusin\" and \"focusout\" not bubbling.\ndocument.addEventListener(\n  'focus',\n  function (event: Event) {\n    const target = event.target\n    if (target instanceof Element && !focused.get(target)) {\n      fire(target, 'focusin:delay')\n      focused.set(target, true)\n    }\n  },\n  {capture: true}\n)\n\ndocument.addEventListener(\n  'blur',\n  function (event: Event) {\n    setTimeout(function () {\n      const target = event.target\n      if (target instanceof Element && target !== document.activeElement) {\n        fire(target, 'focusout:delay')\n        focused.delete(target)\n      }\n    }, 200)\n  },\n  {capture: true}\n)\n","import FuzzyListElement from '../fuzzy-list-element'\nimport {announce} from '../aria-live'\nimport {fromEvent} from '../subscription'\nimport {observe} from 'selector-observer'\n\nfunction noticeHandler(event: Event) {\n  if (!(event instanceof CustomEvent)) return\n  announce(`${event.detail} results found.`)\n}\n\nobserve('fuzzy-list', {\n  constructor: FuzzyListElement,\n  subscribe: fuzzyList => fromEvent(fuzzyList, 'fuzzy-list-sorted', noticeHandler)\n})\n","import {remoteForm} from '@github/remote-form'\n\nremoteForm('.js-form-toggle-target', async function (form, wants) {\n  try {\n    await wants.text()\n  } catch {\n    return\n  }\n\n  const container = form.closest<HTMLElement>('.js-form-toggle-container')!\n  container.querySelector<HTMLElement>('.js-form-toggle-target[hidden]')!.hidden = false\n  form.hidden = true\n})\n","import {on} from 'delegated-events'\n\n// Behaviors related to special cases in GFM content\n// Toggles quoted email reply content\non('click', '.email-hidden-toggle', function (event) {\n  // assert nextElementSibling is .email-hidden-reply\n  const replyContainer = event.currentTarget.nextElementSibling\n  if (!(replyContainer instanceof HTMLElement)) return\n\n  replyContainer.style.display = ''\n  replyContainer.classList.toggle('expanded')\n\n  event.preventDefault()\n})\n","import {on} from 'delegated-events'\n\non('click', '.js-skip-to-content', function (event) {\n  const startOfContent = document.getElementById('start-of-content')\n  if (startOfContent) {\n    const nextElement = startOfContent.nextElementSibling\n    if (nextElement instanceof HTMLElement) {\n      nextElement.setAttribute('tabindex', '-1')\n      nextElement.focus()\n    }\n  }\n  event.preventDefault()\n})\n\nconst touchDevice = 'ontouchstart' in document\n\nfunction compatibleDesktop() {\n  return window.innerWidth > 1012\n}\n\nfor (const headerMenu of document.querySelectorAll('.HeaderMenu-details')) {\n  // On desktop and mobile, ensure that other menus are closed when one opens.\n  headerMenu.addEventListener('toggle', onMenuToggle)\n  if (!touchDevice) {\n    // We can't use `mouseenter` because of Safari bug (v12.0.1).\n    headerMenu.addEventListener('mouseover', onMenuHover)\n    headerMenu.addEventListener('mouseleave', onMenuHover)\n    // On desktop, because the menus are automatically closed on hover, disable\n    // manually collapsing menus to prevent accidental interactions.\n\n    // This is currently commented out due to a bug where dropdown links are not clickable. Awaiting a possible work around\n    // headerMenu.addEventListener('click', disableMenuManualClose)\n  }\n}\n\nlet togglingInProgress = false\n\nfunction onMenuToggle(event: Event) {\n  if (togglingInProgress) return\n  togglingInProgress = true\n\n  for (const headerMenu of document.querySelectorAll('.HeaderMenu-details')) {\n    if (headerMenu === event.currentTarget) continue\n    headerMenu.removeAttribute('open')\n  }\n\n  setTimeout(() => (togglingInProgress = false))\n}\n\nfunction onMenuHover(event: Event) {\n  const {currentTarget} = event\n  if (!(currentTarget instanceof HTMLElement) || !compatibleDesktop()) {\n    return\n  }\n  if (event.type === 'mouseover' && event instanceof MouseEvent) {\n    if (\n      event.target instanceof Node &&\n      event.relatedTarget instanceof Node &&\n      currentTarget.contains(event.target) &&\n      !currentTarget.contains(event.relatedTarget)\n    ) {\n      currentTarget.setAttribute('open', '')\n    }\n  } else {\n    currentTarget.removeAttribute('open')\n  }\n}\n","import {addThrottledInputEventListener} from '../throttled-input'\nimport {fetchSafeDocumentFragment} from '../fetch'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\n\n// Toggle verify SSL visibility for https web hook URLs\nobserve('.js-hook-url-field', {\n  constructor: HTMLInputElement,\n  add(input) {\n    function checkUrl() {\n      const form = input.form\n      if (!form) return\n      let url\n      try {\n        // eslint-disable-next-line no-restricted-syntax\n        url = new URL(input.value)\n      } catch (e) {\n        // Do nothing.\n      }\n      const invalidNotice = form.querySelector('.js-invalid-url-notice')\n      if (invalidNotice instanceof HTMLElement) {\n        invalidNotice.hidden = !!(input.value === '' || (url && /^https?:/.test(url.protocol)))\n      }\n      const insecureNotice = form.querySelector('.js-insecure-url-notice')\n      if (insecureNotice instanceof HTMLElement && url && input.value) {\n        insecureNotice.hidden = /^https:$/.test(url.protocol)\n      }\n      const sslFields = form.querySelector('.js-ssl-hook-fields')\n      if (sslFields instanceof HTMLElement) {\n        sslFields.hidden = !(url && 'https:' === url.protocol)\n      }\n    }\n\n    addThrottledInputEventListener(input, checkUrl)\n    checkUrl()\n  }\n})\n\nfunction chooseEvents(selector: string): void {\n  const events = document.querySelectorAll<HTMLInputElement>('.js-hook-event-checkbox')\n  for (const eventCheckbox of events) {\n    eventCheckbox.checked = eventCheckbox.matches(selector)\n  }\n}\n\non('change', '.js-hook-event-choice', function (event) {\n  const checkbox = event.currentTarget as HTMLInputElement\n  const customIsSelected = checkbox.checked && checkbox.value === 'custom'\n  const hookEventsField = checkbox.closest('.js-hook-events-field')\n  if (hookEventsField) hookEventsField.classList.toggle('is-custom', customIsSelected)\n\n  if (checkbox.checked) {\n    if (customIsSelected) {\n      const hookWildcardEvent = document.querySelector<HTMLInputElement>('.js-hook-wildcard-event')!\n      hookWildcardEvent.checked = false\n    } else if (checkbox.value === 'push') {\n      chooseEvents('[value=\"push\"]')\n    } else if (checkbox.value === 'all') {\n      chooseEvents('.js-hook-wildcard-event')\n    }\n  }\n})\n\n// Hook secret fields behavior\non('details:toggled', '.js-hook-secret', function (event) {\n  const detailsContainer = event.currentTarget\n  const secretField = detailsContainer.querySelector<HTMLInputElement>('.hook-secret-field > input[type=text]')!\n\n  if (detailsContainer.classList.contains('open')) {\n    secretField.focus()\n  }\n})\n\n// Load more delivery logs\non('click', '.js-hook-deliveries-pagination-button', async function (event) {\n  const button = event.currentTarget as HTMLButtonElement\n  button.disabled = true\n  const wrapper = button.parentElement!\n\n  const url = button.getAttribute('data-url')!\n  wrapper.before(await fetchSafeDocumentFragment(document, url))\n  wrapper.remove()\n})\n\n// Redeliver Payload Button\nremoteForm('.js-redeliver-hook-form', async function (form, wants) {\n  let response\n  try {\n    response = await wants.html()\n  } catch (responseError) {\n    form.classList.add('failed')\n    return\n  }\n\n  // replace the whole deliveries index\n  const deliveriesDetails = document.querySelector<HTMLElement>(`.js-hook-deliveries-container`)!\n  deliveriesDetails.replaceWith(response.html)\n})\n\n// Test Service hooks\nremoteForm('.js-test-hook-form', async function (form, wants) {\n  const message = document.querySelector<HTMLElement>('.js-test-hook-message')!\n  message.classList.remove('error', 'success')\n\n  try {\n    await wants.text()\n  } catch (error) {\n    message.classList.add('error')\n    const el = message.querySelector<HTMLElement>('.js-test-hook-message-errors')!\n    if (error.response != null) {\n      const payload = await error.response.json()\n      el.textContent = payload.errors\n    } else {\n      el.textContent = el.getAttribute('data-network-error-message') || ''\n    }\n    return\n  }\n\n  message.classList.add('success')\n})\n","// Hotkey Behavior\n//\n// See https://github.com/github/hotkey\n\nimport {install, uninstall} from '@github/hotkey'\nimport {observe} from 'selector-observer'\n\nobserve('[data-hotkey]', {\n  constructor: HTMLElement,\n  add(element) {\n    install(element)\n  },\n  remove(element) {\n    uninstall(element)\n  }\n})\n","import {compose, fromEvent} from '../subscription'\nimport {fetchSafeDocumentFragment} from '../fetch'\nimport memoize from '@github/memoize'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\nimport {sendOctoEvent} from './octolytics-tracking'\nimport {trackView} from '../hydro-tracking'\n\ntype Position = {\n  containerTop: number\n  containerLeft: number\n  contentClassSuffix: string\n}\n\n// The card content. Moved around the page to where the current hover is\nconst cardContentContainer = document.querySelector('.js-hovercard-content')\n\nconst cachedFetchSafeDocumentFragment = memoize(fetchSafeDocumentFragment)\n\nlet currentTarget: Element | null | undefined\n\nlet activatingElement: Element | null = null\n\nlet deactivateTimer: number | null\n\n// Mouse position for when links wrap lines\nlet mouseX = 0\n\nconst caretDistanceFromTarget = 12\n\n// For calculating position of the card when it hangs to the left\n// NOTE: These need to stay in sync with certain CSS rules in order to keep the\n// caret pointing at the target.\n//\n// caret distance from edge of card\nconst caretPaddingX = 24\nconst caretMarginY = 7\nconst caretPaddingY = caretPaddingX - caretMarginY\n\nconst caretHeight = 16\n\n// The amount of extra time given to move into the content\nconst deactivateTimeout = 100\n\n// The minimum time before opening the hovercard via mouseover\nconst activateTimeout = 250\n\n// Get the content class of a given selector.\n// (Prefixes the selector with `Popover-message--`).\nfunction contentClass(suffix: string): string {\n  const contentClassPrefix = 'Popover-message--'\n  return contentClassPrefix + suffix\n}\n\n// Track a load of the hovercard in octolytics if it stays for > 500ms.\nfunction trackLoad(cardContentBody: HTMLElement) {\n  setTimeout(() => {\n    if (document.body && document.body.contains(cardContentBody)) {\n      // Octolytics\n      const octolyticsElement = cardContentBody.querySelector('[data-hovercard-tracking]')\n      if (octolyticsElement) {\n        const trackingData = octolyticsElement.getAttribute('data-hovercard-tracking')\n        if (trackingData) {\n          const payload: Octolytics.EventPayload = {}\n          payload['event_type'] = 'user-hovercard-load'\n          payload.dimensions = JSON.parse(trackingData)\n          sendOctoEvent(payload)\n        }\n      }\n\n      const trackingElement = cardContentBody.querySelector('[data-hydro-view]')\n      if (trackingElement instanceof HTMLElement) {\n        trackView(trackingElement)\n      }\n    }\n  }, 500)\n}\n\nfunction hideCard() {\n  if (!(cardContentContainer instanceof HTMLElement)) return\n\n  cardContentContainer.style.display = 'none'\n  cardContentContainer.children[0].innerHTML = ''\n\n  activatingElement = null\n  currentTarget = null\n}\n\nfunction selectRectNearestMouse(target: Element): ClientRect {\n  const rects = target.getClientRects()\n  let foundRect = rects[0] || target.getBoundingClientRect() || {top: 0, left: 0, height: 0, width: 0}\n\n  if (rects.length > 0) {\n    for (const rect of rects) {\n      if (rect.left < mouseX && rect.right > mouseX) {\n        foundRect = rect\n        break\n      }\n    }\n  }\n\n  return foundRect\n}\n\nfunction calculatePositions(target: Element): Position {\n  const {width: contentWidth, height: contentHeight} = cardContentContainer!.getBoundingClientRect()\n  const {left: targetX, top: targetY, height: targetHeight, width: targetWidth} = selectRectNearestMouse(target)\n\n  const roomAbove = targetY > contentHeight\n  const hangLeft = target.classList.contains('js-hovercard-left')\n\n  if (hangLeft) {\n    // If there is room, show hovercard above hover position. Else, show it below\n    const left = targetX - contentWidth - caretDistanceFromTarget\n    const targetCenterY = targetY + targetHeight / 2\n    const top = roomAbove\n      ? targetCenterY - contentHeight + caretPaddingY + caretHeight / 2\n      : targetCenterY - caretPaddingY - caretHeight / 2\n\n    return {\n      containerTop: top,\n      containerLeft: left,\n      contentClassSuffix: roomAbove ? 'right-bottom' : 'right-top'\n    }\n  } else {\n    const roomRight = window.innerWidth - targetX > contentWidth\n    const targetCenterX = targetX + targetWidth / 2\n    const left = roomRight ? targetCenterX - caretPaddingX : targetCenterX - contentWidth + caretPaddingX\n    const top = roomAbove\n      ? targetY - contentHeight - caretDistanceFromTarget\n      : targetY + targetHeight + caretDistanceFromTarget\n\n    const contentClassSuffix = roomAbove\n      ? roomRight\n        ? 'bottom-left'\n        : 'bottom-right'\n      : roomRight\n      ? 'top-left'\n      : 'top-right'\n    return {containerTop: top, containerLeft: left, contentClassSuffix}\n  }\n}\n\nfunction positionCard(target: Element, cardContent: Element) {\n  if (!(cardContentContainer instanceof HTMLElement)) return\n\n  // Hide container, reset popover styles\n  cardContentContainer.style.visibility = 'hidden'\n  cardContentContainer.style.display = 'block'\n  cardContent.classList.remove(\n    contentClass('bottom-left'),\n    contentClass('bottom-right'),\n    contentClass('right-top'),\n    contentClass('right-bottom'),\n    contentClass('top-left'),\n    contentClass('top-right')\n  )\n\n  const {containerTop, containerLeft, contentClassSuffix} = calculatePositions(target)\n\n  // Add the class for correct caret location\n  cardContent.classList.add(contentClass(contentClassSuffix))\n\n  // Position the popover & inner message correctly\n  cardContentContainer.style.top = `${containerTop + window.pageYOffset}px`\n  cardContentContainer.style.left = `${containerLeft + window.pageXOffset}px`\n\n  // Set z-index override\n  setZIndexOverride(target, cardContentContainer)\n\n  // After positioning correctly, show the popover again\n  cardContentContainer.style.visibility = ''\n}\n\nfunction showCard(fragment: DocumentFragment, target: Element) {\n  if (!(cardContentContainer instanceof HTMLElement)) return\n\n  const cardContent = cardContentContainer.children[0]\n\n  cardContent.innerHTML = ''\n\n  const cardContentBody = document.createElement('div')\n  for (const child of fragment.children) {\n    cardContentBody.appendChild(child.cloneNode(true))\n  }\n\n  cardContent.appendChild(cardContentBody)\n\n  positionCard(target, cardContent)\n  trackLoad(cardContentBody)\n\n  cardContentContainer.style.display = 'block'\n}\n\nfunction determineEnclosingSubject(target: Element): string | null {\n  const tag = target.closest('[data-hovercard-subject-tag]')\n  if (tag) return tag.getAttribute('data-hovercard-subject-tag')\n  // Fall back to page context\n  const meta = document.head && document.head.querySelector('meta[name=\"hovercard-subject-tag\"]')\n  if (meta) return meta.getAttribute('content')\n  return null\n}\n\nfunction hovercardUrlFromTarget(target: Element): string {\n  const baseHovercardUrl = target.getAttribute('data-hovercard-url')\n\n  if (baseHovercardUrl) {\n    const subjectTag = determineEnclosingSubject(target)\n    if (subjectTag) {\n      const url = new URL(baseHovercardUrl, window.location.origin)\n      const params = new URLSearchParams(url.search.slice(1))\n      params.append('subject', subjectTag)\n      params.append('current_path', window.location.pathname + window.location.search)\n      url.search = params.toString()\n      return url.toString()\n    }\n\n    return baseHovercardUrl\n  }\n\n  return ''\n}\n\n// Determine if a hovercard is enabled for this type of element.\n//\n// Return boolean will be `true` if this link element has hovercard\n// attributes and the link's particular kind of hovercard is enabled for the\n// viewer and that part of the page.\nfunction hovercardsAreEnabledForType(target: Element): boolean {\n  const hovercardType = target.getAttribute('data-hovercard-type')\n\n  if (hovercardType === 'pull_request' || hovercardType === 'issue') {\n    return !!target.closest('[data-issue-and-pr-hovercards-enabled]')\n  }\n\n  if (hovercardType === 'team') {\n    return !!target.closest('[data-team-hovercards-enabled]')\n  }\n\n  if (hovercardType === 'repository') {\n    return !!target.closest('[data-repository-hovercards-enabled]')\n  }\n\n  if (hovercardType === 'commit') {\n    return !!target.closest('[data-commit-hovercards-enabled]')\n  }\n\n  if (hovercardType === 'project') {\n    return !!target.closest('[data-project-hovercards-enabled]')\n  }\n\n  if (hovercardType === 'discussion') {\n    return !!target.closest('[data-discussion-hovercards-enabled]')\n  }\n\n  if (hovercardType === 'acv_badge') {\n    return !!target.closest('[data-acv-badge-hovercards-enabled]')\n  }\n\n  // User and organization hovercards are enabled everywhere\n  return true\n}\n\n// When mousing over a hovercard target, load the data and show the card.\nasync function activateFn(event: Event, minimumTimeout?: number): Promise<void> {\n  const target = event.currentTarget\n\n  if (event instanceof MouseEvent) {\n    mouseX = event.clientX\n  }\n\n  if (!(target instanceof Element)) return\n  if (currentTarget === target) return\n  if (target.closest('.js-hovercard-content')) return\n\n  // Don't actually show issue or PR hovercards unless the link has an ancestor\n  // element with data-issue-and-pr-hovercards-enabled\n  if (!hovercardsAreEnabledForType(target)) return\n\n  hideCard()\n\n  // Set the current target as the one we're currently hovering on\n  currentTarget = target\n  activatingElement = document.activeElement\n\n  const hovercardUrl = hovercardUrlFromTarget(target)\n\n  let fragment: DocumentFragment | null | undefined\n  try {\n    const forcedDelay = new Promise(r => window.setTimeout(r, minimumTimeout, 0))\n    fragment = await cachedFetchSafeDocumentFragment(document, hovercardUrl)\n    await forcedDelay\n  } catch (err) {\n    const response: Response = err.response\n    if (response && response.status === 404) {\n      // eslint-disable-next-line i18n-text/no-en\n      const notAvailableMessage = 'Hovercard is unavailable'\n      target.setAttribute('aria-label', notAvailableMessage)\n      target.classList.add('tooltipped', 'tooltipped-ne')\n    } else if (response && response.status === 410) {\n      const data: {[key: string]: string} = await response.clone().json()\n      target.setAttribute('aria-label', data.message)\n      target.classList.add('tooltipped', 'tooltipped-ne')\n    }\n    return\n  }\n\n  // Ensure that the target is still the active one\n  if (target === currentTarget) {\n    showCard(fragment, target)\n\n    if (event instanceof KeyboardEvent && cardContentContainer instanceof HTMLElement) {\n      cardContentContainer.focus()\n    }\n  }\n}\n\n// Load the data but don't show until at least `activateTimeout` Only used when\n// loading via mouseover.\nfunction activateWithTimeoutFn(event: Event) {\n  activateFn(event, activateTimeout)\n}\n\n// When leaving a hovercard, deactivate unless we're moving to another child.\n// This allows the user to hover into the content area without dismissing.\nfunction deactivateFn(event: Event) {\n  if (!currentTarget) return\n\n  if (event instanceof MouseEvent && event.relatedTarget instanceof HTMLElement) {\n    const relatedTarget = event.relatedTarget\n    if (relatedTarget.closest('.js-hovercard-content') || relatedTarget.closest('[data-hovercard-url]')) {\n      return\n    }\n  } else if (event instanceof KeyboardEvent && activatingElement instanceof HTMLElement) {\n    // Return focus to where it was before the card was opened\n    activatingElement.focus()\n  }\n\n  hideCard()\n}\n\n// Deactivate after 250 ms unless the deactivate timer is canceled as a result\n// of the user entering the hovercard content area.\nfunction deactivateWithTimeoutFn(event: Event) {\n  const targetWas = currentTarget\n\n  deactivateTimer = window.setTimeout(() => {\n    if (currentTarget === targetWas) deactivateFn(event)\n  }, deactivateTimeout)\n}\n\n// Triggered when a key is pressed while either a container is focused, or\n// while inside of an open hovercard.\nfunction keyupFn(event: Event) {\n  if (!(event instanceof KeyboardEvent)) return\n  switch (event.key) {\n    case 'Escape':\n      deactivateFn(event)\n  }\n}\n\n// Cancel the deactivation timer since the user is inside the content now\nfunction cancelDeactivation() {\n  if (deactivateTimer) clearTimeout(deactivateTimer)\n}\n\nif (cardContentContainer) {\n  observe('[data-hovercard-url]', {\n    subscribe: el =>\n      compose(\n        fromEvent(el, 'mouseover', activateWithTimeoutFn),\n        fromEvent(el, 'mouseleave', deactivateWithTimeoutFn),\n        fromEvent(el, 'keyup', keyupFn)\n      )\n  })\n\n  observe('[data-hovercard-url]', {\n    remove(el) {\n      // Hide the card if we're removing the element that triggered it\n      if (currentTarget === el) hideCard()\n    }\n  })\n\n  observe('.js-hovercard-content', {\n    subscribe: el =>\n      compose(\n        fromEvent(el, 'mouseover', cancelDeactivation),\n        fromEvent(el, 'mouseleave', deactivateFn),\n        fromEvent(el, 'keyup', keyupFn)\n      )\n  })\n\n  observe('.js-hovercard-include-fragment', {\n    constructor: HTMLTemplateElement,\n    add(template) {\n      if (currentTarget) {\n        showCard(template.content, currentTarget)\n      }\n    }\n  })\n\n  // eslint-disable-next-line delegated-events/global-on\n  on('menu:activated', 'details', hideCard)\n\n  window.addEventListener('statechange', hideCard)\n}\n\nfunction setZIndexOverride(target: Element, container: HTMLElement) {\n  const zIndex = target.getAttribute('data-hovercard-z-index-override')\n  if (zIndex) {\n    container.style.zIndex = zIndex\n  } else {\n    // Reset to initial z-index from Popover\n    container.style.zIndex = '100'\n  }\n}\n","// Toggle hidden attribute on elements inside <include-fragment> and\n// <poll-include-fragment> elements that have the data-hide-on-error and\n// data-show-on-error attributes on them when error events are fired.\n\nimport {compose, fromEvent} from '../subscription'\nimport type IncludeFragmentElement from '@github/include-fragment-element'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\n\nobserve('include-fragment, poll-include-fragment', {\n  subscribe: el => compose(fromEvent(el, 'error', onError), fromEvent(el, 'loadstart', onLoad))\n})\n\non('click', 'include-fragment button[data-retry-button]', ({currentTarget}) => {\n  const includeFragment = currentTarget.closest<IncludeFragmentElement>('include-fragment')!\n  const url = includeFragment.src\n  includeFragment.src = ''\n  includeFragment.src = url\n})\n\nfunction toggleElements(event: Event, showError: boolean) {\n  const fragment = event.currentTarget\n  if (!(fragment instanceof Element)) return\n\n  for (const el of fragment.querySelectorAll('[data-show-on-error]')) {\n    if (el instanceof HTMLElement) el.hidden = !showError\n  }\n  for (const el of fragment.querySelectorAll('[data-hide-on-error]')) {\n    if (el instanceof HTMLElement) el.hidden = showError\n  }\n}\n\nfunction onLoad(event: Event) {\n  toggleElements(event, false)\n}\n\nfunction onError(event: Event) {\n  toggleElements(event, true)\n}\n","import {logPageView} from '../jump-to/page-views'\nimport {observe} from 'selector-observer'\n\nfunction load() {\n  import('../jump-to')\n}\n\nobserve('.js-jump-to-field', {\n  constructor: HTMLInputElement,\n  add(el) {\n    el.addEventListener('focusin', load, {once: true})\n    logPageView(window.location.pathname)\n  }\n})\n","import {on} from 'delegated-events'\nimport {sendData} from '../hydro-tracking'\n\non('click', '[data-hydro-click]', function (event) {\n  const el = event.currentTarget\n  const payload = el.getAttribute('data-hydro-click') || ''\n  const hmac = el.getAttribute('data-hydro-click-hmac') || ''\n  const hydroClientContext = el.getAttribute('data-hydro-client-context') || ''\n  sendData(payload, hmac, hydroClientContext)\n})\n\non('click', '[data-optimizely-hydro-click]', function (event) {\n  const el = event.currentTarget\n  const payload = el.getAttribute('data-optimizely-hydro-click') || ''\n  const hmac = el.getAttribute('data-optimizely-hydro-click-hmac') || ''\n  sendData(payload, hmac, '')\n})\n","// Handle immediate updates returned from the server on ajax success.\n//\n// See ShowPartial#render_immediate_partials\n\nimport {remoteForm} from '@github/remote-form'\nimport {replaceContent} from '../updatable-content'\n\nremoteForm('.js-immediate-updates', async function (form, wants) {\n  let updateContent\n\n  try {\n    const response = await wants.json()\n    updateContent = response.json.updateContent\n  } catch (error) {\n    if (error.response.json) {\n      updateContent = error.response.json.updateContent\n    }\n  }\n\n  if (updateContent) {\n    for (const selector in updateContent) {\n      const html = updateContent[selector]\n      const el = document.querySelector(selector)\n      if (el instanceof HTMLElement) {\n        replaceContent(el, html)\n      }\n    }\n  }\n})\n","import {observe} from 'selector-observer'\n\nobserve('[data-indeterminate]', {\n  constructor: HTMLInputElement,\n  initialize(el) {\n    el.indeterminate = true\n  }\n})\n","import {dialog} from '../details-dialog'\nimport {eventToHotkeyString} from '@github/hotkey'\nimport {fetchSafeDocumentFragment} from '../fetch'\nimport {isFormField} from '../form'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\n\nlet shortcutModalShown = false\n\nasync function showKeyboardShortcuts() {\n  if (shortcutModalShown) return\n  shortcutModalShown = true\n\n  const metaKeyboardShortcuts = document.querySelector<HTMLMetaElement>('meta[name=github-keyboard-shortcuts]')!\n  const options = {contexts: metaKeyboardShortcuts.content}\n  const url = `/site/keyboard_shortcuts?${new URLSearchParams(options).toString()}`\n\n  const shortcutModal = await dialog({\n    content: fetchSafeDocumentFragment(document, url),\n    dialogClass: 'hx_Box--overlay--wide'\n  })\n  shortcutModal.addEventListener(\n    'dialog:remove',\n    function () {\n      shortcutModalShown = false\n    },\n    {once: true}\n  )\n}\n\n// Toggles ajax request to display keyboard shortcuts.\n//\n// Add a class of `js-keyboard-shortcuts` to get this behavior on your page.\non('click', '.js-keyboard-shortcuts', showKeyboardShortcuts)\n\ndocument.addEventListener('keydown', (event: KeyboardEvent) => {\n  if (event.target instanceof Node && isFormField(event.target)) return\n  if (eventToHotkeyString(event) !== '?') return\n  showKeyboardShortcuts()\n})\n\nobserve('.js-modifier-key', {\n  constructor: HTMLElement,\n  add(container) {\n    if (/Macintosh/.test(navigator.userAgent)) {\n      let shortcut = container.textContent\n      if (shortcut) {\n        shortcut = shortcut.replace(/ctrl/, '')\n        shortcut = shortcut.replace(/alt/, '')\n        container.textContent = shortcut\n      }\n    }\n  }\n})\n\nobserve('.js-modifier-label-key', {\n  add(container) {\n    if (/Macintosh/.test(navigator.userAgent)) {\n      let shortcutLabel = container.getAttribute('aria-label')!\n      shortcutLabel = shortcutLabel.replace(/ctrl\\+/, 'cmd-')\n      shortcutLabel = shortcutLabel.replace(/alt\\+/, 'option-')\n      container.setAttribute('aria-label', shortcutLabel)\n    }\n  }\n})\n","import {observe} from 'selector-observer'\n\n// Length-limited input with warning.\n//\n// Limit the length of user input and provide a warning with a character count\n// when the user approaches the length limit.\n//\n// Three classes must be set.\n//  - js-length-limited-input.\n//  - js-length-limited-input-container.\n//  - js-length-limited-input-warning (probably also hidden by default).\n//\n// Two data attributes should be set on .js-length-limited-input:\n//  - data-warning-text, a string template for the warning message.\n//    Use `{{remaining}}` to interpolate the number of characters remaining.\n//  - data-input-max-length.\n//\n// @example\n// ```html\n//    <dd class=\"js-length-limited-input-container\">\n//      <input type=\"text\"\n//             class=\"js-length-limited-input\"\n//             data-warning-text=\"You have {{remaining}} characters remaining\"\n//             data-input-max-length=\"160\">\n//\n//      <p class=\"js-length-limited-input-warning d-none\">\n//      </p>\n//    </dd>\n// ```\nfunction displayLengthWarning(event: Event) {\n  // The user input field (<input>, <textarea>, etc)\n  const inputField = event.currentTarget\n  if (!(inputField instanceof HTMLInputElement || inputField instanceof HTMLTextAreaElement)) return\n\n  // The character limit, set in data attribute \"max-length\"\n  const maxLength = parseInt(inputField.getAttribute('data-input-max-length') || '', 10)\n\n  // The remaining length to start showing the warning for, defaults to 5\n  const warningLength = parseInt(inputField.getAttribute('data-warning-length') || '', 10) || 5\n\n  // The user input field (<input>, <textarea>, etc)\n  const inputValue = inputField.value\n\n  // New lines need to be counted as two characters. They are by the server.\n  const inputValueWithNewLinesFix = inputValue.replace(/(\\r\\n|\\n|\\r)/g, '\\r\\n')\n\n  // Characters remaining before the limit is reached\n  let remainingLength = maxLength - inputValueWithNewLinesFix.length\n\n  // HTML maxLength attribute does not count carriage returns correctly.\n  // It is also inconsistent between Chrome and Firefox\n  // and therefore can't be used bugfree without browser sniffing\n  // Creating our own maxLength implementation instead.\n  if (remainingLength <= 0) {\n    let truncatedInputValue = inputValueWithNewLinesFix.substr(0, maxLength)\n    // Trim trailing \\r so we don't truncate in the middle of a \\r\\n newline\n    if (truncatedInputValue.endsWith('\\r')) {\n      truncatedInputValue = truncatedInputValue.substr(0, maxLength - 1)\n      remainingLength = 1\n    } else {\n      remainingLength = 0\n    }\n    inputField.value = truncatedInputValue\n  }\n\n  // The warning message to display after the remaining character count\n  const warningText = inputField.getAttribute('data-warning-text')!\n\n  // The container enclosing the length-limited input field\n  const inputContainer = inputField.closest<HTMLElement>('.js-length-limited-input-container')!\n\n  // The container for the warning message\n  const warningArea = inputContainer.querySelector<HTMLElement>('.js-length-limited-input-warning')!\n\n  if (remainingLength <= warningLength) {\n    warningArea.textContent = warningText.replace(new RegExp('{{remaining}}', 'g'), `${remainingLength}`)\n    /* eslint-disable-next-line github/no-d-none */\n    warningArea.classList.remove('d-none')\n  } else {\n    warningArea.textContent = ''\n    /* eslint-disable-next-line github/no-d-none */\n    warningArea.classList.add('d-none')\n  }\n}\n\nobserve('.js-length-limited-input', {\n  add(el) {\n    el.addEventListener('input', displayLengthWarning)\n    el.addEventListener('change', displayLengthWarning)\n  },\n  remove(el) {\n    el.removeEventListener('input', displayLengthWarning)\n    el.removeEventListener('change', displayLengthWarning)\n  }\n})\n","// <link rel=\"prefetch-viewed\">\n//\n// See Also\n//   app/helpers/prefetch_helper.rb\n\nimport {observe} from 'selector-observer'\n\nobserve('link[rel=prefetch-viewed]', {\n  initialize() {\n    window.requestIdleCallback(() => {\n      fetch(location.href, {\n        method: 'HEAD',\n        credentials: 'same-origin',\n        headers: {\n          Purpose: 'prefetch-viewed'\n        }\n      })\n    })\n  }\n})\n","import {fire, on} from 'delegated-events'\n\non('click', '.js-member-search-filter', function (event) {\n  event.preventDefault()\n\n  const filter = event.currentTarget.getAttribute('data-filter')!\n  const menu = event.currentTarget.closest<HTMLElement>('[data-filter-on]')!\n  const filterOn = menu.getAttribute('data-filter-on')!\n  const field = document.querySelector<HTMLInputElement>('.js-member-filter-field')!\n\n  // Remove any existing filters on the opened dropdown.\n  const currentValue = field.value\n\n  // Regex allows a-z chars, underscores & strings wrapped in single quotes (required for custom roles)\n  const regex = new RegExp(`${filterOn}:(?:[a-z]|_|((').*(')))+`)\n  const currentFilters = currentValue.toString().trim().replace(regex, '')\n\n  field.value = `${currentFilters} ${filter}`.replace(/\\s\\s/, ' ').trim()\n  field.focus()\n  fire(field, 'input')\n})\n","import {isFeatureEnabled} from '../features'\nimport {observe} from 'selector-observer'\n\n// This is a temporary way to test new octicons behind a feature flag\n\ntype Icon = {[size: string]: string}\n\nconst newIcons: {[iconName: string]: Icon} = {\n  issueOpened: {\n    16: 'M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zm0 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z',\n    24: 'M2.5 12a9.5 9.5 0 1119 0 9.5 9.5 0 01-19 0zM12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm0 13.063a2.062 2.062 0 100-4.125 2.062 2.062 0 000 4.124z'\n  },\n  issueClosed: {\n    16: 'M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zm3.28 6.78a.75.75 0 00-1.06-1.06L7.25 8.69 5.78 7.22a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l3.5-3.5z',\n    24: 'M2.5 12a9.5 9.5 0 1119 0 9.5 9.5 0 01-19 0zM12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm4.312 9.124a.75.75 0 10-1.061-1.06l-4.282 4.282-2.22-2.22a.75.75 0 10-1.06 1.06l2.75 2.75a.75.75 0 001.06 0l4.813-4.812z'\n  },\n  gitPullRequest: {\n    16: 'M3.061 6.311L.353 3.603a.5.5 0 010-.707L3.061.19A.55.55 0 014 .578V2.5h2.25A8.75 8.75 0 0115 11.25v4a.75.75 0 01-1.5 0v-4A7.25 7.25 0 006.25 4H4v1.922a.55.55 0 01-.939.389zM8 12.25a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm1.5 0a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z',\n    24: 'M6.78.72a.75.75 0 010 1.06L4.56 4h5.721c6.49 0 11.75 5.26 11.75 11.75v5.5a.75.75 0 11-1.5 0v-5.5c0-5.66-4.589-10.25-10.25-10.25h-5.72l2.22 2.22A.75.75 0 015.72 8.78l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5a.75.75 0 011.06 0zM12.5 17a3.5 3.5 0 11-7 0 3.5 3.5 0 017 0zm1.5 0a5 5 0 11-10 0 5 5 0 0110 0z'\n  },\n  gitPullRequestDraft: {\n    16: 'M2.5 3.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.25 1a2.25 2.25 0 00-.75 4.372v5.256a2.251 2.251 0 101.5 0V5.372A2.25 2.25 0 003.25 1zm0 11a.75.75 0 100 1.5.75.75 0 000-1.5zm9.5 3a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5zm0-3a.75.75 0 100 1.5.75.75 0 000-1.5zM14 7.5a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zM14 3.25a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z',\n    24: 'M4.75 1.5a3.25 3.25 0 00-.745 6.414A.758.758 0 004 8v8c0 .029.002.058.005.086A3.251 3.251 0 004.75 22.5a3.25 3.25 0 00.745-6.414A.757.757 0 005.5 16V8a.758.758 0 00-.005-.086A3.251 3.251 0 004.75 1.5zM3 4.75a1.75 1.75 0 113.5 0 1.75 1.75 0 01-3.5 0zm0 14.5a1.75 1.75 0 113.5 0 1.75 1.75 0 01-3.5 0zM19.25 6.25a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM20.75 11.125a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM19.25 22.5a3.25 3.25 0 100-6.5 3.25 3.25 0 000 6.5zm0-1.5a1.75 1.75 0 100-3.5 1.75 1.75 0 000 3.5z'\n  },\n  gitPullRequestClosed: {\n    16: 'M10.72 1.227a.75.75 0 011.06 0l.97.97.97-.97a.75.75 0 111.06 1.061l-.97.97.97.97a.75.75 0 01-1.06 1.06l-.97-.97-.97.97a.75.75 0 11-1.06-1.06l.97-.97-.97-.97a.75.75 0 010-1.06zM12.75 6.5a.75.75 0 00-.75.75v3.378a2.251 2.251 0 101.5 0V7.25a.75.75 0 00-.75-.75zm0 5.5a.75.75 0 100 1.5.75.75 0 000-1.5zM2.5 3.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.25 1a2.25 2.25 0 00-.75 4.372v5.256a2.251 2.251 0 101.5 0V5.372A2.25 2.25 0 003.25 1zm0 11a.75.75 0 100 1.5.75.75 0 000-1.5z',\n    24: 'M1.5 4.75a3.25 3.25 0 113.995 3.164A.758.758 0 015.5 8v8a.757.757 0 01-.005.086A3.251 3.251 0 014.75 22.5a3.25 3.25 0 01-.745-6.414A.757.757 0 014 16V8c0-.029.002-.058.005-.086A3.251 3.251 0 011.5 4.75zM4.75 3a1.75 1.75 0 100 3.5 1.75 1.75 0 000-3.5zm0 14.5a1.75 1.75 0 100 3.5 1.75 1.75 0 000-3.5zM16.47 1.97a.75.75 0 011.06 0l1.72 1.72 1.72-1.72a.75.75 0 111.06 1.06l-1.72 1.72 1.72 1.72a.75.75 0 01-1.06 1.06l-1.72-1.72-1.72 1.72a.75.75 0 11-1.06-1.06l1.72-1.72-1.72-1.72a.75.75 0 010-1.06zM19.25 9a.75.75 0 01.75.75v6.337a3.251 3.251 0 01-.75 6.413 3.25 3.25 0 01-.75-6.413V9.75a.75.75 0 01.75-.75zm0 12a1.75 1.75 0 100-3.5 1.75 1.75 0 000 3.5z'\n  },\n  gitMerge: {\n    16: 'M6.311 3.061L3.603.354a.5.5 0 00-.707 0L.19 3.06a.55.55 0 00.389.94H2.5v2.25A8.75 8.75 0 0011.25 15h4a.75.75 0 000-1.5h-4A7.25 7.25 0 014 6.25V4h1.922a.55.55 0 00.389-.94zm9.47 1.72A.75.75 0 0014.72 3.72l-3.97 3.97-1.47-1.47a.75.75 0 10-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z',\n    24: 'M1.78 6.78A.75.75 0 01.72 5.72l3.5-3.5a.75.75 0 011.06 0l3.5 3.5a.75.75 0 01-1.06 1.06L5.5 4.56v5.721c0 5.661 4.59 10.25 10.25 10.25h5.5a.75.75 0 010 1.5h-5.5C9.26 22.031 4 16.771 4 10.281v-5.72L1.78 6.78zm20 1.5a.75.75 0 00-1.06-1.06l-5.22 5.22-2.22-2.22a.75.75 0 00-1.06 1.06l2.75 2.75a.75.75 0 001.06 0l5.75-5.75z'\n  }\n}\n\nfunction replaceIcon(selector: string, icon: Icon) {\n  observe(selector, {\n    add(oldIcon) {\n      // We use the viewBoxWidth to determine the correct icon size (i.e. 16 or 24)\n      const viewBoxWidth = oldIcon.getAttribute('viewBox')?.split(' ')[2] ?? '16'\n      const newPath = icon[viewBoxWidth] ?? icon[16]\n      const firstPath = oldIcon.querySelector('path:first-of-type')\n      const otherPaths = oldIcon.querySelectorAll('path:not(:first-of-type)')\n\n      // Update the value of the first <path>\n      firstPath?.setAttribute('d', newPath)\n\n      // Remove the rest of the <path> elements\n      for (const path of otherPaths) {\n        path.remove()\n      }\n    }\n  })\n}\n\nif (isFeatureEnabled('NEW_ICONS_EXPERIMENT')) {\n  // Open issue\n  replaceIcon('.octicon-issue-opened', newIcons.issueOpened)\n  replaceIcon('svg[aria-label=\"Open issue\"]', newIcons.issueOpened)\n\n  // Closed issue\n  replaceIcon('.octicon-issue-closed', newIcons.issueClosed)\n  replaceIcon('svg[aria-label=\"Closed issue\"]', newIcons.issueClosed)\n\n  // Open pull request\n  // replaceIcon('.octicon-git-pull-request', newIcons.gitPullRequest)\n  // replaceIcon('svg[aria-label=\"Open pull request\"]', newIcons.gitPullRequest)\n\n  // Draft pull request\n  replaceIcon('.octicon-git-pull-request.color-text-tertiary', newIcons.gitPullRequestDraft)\n  replaceIcon('[title=\"Status: Draft\"] .octicon-git-pull-request', newIcons.gitPullRequestDraft)\n  replaceIcon('svg[aria-label=\"Draft pull request\"]', newIcons.gitPullRequestDraft)\n\n  // Closed pull request\n  replaceIcon('.octicon-git-pull-request.closed', newIcons.gitPullRequestClosed)\n  replaceIcon('[title=\"Status: Closed\"] .octicon-git-pull-request', newIcons.gitPullRequestClosed)\n  replaceIcon('svg[aria-label=\"Closed pull request\"]', newIcons.gitPullRequestClosed)\n\n  // Merged pull request\n  // replaceIcon('.octicon-git-merge', newIcons.gitMerge)\n  // replaceIcon('.octicon-git-pull-request.merged', newIcons.gitMerge)\n  // replaceIcon('svg[aria-label=\"Merged pull request\"]', newIcons.gitMerge)\n}\n","import {on} from 'delegated-events'\n\non('auto-check-success', '.js-new-organization-name', function (event) {\n  const field = event.target as HTMLInputElement\n  const container = field.closest<HTMLElement>('dd')!\n  const hint = container.querySelector('.js-field-hint-name')\n  if (!hint) {\n    return\n  }\n  hint.textContent = field.value\n})\n","// Notice Behavior\n//\n// Add basic data-remote success hook for hiding notice on ajax\n// success.\n//\n// Markup\n//\n//     <div class=\"js-notice\">\n//       Hey!\n//       <a href=\"/dismiss\" class=\"js-notice-dismiss\">\n//         Dismiss\n//       </a>\n//     </div>\n//\n\nimport {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\nimport {showGlobalError} from '../behaviors/ajax-error'\n\nremoteForm('.js-notice-dismiss', async function (form, send) {\n  await send.text()\n  const notice = form.closest<HTMLElement>('.js-notice')!\n  notice.remove()\n})\n\non('submit', '.js-notice-dismiss-remote', async function (event) {\n  const form = event.currentTarget as HTMLFormElement\n  event.preventDefault()\n  let response\n  try {\n    response = await fetch(form.action, {\n      method: form.method,\n      body: new FormData(form),\n      headers: {\n        Accept: 'application/json',\n        'X-Requested-With': 'XMLHttpRequest'\n      }\n    })\n  } catch {\n    showGlobalError()\n    return\n  }\n  if (response && !response.ok) {\n    showGlobalError()\n  } else {\n    const notice = form.closest<HTMLElement>('.js-notice')!\n    notice.remove()\n  }\n})\n","import {loaded} from '../document-ready'\n;(async function () {\n  await loaded\n\n  if (window._octo) {\n    window._octo.push(['enablePerformance'])\n    window._octo.push(['recordPageView'])\n  }\n})()\n\n// PJAX should be treated like pageloads\ndocument.addEventListener('pjax:complete', function () {\n  if (window._octo) window._octo.push(['recordPageView'])\n})\n","// Append any window.location.hash changes to the permalink.\n//\n// For example, if you're viewing:\n// /github/linguist/blob/master/lib/linguist/languages.yml#L12\n//\n// You probably want the permalink to preserve the #L12, and go to:\n// /github/linguist/blob/SHA/lib/linguist/languages.yml#L12\n\nimport {on} from 'delegated-events'\nimport {replaceState} from '../history'\n\non('click', '.js-permalink-shortcut', function (event) {\n  const target = event.currentTarget as HTMLAnchorElement\n  try {\n    replaceState(null, '', target.href + window.location.hash)\n  } catch (error) {\n    window.location.href = target.href + window.location.hash\n  }\n  event.preventDefault()\n})\n","import {remoteForm} from '@github/remote-form'\n\nremoteForm('.js-permission-menu-form', async function (form, wants) {\n  const success = form.querySelector<HTMLElement>('.js-permission-success')!\n  const error = form.querySelector<HTMLElement>('.js-permission-error')!\n\n  success.hidden = true\n  error.hidden = true\n  form.classList.add('is-loading')\n\n  let response\n  try {\n    response = await wants.json()\n  } catch (e) {\n    // If the request errored, we'll set the error state and return.\n    form.classList.remove('is-loading')\n    error.hidden = false\n    return\n  }\n\n  form.classList.remove('is-loading')\n  success.hidden = false\n\n  const container = form.closest('.js-org-repo')\n  if (container) {\n    const data = response.json\n    container.classList.toggle('with-higher-access', data['members_with_higher_access'])\n  }\n})\n","import {ready} from '../document-ready'\n;(async function () {\n  await ready\n\n  // loading bar at the top of the page for pjax actions\n  const bar = document.querySelector('.js-pjax-loader-bar')\n  if (!bar) {\n    return\n  }\n\n  const progressEl = bar.firstElementChild\n  if (!(progressEl instanceof HTMLElement)) {\n    return\n  }\n\n  let width = 0\n  let incTimer: number | null = null\n  let originalTransition: string | null = null\n\n  function initiateLoader() {\n    setWidth(0)\n    if (bar) bar.classList.add('is-loading')\n    incTimer = window.setTimeout(increment, 0)\n  }\n\n  // Set the new width of the progress bar.\n  function setWidth(newWidth: number) {\n    if (!(progressEl instanceof HTMLElement)) return\n    if (newWidth === 0) {\n      if (originalTransition == null) originalTransition = getComputedStyle(progressEl).transition\n      progressEl.style.transition = 'none'\n    }\n\n    width = newWidth\n    progressEl.style.width = `${width}%`\n\n    if (newWidth === 0) {\n      progressEl.clientWidth // ensure previous style gets fully applied without transition\n      progressEl.style.transition = originalTransition || ''\n    }\n  }\n\n  function increment() {\n    // First animation should be more\n    if (width === 0) width = 12\n    setWidth(Math.min(width + 3, 95))\n    incTimer = window.setTimeout(increment, 500)\n  }\n\n  function finishLoader() {\n    if (incTimer) {\n      clearTimeout(incTimer)\n    }\n    setWidth(100)\n    if (bar) bar.classList.remove('is-loading')\n  }\n\n  document.addEventListener('pjax:start', initiateLoader)\n  document.addEventListener('pjax:end', finishLoader)\n})()\n","import {microtask} from '../eventloop-tasks'\nimport {sendStats} from '../stats'\n\nlet lastPjaxRequestUrl: string | null = null\n\n// Collect User Timing metrics so we can track time-to-load on pjax actions\nconst pjaxMeasure = 'last_pjax_request'\nconst pjaxStartMark = 'pjax_start'\nconst pjaxEndMark = 'pjax_end'\n\n// Mark pjax start on performance timeline and save url for last pjax request.\nfunction markPjaxStart(event: CustomEvent<{url?: string}>) {\n  if (event instanceof CustomEvent && event.detail && event.detail.url) {\n    window.performance.mark(pjaxStartMark)\n    lastPjaxRequestUrl = event.detail.url\n  }\n}\n\n// Mark pjax end on performance timeline and report results.\nasync function trackPjaxTiming() {\n  await microtask()\n\n  if (!window.performance.getEntriesByName(pjaxStartMark).length) return\n\n  window.performance.mark(pjaxEndMark)\n  window.performance.measure(pjaxMeasure, pjaxStartMark, pjaxEndMark)\n  const measures = window.performance.getEntriesByName(pjaxMeasure)\n\n  const measure = measures.pop()\n  const duration = measure ? measure.duration : null\n  if (!duration) return\n\n  if (lastPjaxRequestUrl) {\n    sendStats({\n      requestUrl: lastPjaxRequestUrl,\n      pjaxDuration: Math.round(duration)\n    })\n  }\n  clearPjaxMarks()\n}\n\n// Clear pjax marks from performance timeline.\nfunction clearPjaxMarks() {\n  window.performance.clearMarks(pjaxStartMark)\n  window.performance.clearMarks(pjaxEndMark)\n  window.performance.clearMeasures(pjaxMeasure)\n}\n\nif ('getEntriesByName' in window.performance) {\n  document.addEventListener('pjax:start', markPjaxStart)\n  document.addEventListener('pjax:end', trackPjaxTiming)\n}\n","// Ignore pjax if window.onbeforeunload is set, since we may not be able to\n// safely navigate away from the current page.\ndocument.addEventListener('pjax:click', function (event) {\n  if (window.onbeforeunload) {\n    return event.preventDefault()\n  }\n})\n","import captureKeypresses from '../../capture-keypresses'\nimport {changeValue} from '../../form'\nimport {on} from 'delegated-events'\n\nlet capturing: (() => string | boolean) | null = null\n\non('pjax:click', '.js-pjax-capture-input', function () {\n  capturing = captureKeypresses(document)\n})\n\non('pjax:end', '#js-repo-pjax-container', function () {\n  if (capturing) {\n    const value = capturing()\n    const input = document.querySelector('.js-pjax-restore-captured-input')\n    if (input instanceof HTMLInputElement && value) {\n      changeValue(input, value)\n    }\n    capturing = null\n  }\n})\n","// Generate a selector-like string describing a DOM node or window.\n//\n// Generate a CSS selector for a DOM node or window, using child selectors to\n// connect the target to a unique parent.\n//\n// Example:\n// inspect(someElement) // => \"div#foo.bar > p > span.baz > a.quux\"\nexport default function selector(targetEl: HTMLElement | Window): string {\n  const ancestors = []\n  let target = targetEl\n  while (target) {\n    ancestors.push(simpleSelector(target))\n\n    if (target instanceof window.Window) break\n\n    if (target.nodeType === 9 || target.id) break\n\n    if (target.parentNode instanceof Document) {\n      ancestors.push('#document')\n      break\n    }\n\n    if (!(target.parentNode instanceof HTMLElement)) break\n\n    target = target.parentNode\n  }\n  return ancestors.reverse().join(' > ')\n}\n\nfunction simpleSelector(target: HTMLElement | Window): string {\n  if (target instanceof window.Window) {\n    return 'window'\n  }\n\n  if (target instanceof window.Document) {\n    return '#document'\n  }\n\n  const components = [target.nodeName.toLowerCase()]\n\n  const id = target.id\n  if (id) {\n    components.push(`#${id}`)\n  }\n\n  if (typeof target.getAttribute === 'function' && target.getAttribute('class')) {\n    const classes = (target.getAttribute('class') || '').trim().split(/\\s+/).join('.')\n    if (classes) {\n      components.push(`.${classes}`)\n    }\n  }\n\n  return components.join('')\n}\n","// pjax: <link rel=\"pjax-prefetch\" href=\"/foo/bar/1\">\n//\n// Also see Resource Hints <link rel=prefetch>\n//   https://w3c.github.io/resource-hints/\n\nimport inspect from '../../inspect'\nimport {isFeatureEnabled} from '../../features'\nimport {observe} from 'selector-observer'\nimport {setPrefetchResponse} from './prefetch'\n\nfunction getContainerSelector(container: Element): string {\n  if (container.id) {\n    return `#${container.id}`\n  } else {\n    throw new Error('pjax container has no id')\n  }\n}\n\n// Fetch target as pjax. Returns response without inserting anything.\nfunction pjaxFetch(\n  target: HTMLAnchorElement | HTMLLinkElement,\n  options: {\n    headers?: {[key: string]: string}\n  }\n): Promise<Response> {\n  const container = target.closest('[data-pjax-container]')\n  if (!container) {\n    throw new Error(`no pjax container for ${inspect(target)}`)\n  }\n\n  const contextSelector = getContainerSelector(container)\n\n  const url = new URL(target.href, window.location.origin)\n  const params = new URLSearchParams(url.search.slice(1))\n  params.append('_pjax', encodeURIComponent(contextSelector))\n  url.search = params.toString()\n\n  return fetch(url.href, {\n    headers: Object.assign(\n      {\n        Accept: 'text/html',\n        'X-PJAX': 'true',\n        'X-PJAX-Container': contextSelector,\n        'X-Requested-With': 'XMLHttpRequest'\n      },\n      options && options.headers\n    )\n  })\n}\n\nobserve('[data-pjax-container] link[rel=pjax-prefetch]', {\n  constructor: HTMLLinkElement,\n  initialize(link) {\n    const response = pjaxFetch(link, {\n      headers: {Purpose: 'prefetch'}\n    })\n    if (!isFeatureEnabled('JS_HTTP_CACHE_HEADERS')) setPrefetchResponse(link, response)\n  }\n})\n","export function preserveScrollTo(element: Element) {\n  if (element.getAttribute('data-pjax-preserve-scroll') != null) {\n    return false\n  } else {\n    return 0\n  }\n}\n\nexport function detectContainer(target: Element): Element | null {\n  let el: Element | null = target\n  while (el) {\n    const selector = el.getAttribute('data-pjax')\n    if (selector && selector !== 'true') {\n      return document.querySelector(selector)\n    }\n    el = el.parentElement && el.parentElement.closest('[data-pjax]')\n  }\n\n  return target.closest('[data-pjax-container]')\n}\n","import {detectContainer, preserveScrollTo} from './utils'\nimport {on} from 'delegated-events'\nimport pjaxRequest from '../pjax'\n\non('click', '[data-pjax] a, a[data-pjax]', function (event) {\n  const link = event.currentTarget\n  if (link instanceof HTMLAnchorElement) {\n    if (link.getAttribute('data-skip-pjax') != null) {\n      return\n    }\n    if (link.getAttribute('data-remote') != null) {\n      return\n    }\n\n    const container = detectContainer(link)\n    if (container) {\n      click(event, {\n        container,\n        scrollTo: preserveScrollTo(link)\n      })\n    }\n  }\n})\n\non('change', 'select[data-pjax]', function (event) {\n  const select = event.currentTarget as HTMLSelectElement\n  const container = detectContainer(select)\n  if (container) {\n    pjaxRequest({url: select.value, container})\n  }\n})\n\nfunction click(event: MouseEvent, options: {container: Element; scrollTo?: number | false}) {\n  const link = event.currentTarget as HTMLAnchorElement\n\n  // Middle click, cmd click, and ctrl click should open\n  // links in a new tab as normal.\n  if (event.button !== 0 || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey) return\n\n  // Ignore cross origin links\n  if (location.protocol !== link.protocol || location.hostname !== link.hostname) return\n\n  // Ignore case when a hash is being tacked on the current URL\n  if (link.href.indexOf('#') > -1 && stripHash(link) === stripHash(location)) return\n\n  // Ignore event with default prevented\n  if (event.defaultPrevented) return\n\n  const opts = {\n    url: link.href,\n    target: link,\n    ...options\n  }\n\n  const clickEvent = new CustomEvent('pjax:click', {\n    bubbles: true,\n    cancelable: true,\n    detail: {options: opts, relatedEvent: event}\n  })\n\n  if (link.dispatchEvent(clickEvent)) {\n    pjaxRequest(opts)\n    event.preventDefault()\n    link.dispatchEvent(new CustomEvent('pjax:clicked', {bubbles: true, cancelable: true, detail: {options: opts}}))\n  }\n}\n\n// Return the `href` component of given URL object with the hash portion removed.\nfunction stripHash(location: Location | HTMLAnchorElement): string {\n  return location.href.replace(/#.*/, '')\n}\n","// Create an hidden textarea to capture users input.\n//\n// Useful for catching key input while a page is transitioning.\nexport default function captureKeypresses(document: Document): () => string {\n  const textarea = document.createElement('textarea')\n  textarea.style.position = 'fixed'\n  textarea.style.top = '0'\n  textarea.style.left = '0'\n  textarea.style.opacity = '0'\n\n  document.body.appendChild(textarea)\n\n  textarea.focus()\n\n  return () => {\n    // eslint-disable-next-line github/no-blur\n    textarea.blur()\n    textarea.remove()\n    return textarea.value\n  }\n}\n","import {on} from 'delegated-events'\n\n// Checks if two urls start with the same \"/owner/repo\" prefix.\nfunction isSameRepo(url1: string, url2: string): boolean {\n  const path1 = url1.split('/', 3).join('/')\n  const path2 = url2.split('/', 3).join('/')\n  return path1 === path2\n}\n\n// Disable cross-repo PJAX navigation\non('pjax:click', '#js-repo-pjax-container a[href]', function (event) {\n  const url = (event.currentTarget as HTMLAnchorElement).pathname\n\n  if (!isSameRepo(url, location.pathname)) {\n    event.preventDefault()\n  }\n})\n\n// Disable document download PJAX from /:owner/:repo/files/:id/:name.\non('pjax:click', '.js-comment-body', function (event) {\n  const link = event.target\n  if (link instanceof HTMLAnchorElement && link.pathname.split('/')[3] === 'files') {\n    event.preventDefault()\n  }\n})\n","// History back link\n//\n// Links tagged with \"js-pjax-history-navigate\" classname gain the behavior of popping the\n// last item from the browser history stack if the link's href matches the URL of\n// the last history item. This behavior is suitable for links whose purpose it so\n// bring users back to the previous page.\n\nimport {getBackURL, getForwardURL} from '../../history'\nimport {on} from 'delegated-events'\n\non('pjax:click', '.js-pjax-history-navigate', function (event) {\n  if (!(event.currentTarget instanceof HTMLAnchorElement)) return\n  if (event.currentTarget.href === getBackURL()) {\n    history.back()\n    event.detail.relatedEvent.preventDefault()\n    event.preventDefault()\n  } else if (event.currentTarget.href === getForwardURL()) {\n    history.forward()\n    event.detail.relatedEvent.preventDefault()\n    event.preventDefault()\n  }\n})\n","import {detectContainer, preserveScrollTo} from './utils'\nimport pjaxRequest, {PjaxOptions} from '../pjax'\nimport {on} from 'delegated-events'\nimport {serialize} from '../../form'\n\non('submit', 'form[data-pjax]', function (event) {\n  const form = event.currentTarget as HTMLFormElement\n  const container = detectContainer(form)\n\n  if (!container) {\n    return\n  }\n\n  const scrollTo = preserveScrollTo(form)\n\n  const opts: PjaxOptions = {\n    type: (form.method || 'GET').toUpperCase(),\n    url: form.action,\n    target: form,\n    scrollTo,\n    container\n  }\n\n  if (opts.type === 'GET') {\n    // Can't handle file uploads, exit\n    if (form.querySelector('input[type=file]')) {\n      return\n    }\n\n    const url = parseURL(opts.url!)\n    url.search += (url.search ? '&' : '') + serialize(form)\n    opts.url = url.toString()\n  } else {\n    opts.data = new FormData(form)\n  }\n\n  pjaxRequest(opts)\n  event.preventDefault()\n})\n\nfunction parseURL(url: string): HTMLAnchorElement {\n  const a = document.createElement('a')\n  a.href = url\n  return a\n}\n","import {observe} from 'selector-observer'\n\nobserve('body.js-print-popup', () => {\n  window.print()\n  setTimeout(window.close, 1000)\n})\n","import {observe} from 'selector-observer'\n\nobserve('poll-include-fragment[data-redirect-url]', function (el) {\n  const url = el.getAttribute('data-redirect-url')!\n  el.addEventListener('load', function () {\n    window.location.href = url\n  })\n})\n\nobserve('poll-include-fragment[data-reload]', function (el) {\n  el.addEventListener('load', function () {\n    window.location.reload()\n  })\n})\n","// Report uncaught JS errors to Sentry\n//   https://sentry.io/github/github-js\n\nimport {capableBrowser} from './capable-browser'\nimport detectProxySite from './proxy-site-detection'\nimport {getOctolyticsId} from './octolytics-utils'\nimport {parse} from 'stacktrace-parser'\nimport {requestUri} from './analytics-overrides'\n\nlet extensionErrors = false\nlet errorsReported = 0\nconst loadTime = Date.now()\n\ninterface NonStandardError extends Error {\n  framesToPop?: number\n}\n\ntype ErrorContext = {\n  message?: string\n}\n\n// Report error event to Sentry.\n//\n// Example:\n//   window.addEventListener('error', event => { reportEvent(event) })\nexport function reportEvent(event: ErrorEvent) {\n  if (event.error) {\n    report(errorContext(formatError(event.error)))\n  }\n}\n\n// Report error from a rejected Promise to Sentry.\n//\n// Example:\n//   window.onunhandledrejection(event => { reportEvent(event) })\nexport async function reportPromiseRejectionEvent(event: PromiseRejectionEvent) {\n  if (!event.promise) return\n  try {\n    await event.promise\n  } catch (error) {\n    // Ignore fetch responses modeled as exceptions.\n    if (error && error.name !== 'AbortError' && !(error.response instanceof Response)) {\n      report(errorContext(formatError(error)))\n    }\n  }\n}\n\n// @deprecated Re-throw the caught exception instead.\nexport function reportError(error: Error, context: ErrorContext = {}) {\n  report(errorContext(formatError(error), context))\n}\n\n// Report context info to Sentry.\nasync function report(context: PlatformReportBrowserErrorInput) {\n  if (!reportable()) return\n\n  const url = document.head?.querySelector<HTMLMetaElement>('meta[name=\"browser-errors-url\"]')?.content\n  if (!url) return\n\n  if (isExtensionError(context.error.stacktrace)) {\n    extensionErrors = true\n    return\n  }\n\n  errorsReported++\n\n  try {\n    await fetch(url, {method: 'post', body: JSON.stringify(context)})\n  } catch {\n    // Error reporting failed so do nothing.\n  }\n}\n\nfunction formatError(error: Error): PlatformJavascriptError {\n  return {type: error.name, value: error.message, stacktrace: stacktrace(error)}\n}\n\nfunction errorContext(error: PlatformJavascriptError, context: ErrorContext = {}): PlatformReportBrowserErrorInput {\n  return Object.assign(\n    {\n      error,\n      sanitizedUrl: requestUri() || window.location.href,\n      readyState: document.readyState,\n      referrer: document.referrer,\n      timeSinceLoad: Math.round(Date.now() - loadTime),\n      user: pageUser() || undefined\n    },\n    context\n  )\n}\n\nexport function stacktrace(error: Error): PlatformStackframe[] {\n  const stack = parseStackTrace(error)\n  const pop = (error as NonStandardError).framesToPop ?? 0\n  return pop === 0 ? stack : stack.slice(pop)\n}\n\nfunction parseStackTrace(error: Error): PlatformStackframe[] {\n  return parse(error.stack || '').map(frame => ({\n    filename: frame.file || '',\n    function: String(frame.methodName),\n    lineno: (frame.lineNumber || 0).toString(),\n    colno: (frame.column || 0).toString()\n  }))\n}\n\nconst extensions = /(chrome|moz|safari)-extension:\\/\\//\n\n// Does this stack trace contain frames from browser extensions?\nfunction isExtensionError(stack: PlatformStackframe[]): boolean {\n  return stack.some(frame => extensions.test(frame.filename) || extensions.test(frame.function))\n}\n\nexport function pageUser() {\n  const login = document.head?.querySelector<HTMLMetaElement>('meta[name=\"user-login\"]')?.content\n  if (login) return login\n\n  const clientId = getOctolyticsId()\n  if (clientId) return `anonymous-${clientId}`\n\n  return null\n}\n\nlet unloaded = false\nwindow.addEventListener('pageshow', () => (unloaded = false))\nwindow.addEventListener('pagehide', () => (unloaded = true))\n\nfunction reportable() {\n  return !unloaded && !extensionErrors && errorsReported < 10 && capableBrowser() && !detectProxySite(document)\n}\n","// Reports a proxy site and applies rudimentary obfuscation to the data that is sent.\n\nimport detectProxySite from '../proxy-site-detection'\nimport {reportError} from '../failbot'\n\n// See lib/github/proxy_detection.rb\nconst ProxyDetectionParam = '$__'\n\nconst proxyPayload = document.querySelector('meta[name=js-proxy-site-detection-payload]')\nconst expectedHostname = document.querySelector('meta[name=expected-hostname]')\n\nif (proxyPayload instanceof HTMLMetaElement && expectedHostname instanceof HTMLMetaElement) {\n  if (detectProxySite(document)) {\n    const data = {\n      url: window.location.href,\n      expectedHostname: expectedHostname.content,\n      documentHostname: document.location.hostname,\n      proxyPayload: proxyPayload.content\n    }\n\n    const error = new Error()\n    const obj: {[key: string]: string} = {}\n    obj[`${ProxyDetectionParam}`] = btoa(JSON.stringify(data))\n    reportError(error, obj)\n  }\n}\n","export function capableBrowser() {\n  return (\n    typeof Blob === 'function' &&\n    typeof PerformanceObserver === 'function' &&\n    typeof Intl !== 'undefined' &&\n    typeof MutationObserver !== 'undefined' &&\n    typeof URLSearchParams !== 'undefined' &&\n    typeof WebSocket !== 'undefined' &&\n    typeof IntersectionObserver !== 'undefined' &&\n    typeof AbortController !== 'undefined' &&\n    typeof queueMicrotask !== 'undefined' &&\n    typeof TextEncoder !== 'undefined' &&\n    typeof TextDecoder !== 'undefined' &&\n    typeof customElements !== 'undefined' &&\n    typeof HTMLDetailsElement !== 'undefined' &&\n    'entries' in FormData.prototype &&\n    'toggleAttribute' in Element.prototype &&\n    'flatMap' in Array.prototype\n  )\n}\n","import {findContainer, findTextarea, quote, subscribe} from '@github/quote-selection'\nimport {debounce} from '@github/mini-throttle'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\n\nobserve('.js-quote-selection-container', {\n  subscribe: el =>\n    subscribe(el, {\n      quoteMarkdown: el.hasAttribute('data-quote-markdown'),\n      scopeSelector: el.getAttribute('data-quote-markdown') || '',\n      copyMarkdown: false\n    })\n})\n\nobserve('.js-comment-quote-reply-deferred', function (button) {\n  const container = findContainer(button)\n  if (!container) return\n  if (container.querySelector('.js-inline-comment-form-container') || findTextarea(container)) {\n    /* eslint-disable-next-line github/no-d-none */\n    button.classList.remove('d-none')\n  }\n})\n\ndocument.addEventListener('quote-selection-markdown', function (event: Event) {\n  const detail: {fragment: DocumentFragment; range: Range; unwrap: boolean} = (event as CustomEvent).detail\n  const {fragment, range, unwrap} = detail\n\n  const parent = range.startContainer.parentElement\n  const codeBlock = parent && parent.closest('pre')\n  if (codeBlock instanceof HTMLElement && !unwrap) {\n    const pp = codeBlock.parentElement\n    if (pp && isHighlightContainer(pp)) {\n      const div = document.createElement('div')\n      div.className = pp.className\n      div.appendChild(fragment)\n      fragment.appendChild(div)\n    }\n  }\n\n  insertMarkdownSyntax(fragment)\n})\n\nfunction isHighlightContainer(el: Element): boolean {\n  return el.nodeName === 'DIV' && el.classList.contains('highlight')\n}\n\nfunction hasContent(node: Node): boolean {\n  return node.nodeName === 'IMG' || node.firstChild != null\n}\n\nconst filters: {[key: string]: (arg0: HTMLElement) => string | HTMLElement} = {\n  PRE(el) {\n    const parent = el.parentElement\n    if (parent && isHighlightContainer(parent)) {\n      const match = parent.className.match(/highlight-source-(\\S+)/)\n      const flavor = match ? match[1] : ''\n      const text = (el.textContent || '').replace(/\\n+$/, '')\n      el.textContent = `\\`\\`\\`${flavor}\\n${text}\\n\\`\\`\\``\n      el.append('\\n\\n')\n    }\n    return el\n  },\n  A(el) {\n    const text = el.textContent || ''\n    if (el.classList.contains('user-mention') || el.classList.contains('team-mention')) {\n      return text\n    } else if (el.classList.contains('issue-link') && /^#\\d+$/.test(text)) {\n      return text\n    } else {\n      return el\n    }\n  },\n  IMG(el) {\n    const alt = el.getAttribute('alt')\n    if (alt && el.classList.contains('emoji')) {\n      return alt\n    } else {\n      return el\n    }\n  },\n  DIV(el) {\n    if (el.classList.contains('js-suggested-changes-blob')) {\n      // skip quoting suggested changes widget\n      el.remove()\n    } else if (el.classList.contains('blob-wrapper-embedded')) {\n      // handle embedded blob snippets\n      const container = el.parentElement!\n      const link = container.querySelector<HTMLAnchorElement>('a[href]')!\n      const p = document.createElement('p')\n      p.textContent = link.href\n      container.replaceWith(p)\n    }\n    return el\n  }\n}\n\nfunction insertMarkdownSyntax(root: DocumentFragment): void {\n  const nodeIterator = document.createNodeIterator(root, NodeFilter.SHOW_ELEMENT, {\n    acceptNode(node) {\n      if (node.nodeName in filters && hasContent(node)) {\n        return NodeFilter.FILTER_ACCEPT\n      } else {\n        return NodeFilter.FILTER_SKIP\n      }\n    }\n  })\n  const results: HTMLElement[] = []\n  let node = nodeIterator.nextNode()\n\n  while (node) {\n    if (node instanceof HTMLElement) {\n      results.push(node)\n    }\n    node = nodeIterator.nextNode()\n  }\n\n  // process deepest matches first\n  results.reverse()\n\n  for (const el of results) {\n    el.replaceWith(filters[el.nodeName](el))\n  }\n}\n\non('click', '.js-comment-quote-reply', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-comment')!\n  const commentBody = container.querySelector<HTMLElement>('.js-comment-body')!\n\n  if (!activeSelection || activeSelection.type !== 'Range' || !commentBody.contains(activeSelection.anchorNode)) {\n    const selection = window.getSelection()!\n    selection.removeAllRanges()\n    selection.selectAllChildren(commentBody)\n    quote(selection.toString(), selection.getRangeAt(0))\n  } else {\n    quote(activeSelection.text, activeSelection.range)\n  }\n})\n\ntype SelectionContext = {\n  type: string\n  anchorNode: Node | null\n  text: string\n  range: Range\n}\n\nlet previousSelection: SelectionContext | null\nlet activeSelection: SelectionContext | null\n\n// Workaround for Safari clearing the selection just before a <details> element\n// was activated: persist the previous selection and use its range when quoting.\ndocument.addEventListener(\n  'selectionchange',\n  debounce(function () {\n    const selection = window.getSelection()!\n    let range\n    try {\n      range = selection.getRangeAt(0)\n    } catch {\n      previousSelection = null\n      return\n    }\n    previousSelection = {\n      type: selection.type,\n      anchorNode: selection.anchorNode,\n      text: selection.toString(),\n      range\n    }\n  }, 100)\n)\n\n// Reveal the \"Quote reply\" button on threads where there is a textarea to quote\n// text into. This prevents it from showing up on locked threads.\ndocument.addEventListener(\n  'toggle',\n  function (event: Event) {\n    const details = event.target\n    if (!(details instanceof Element) || !details.hasAttribute('open')) return\n    activeSelection = previousSelection\n    const button = details.querySelector('.js-comment-quote-reply.d-none')\n    if (!button) return\n    const container = findContainer(details)\n    if (!container) return\n    if (container.querySelector('.js-inline-comment-form-container') || findTextarea(container)) {\n      /* eslint-disable-next-line github/no-d-none */\n      button.classList.remove('d-none')\n    }\n  },\n  {capture: true}\n)\n","// Quick submit using -Enter or Ctrl+Enter\n//\n// When `.js-quick-submit` field is focused, -Enter or Ctrl+Enter will submit\n// the form it belongs to unless the first submit button of that form is disabled.\n\nimport {onKey} from '../onfocus'\nimport {requestSubmit} from '../form'\n\nonKey('keydown', '.js-quick-submit', function (event: KeyboardEvent) {\n  quickSubmit(event)\n})\n\nfunction quickSubmit(event: KeyboardEvent) {\n  const field = event.target as HTMLInputElement | HTMLTextAreaElement\n\n  if ((event.ctrlKey || event.metaKey) && event.key === 'Enter') {\n    const form = field.form!\n    const button = form.querySelector('input[type=submit], button[type=submit]')\n    if (event.shiftKey) {\n      const altButton = form.querySelector('.js-quick-submit-alternative')\n      if ((altButton instanceof HTMLInputElement || altButton instanceof HTMLButtonElement) && !altButton.disabled) {\n        requestSubmit(form, altButton)\n      }\n    } else if (button instanceof HTMLInputElement || button instanceof HTMLButtonElement) {\n      if (!button.disabled) {\n        requestSubmit(form)\n      }\n    } else {\n      requestSubmit(form)\n    }\n    event.preventDefault()\n  }\n}\n","import {on} from 'delegated-events'\nimport {parseHTML} from '../parse-html'\nimport {remoteForm} from '@github/remote-form'\n\nremoteForm('.js-pick-reaction', async function (form, send) {\n  const response = await send.json()\n\n  const comment = form.closest<HTMLElement>('.js-comment')!\n  const reactionsContainer = comment.querySelector<HTMLElement>('.js-reactions-container')!\n  const reactionsHeader = comment.querySelector<HTMLElement>('.js-comment-header-reaction-button')!\n\n  const newReactions = parseHTML(document, response.json['reactions_container'].trim())\n  const newReactionButton = parseHTML(document, response.json['comment_header_reaction_button'].trim())\n  reactionsContainer.replaceWith(newReactions)\n  reactionsHeader.replaceWith(newReactionButton)\n\n  comment.classList.remove('is-reacting')\n})\n\nfunction showReactionContent(event: MouseEvent) {\n  const target = event.target as HTMLElement\n\n  const label = target.getAttribute('data-reaction-label')!\n  const container = target.closest<HTMLElement>('.js-add-reaction-popover')!\n  const description = container.querySelector<HTMLElement>('.js-reaction-description')!\n\n  if (!description.hasAttribute('data-default-text')) {\n    description.setAttribute('data-default-text', description.textContent || '')\n  }\n\n  description.textContent = label\n}\n\nfunction hideReactionContent(event: MouseEvent) {\n  const container = (event.target as HTMLElement).closest<HTMLElement>('.js-add-reaction-popover')!\n  const description = container.querySelector<HTMLElement>('.js-reaction-description')!\n\n  const defaultText = description.getAttribute('data-default-text')\n  if (defaultText) {\n    description.textContent = defaultText\n  }\n}\n\non(\n  'toggle',\n  '.js-reaction-popover-container',\n  function (event) {\n    const isOpen = event.currentTarget.hasAttribute('open')\n    for (const item of (event.target as Element).querySelectorAll<HTMLElement>('.js-reaction-option-item')) {\n      if (isOpen) {\n        item.addEventListener('mouseenter', showReactionContent)\n        item.addEventListener('mouseleave', hideReactionContent)\n      } else {\n        item.removeEventListener('mouseenter', showReactionContent)\n        item.removeEventListener('mouseleave', hideReactionContent)\n      }\n    }\n\n    ;(event.target as Element).closest<HTMLElement>('.js-comment')!.classList.toggle('is-reacting', isOpen)\n  },\n  {capture: true}\n)\n","// Remote\n//\n// Implements `data-remote` for forms.\n//\n//\n// Markup\n//\n// `<form>`\n//\n// ``` definition-table\n// Attribute - Description\n//\n// `data-remote`\n//   Enables remote behavior on the element if set to anything.\n//\n// `method`\n//   Changes the method of the AJAX request. Defaults to `\"get\"`. Maps to\n//   jQuery's [type](http://api.jquery.com/jQuery.ajax/).\n//\n// `action`\n//   URL for AJAX request. Defaults to the current url. Maps to jQuery's\n//   [`url`](http://api.jquery.com/jQuery.ajax/).\n//\n// `data-type`\n//   Specify the data type of the response. Can be `\"xml\"`, `\"json\"`,\n//   `\"script\"`, or `\"html\"`. Defaults to jQuery's *\"intelligent guess\"*\n//   from the response content type. Maps to jQuery's\n//   [`dataType`](http://api.jquery.com/jQuery.ajax/).\n// ```\n//\n// ``` html\n// <form action=\"/comment\" method=\"post\" data-remote></form>\n// ```\n//\n//\n// Events\n//\n// Use delegated jQuery's global AJAX events to handle successful\n// and error states. See jQuery's [AJAX event\n// documentation](http://docs.jquery.com/Ajax_Events) for a complete\n// reference.\n//\n// `deprecatedAjaxSuccess`\n//\n// This event is only called if the request was successful (no errors from the server, no errors with the data).\n//\n// ``` definition-table\n// Property - Value\n//\n// Synchronicity  - Sync\n// Bubbles        - Yes\n// Cancelable     - No\n// Target         - `form` element with `[data-remote]`\n// ```\n//\n// `ajaxError`\n//\n// This event is only called if an error occurred with the request (you can never\n// have both an error and a success callback with a request).\n//\n// ``` definition-table\n// Property - Value\n//\n// Synchronicity  - Sync\n// Bubbles        - Yes\n// Cancelable     - No\n// Target         - `form` element with `[data-remote]`\n// Extra arguments\n//   `status` - Status response number\n//   `error` - Error message string\n//   `text` - Response text string\n// ```\n//\n// `deprecatedAjaxComplete`\n//\n// This event is called regardless of if the request was successful, or not. You\n// will always receive a complete callback, even for synchronous requests.\n//\n// ``` definition-table\n// Property - Value\n//\n// Synchronicity  - Sync\n// Bubbles        - Yes\n// Cancelable     - No\n// Target         - `form` element with `[data-remote]`\n// ```\n//\n//     on('deprecatedAjaxSend', '.new-comment', function(event) {\n//        event.currentTarget.classList.add('loading')\n//     })\n//\n//     on('deprecatedAjaxComplete', '.new-comment', function(event) {\n//        event.currentTarget.classList.remove('loading')\n//     })\n//\n//     on('deprecatedAjaxSuccess', '.new-comment', function (event) {\n//        event.currentTarget.classList.add('success')\n//     })\n//\n//     on('deprecatedAjaxError', '.new-comment', function (event) {\n//       alert(\"Something went wrong!\")\n//     })\n//\n//\n// Intercept all form submissions with data-remote and turn\n// it into a XHR request instead.\n\nimport type {Kicker, SimpleRequest, SimpleResponse} from '@github/remote-form'\nimport {afterRemote, beforeRemote, remoteForm} from '@github/remote-form'\nimport {findPersistedSubmitButtonValue, persistSubmitButtonValue} from '../remote-submit'\nimport {fire, on} from 'delegated-events'\nimport verifySso from '../sso'\n\nfunction submitWithLegacyEvents(form: HTMLFormElement, send: Kicker, req: SimpleRequest) {\n  const dataType = form.getAttribute('data-type')\n  if (dataType === 'json') {\n    req.headers.set('Accept', 'application/json')\n  }\n\n  fire(form, 'deprecatedAjaxSend', {request: req})\n\n  send\n    .text()\n    /* eslint-disable-next-line github/no-then */\n    .catch(err => {\n      if (err.response) {\n        return err.response\n      } else {\n        throw err\n      }\n    })\n    /* eslint-disable-next-line github/no-then */\n    .then(\n      (response: SimpleResponse) => {\n        if (response.status < 300) {\n          fire(form, 'deprecatedAjaxSuccess')\n        } else {\n          fire(form, 'deprecatedAjaxError', {error: response.statusText, status: response.status, text: response.text})\n        }\n      },\n      err => {\n        fire(form, 'deprecatedAjaxError', {error: err.message, status: 0, text: null})\n      }\n    )\n    /* eslint-disable-next-line github/no-then */\n    .then(() => {\n      fire(form, 'deprecatedAjaxComplete')\n    })\n}\n\n// Persist submit button value for ALL forms, regardless of whether they are\n// ajax-enabled or not. The submit value is reset after either `deprecatedAjaxComplete`\n// has fired or `remoteForm` has finished processing.\non('click', ['form button:not([type])', 'form button[type=submit]', 'form input[type=submit]'].join(', '), function (\n  event\n) {\n  const button = event.currentTarget as HTMLButtonElement | HTMLInputElement\n  const form = button.form\n  if (form && !event.defaultPrevented) {\n    persistSubmitButtonValue(button)\n  }\n})\n\nremoteForm('form[data-remote]', submitWithLegacyEvents)\n\n// Restore forms after AJAX submissions\non('deprecatedAjaxComplete', 'form', function ({currentTarget}) {\n  const el = findPersistedSubmitButtonValue(currentTarget as HTMLFormElement)\n  if (el) el.remove()\n})\n\nafterRemote(form => {\n  const button = findPersistedSubmitButtonValue(form)\n  if (button) button.remove()\n})\n\nbeforeRemote(verifySso)\n","import {controller, target, targets} from '@github/catalyst'\nimport {parseHTML} from '../parse-html'\nimport {requestSubmit} from '../form'\n\n@controller\nexport default class RemotePaginationElement extends HTMLElement {\n  @target form: HTMLFormElement\n  @target list: HTMLElement\n  @targets focusMarkers: HTMLElement[]\n  @target submitButton: HTMLButtonElement\n  loaderWasFocused = false\n\n  connectedCallback() {\n    this.setPaginationUrl(this.list)\n  }\n\n  get hasNextPage(): boolean {\n    return !this.form.hidden\n  }\n\n  loadNextPage() {\n    if (!this.hasNextPage) return\n    requestSubmit(this.form)\n  }\n\n  get disabled(): boolean {\n    return this.submitButton.hasAttribute('aria-disabled')\n  }\n\n  set disabled(value: boolean) {\n    if (value) {\n      this.submitButton.setAttribute('aria-disabled', 'true')\n    } else {\n      this.submitButton.removeAttribute('aria-disabled')\n    }\n    this.submitButton.classList.toggle('disabled', value)\n  }\n\n  private loadstart(event: Event) {\n    ;(event.target as HTMLElement).addEventListener(\n      'focus',\n      () => {\n        this.loaderWasFocused = true\n      },\n      {once: true}\n    )\n    ;(event.target as HTMLElement).addEventListener(\n      'include-fragment-replaced',\n      () => {\n        this.setPaginationUrl(this.list)\n        if (this.loaderWasFocused) {\n          this.focusMarkers.pop()?.focus()\n        }\n        this.loaderWasFocused = false\n      },\n      {once: true}\n    )\n  }\n\n  private async submit(event: Event) {\n    event.preventDefault()\n    if (this.disabled) return\n    this.disabled = true\n    let html\n    try {\n      const response = await fetch(this.form.action)\n      if (!response.ok) return\n      html = await response.text()\n    } catch {\n      return\n    }\n    const fragment = parseHTML(document, html)\n    this.setPaginationUrl(fragment)\n    this.list.append(fragment)\n    this.focusMarkers.pop()?.focus()\n    this.disabled = false\n    this.dispatchEvent(new CustomEvent('remote-pagination-load'))\n  }\n\n  private setPaginationUrl(container: HTMLElement | DocumentFragment) {\n    const destinationEl = container.querySelector('[data-pagination-src]')\n    if (!destinationEl) return\n    const url = destinationEl.getAttribute('data-pagination-src')\n    if (url) {\n      this.form.action = url\n      this.form.hidden = false\n    } else {\n      this.form.hidden = true\n    }\n  }\n}\n","// Removed Contents behavior\n//\n// When \"has-removed-contents\" is added to an Element, its contents are\n// detached from the document and stored in memory. Once the class is removed,\n// the original contents are automatically reinserted into the document.\n//\n// WARNING: Adding new content to an Element while it has its contents detatch\n// has undefined behavior.\n//\n// This behavior is useful when working with form with multiple states. Using\n// d-none is only presentational and doesn't exclude the form fields from\n// being submitted or participating in validation requirements.\n\nimport {fire} from 'delegated-events'\nimport {observe} from 'selector-observer'\n\nobserve('.has-removed-contents', function () {\n  let contents: ChildNode[]\n  return {\n    add(parent) {\n      contents = Array.from(parent.childNodes)\n      for (const el of contents) {\n        parent.removeChild(el)\n      }\n      const form = parent.closest('form')\n      if (form) fire(form, 'change')\n    },\n    remove(parent) {\n      for (const el of contents) {\n        parent.appendChild(el)\n      }\n      const form = parent.closest('form')\n      if (form) fire(form, 'change')\n    }\n  }\n})\n","import type {Editor} from 'codemirror'\nimport {fire} from 'delegated-events'\nimport {getCodeEditor} from '../code-editor'\nimport {observe} from 'selector-observer'\nimport visible from '../visible'\n\ninterface CodeMirrorChangeEvent {\n  origin: string\n}\n\ninterface RenderTiming {\n  load?: number | null\n  helloTimer?: number | null\n  hello?: number | null\n  loadTimer?: number | null\n  untimed?: boolean\n}\n\n// These are the mutable state classes. They are to be wiped between transitions.\nconst stateClasses = ['is-render-pending', 'is-render-ready', 'is-render-loading', 'is-render-loaded']\nconst timingData: WeakMap<Element, RenderTiming> = new WeakMap()\nfunction resetTiming(where: Element) {\n  const renderTiming = timingData.get(where)\n  if (renderTiming == null) {\n    return\n  }\n  renderTiming.load = renderTiming.hello = null\n  if (renderTiming.helloTimer) {\n    clearTimeout(renderTiming.helloTimer)\n    renderTiming.helloTimer = null\n  }\n  if (renderTiming.loadTimer) {\n    clearTimeout(renderTiming.loadTimer)\n    renderTiming.loadTimer = null\n  }\n}\n\n// Everything is broken, sink with the ship\nfunction renderFailed(where: Element) {\n  where.classList.remove(...stateClasses)\n  where.classList.add('is-render-failed')\n  resetTiming(where)\n}\n\nfunction timeoutWatchdog(where: Element, checkHello = false) {\n  if (\n    !visible(where as HTMLElement) ||\n    where.classList.contains('is-render-ready') ||\n    where.classList.contains('is-render-failed') ||\n    where.classList.contains('is-render-failed-fatally') ||\n    (checkHello && !timingData.get(where)?.hello)\n  ) {\n    return\n  }\n\n  renderFailed(where)\n}\n\n// Update each container with a potentially\n// changed element every time a refresh or pjax\n// triggers.\nobserve('.js-render-target', function (el) {\n  if (timingData.get(el)?.load) return\n\n  resetTiming(el)\n\n  if (timingData.get(el)) {\n    return\n  }\n\n  timingData.set(el, {\n    load: Date.now(),\n    hello: null,\n    helloTimer: window.setTimeout(timeoutWatchdog, 10_000, el, true),\n    loadTimer: window.setTimeout(timeoutWatchdog, 45_000, el)\n  })\n\n  el.classList.add('is-render-automatic', 'is-render-requested')\n})\n\ninterface RenderMessage {\n  type: string\n  body?: unknown\n}\n\nfunction postAsJson(renderWindow: Window, message: RenderMessage) {\n  if (renderWindow && renderWindow.postMessage) {\n    renderWindow.postMessage(JSON.stringify(message), '*')\n  }\n}\n\n// Handle messages coming from the viewer iframe using `postMessage`.\n// We throw away any message that doesn't look like it's coming from the render\n// client.\nwindow.addEventListener('message', function (event: MessageEvent) {\n  let result = event.data\n  if (!result) return\n\n  if (typeof result === 'string') {\n    try {\n      result = JSON.parse(result) as unknown\n    } catch {\n      // Ignore parse errors\n      return\n    }\n  }\n\n  if (typeof result.type !== 'string' && result.type !== 'render') return\n  const type = result.type\n\n  if (typeof result.identity !== 'string') return\n  const identity = result.identity\n\n  if (typeof result.body !== 'string') return\n  const body = result.body\n\n  let container\n  for (const target of document.querySelectorAll<HTMLElement>('.js-render-target')) {\n    if (!identity || target.getAttribute('data-identity') === identity) {\n      container = target\n      break\n    }\n  }\n  if (!container) return\n\n  if (event.origin !== container.getAttribute('data-host')) {\n    return\n  }\n\n  const payload = result.payload != null ? result.payload : undefined\n\n  switch (body) {\n    case 'hello':\n      {\n        const renderTiming = timingData.get(container) || {\n          untimed: true\n        }\n\n        renderTiming.hello = Date.now()\n\n        const ackmsg = {\n          type: 'render:cmd',\n          body: {\n            cmd: 'ack',\n            ack: true\n          }\n        }\n\n        const msg = {\n          type: 'render:cmd',\n          body: {\n            cmd: 'branding',\n            branding: false\n          }\n        }\n        const renderWindow = container.querySelector('iframe')?.contentWindow\n        if (!renderWindow) return\n        postAsJson(renderWindow, ackmsg)\n        postAsJson(renderWindow, msg)\n\n        if (container.classList.contains('is-local')) {\n          const editorEl = container.closest('.js-code-editor')\n          const editor = editorEl instanceof HTMLElement ? getCodeEditor(editorEl) : null\n          if (editor) {\n            let bodyValue: string | null = null\n            const sendEditorData = (instance?: Editor, change?: CodeMirrorChangeEvent) => {\n              if (change && change.origin === 'setValue') {\n                return\n              }\n              const newBody = editor.code()\n              if (newBody !== bodyValue) {\n                bodyValue = newBody\n                postAsJson(renderWindow, {type: 'render:data', body: newBody})\n              }\n            }\n            editor.editor!.on('change', sendEditorData)\n            sendEditorData()\n          }\n        }\n      }\n      break\n    case 'error':\n      renderFailed(container)\n      break\n    case 'error:fatal':\n      renderFailed(container)\n      container.classList.add('is-render-failed-fatal')\n      break\n    case 'error:invalid':\n      renderFailed(container)\n      container.classList.add('is-render-failed-invalid')\n      break\n    case 'loading':\n      container.classList.remove(...stateClasses)\n      container.classList.add('is-render-loading')\n      break\n    case 'loaded':\n      container.classList.remove(...stateClasses)\n      container.classList.add('is-render-loaded')\n      break\n    case 'ready':\n      container.classList.remove(...stateClasses)\n      container.classList.add('is-render-ready')\n\n      if (payload && typeof payload.height === 'number') {\n        container.style.height = `${payload.height}px`\n      }\n\n      fire(container, 'render:hook:afterready', {\n        container,\n        payload\n      })\n\n      break\n    case 'resize':\n      if (payload && typeof payload.height === 'number') {\n        container.style.height = `${payload.height}px`\n      }\n\n      break\n    case 'data':\n      fire(container, 'edit:visual', payload)\n      break\n    default:\n      fire(container, 'render:hook:message', {\n        type,\n        body,\n        payload\n      })\n      break\n  }\n})\n","import {sendStats} from '../stats'\n\nif (PerformanceObserver && (PerformanceObserver.supportedEntryTypes || []).includes('longtask')) {\n  const observer = new PerformanceObserver(function (list) {\n    const longTasks = list.getEntries().map(({name, duration}) => ({name, duration, url: window.location.href}))\n    sendStats({longTasks})\n  })\n  observer.observe({entryTypes: ['longtask']})\n}\n","import {remoteForm} from '@github/remote-form'\n\nremoteForm('form[data-replace-remote-form]', async function (form, wants) {\n  form.classList.remove('is-error')\n  form.classList.add('is-loading')\n  try {\n    let target: Element = form\n\n    const response = await wants.html()\n    const container = form.closest('[data-replace-remote-form-target]')\n    if (container) {\n      const id = container.getAttribute('data-replace-remote-form-target')\n      target = id ? document.getElementById(id)! : container\n    }\n    target.replaceWith(response.html)\n  } catch (e) {\n    form.classList.remove('is-loading')\n    form.classList.add('is-error')\n  }\n})\n","import MarkdownToolbarElement from '@github/markdown-toolbar-element'\nimport {dialog} from '../details-dialog'\nimport {on} from 'delegated-events'\n\nconst selectionEnds = new WeakMap()\n\nfunction getTextarea(el: HTMLElement): HTMLTextAreaElement {\n  return el.closest<MarkdownToolbarElement>('markdown-toolbar')!.field!\n}\n\non('click', '.js-markdown-link-button', async function ({currentTarget}) {\n  const template = document.querySelector<HTMLTemplateElement>('.js-markdown-link-dialog')!\n  const content = template.content.cloneNode(true)\n  if (!(content instanceof DocumentFragment)) return\n\n  const dialogEl = await dialog({content})\n  if (!(currentTarget instanceof HTMLElement)) return\n  selectionEnds.set(dialogEl, getTextarea(currentTarget).selectionEnd)\n})\n\non('click', '.js-markdown-link-insert', ({currentTarget}) => {\n  const container = currentTarget.closest<HTMLElement>('details-dialog')!\n  const textarea = document.querySelector<HTMLTextAreaElement>(`#${currentTarget.getAttribute('data-for-textarea')!}`)!\n  const selectionEnd = selectionEnds.get(container) || 0\n\n  const href = container.querySelector<HTMLInputElement>('#js-dialog-link-href')!.value\n  const text = container.querySelector<HTMLInputElement>('#js-dialog-link-text')!.value\n  const link = `[${text}](${href}) `\n  const before = textarea.value.slice(0, selectionEnd)\n  const after = textarea.value.slice(selectionEnd)\n  textarea.value = before + link + after\n  textarea.focus()\n  textarea.selectionStart = textarea.selectionEnd = selectionEnd + link.length\n})\n","import {fromEvent} from '../subscription'\nimport {loaded} from '../document-ready'\nimport {observe} from 'selector-observer'\nimport {positionedOffset} from '../dimensions'\n\nobserve('.js-responsive-underlinenav', {\n  constructor: HTMLElement,\n  subscribe: nav => {\n    const items = nav.querySelectorAll<HTMLElement>('.js-responsive-underlinenav-item')\n    asyncCalculateVisibility(nav, items)\n    return fromEvent(window, 'resize', () => calculateVisibility(nav, items))\n  }\n})\n\nasync function asyncCalculateVisibility(nav: HTMLElement, items: Iterable<HTMLElement>) {\n  await loaded\n  calculateVisibility(nav, items)\n}\n\nfunction toggleItem(item: HTMLElement, hidden: boolean) {\n  // Set visibility to hidden, instead of .hidden attribute\n  // so we can still calculate distance acurately\n  item.style.visibility = hidden ? 'hidden' : ''\n  // Get tab-item name, if present, so we can match it up with the dropdown menu\n  const itemName = item.getAttribute('data-tab-item')\n  if (itemName) {\n    const itemToHide = document.querySelector<HTMLElement>(`[data-menu-item=${itemName}]`)\n    if (itemToHide instanceof HTMLElement) {\n      itemToHide.hidden = !hidden\n    }\n  }\n}\n\nfunction calculateVisibility(nav: HTMLElement, items: Iterable<HTMLElement>) {\n  const overflowContainer = nav.querySelector<HTMLElement>('.js-responsive-underlinenav-overflow')!\n  let anyHidden = false\n  for (const item of items) {\n    const overflow = positionedOffset(item, nav)\n    if (overflow) {\n      const hidden = nav.offsetWidth - (overflow.left + item.offsetWidth) <= overflowContainer.offsetWidth\n      toggleItem(item, hidden)\n      anyHidden = anyHidden || hidden\n    }\n  }\n  overflowContainer.style.visibility = anyHidden ? '' : 'hidden'\n}\n","// Gets the current page's id for persisting fields.\n//\n// The value can be overriden by providing a normalized value in a meta tag.\n//\n//   <meta name=\"session-resume-id\" content=\"/github/github/issues/123\">.\n//\n// Defaults to the current url path.\nexport function getPageID(url?: URL): string {\n  const location = url || window.location\n\n  const metaTag = document.head && document.head.querySelector('meta[name=session-resume-id]')\n  const id = metaTag instanceof HTMLMetaElement && metaTag.content\n\n  return id || location.pathname\n}\n","import {eventToHotkeyString} from '@github/hotkey'\nimport {insertText} from '../text'\nimport {on} from 'delegated-events'\nimport {onKey} from '../onfocus'\n\non(\n  'details-menu-select',\n  '.js-saved-reply-menu',\n  function (event) {\n    if (!(event.target instanceof Element)) return\n\n    const body = event.detail.relatedTarget.querySelector('.js-saved-reply-body')\n\n    // Since this details-menu-select can hold options which arent saved\n    // replies, we guard to ensure that only saved replies are handled here.\n    if (!body) return\n\n    const text = (body.textContent || '').trim()\n    const container = event.target.closest<HTMLElement>('.js-previewable-comment-form')!\n\n    const comment = container.querySelector<HTMLTextAreaElement>('textarea.js-comment-field')!\n    insertText(comment, text)\n    setTimeout(() => comment.focus(), 0)\n  },\n  {capture: true}\n)\n\nonKey('keydown', '.js-saved-reply-shortcut-comment-field', function (event) {\n  if (eventToHotkeyString(event) === 'Control+.') {\n    const container = (event.target as Element).closest<HTMLElement>('.js-previewable-comment-form')!\n    const menu = container.querySelector<HTMLElement>('.js-saved-reply-container')!\n    menu.setAttribute('open', '')\n    event.preventDefault()\n  }\n})\n\nonKey('keydown', '.js-saved-reply-filter-input', function (event: KeyboardEvent) {\n  if (/^Control\\+[1-9]$/.test(eventToHotkeyString(event))) {\n    const container = (event.target as Element).closest<HTMLElement>('.js-saved-reply-container')!\n    const replies = container.querySelectorAll('[role=\"menuitem\"]')\n    const savedReplyNumber = Number(event.key)\n    const reply = replies[savedReplyNumber - 1]\n    if (reply instanceof HTMLElement) {\n      reply.click()\n      event.preventDefault()\n    }\n  }\n})\n","import type {BlobRange} from '../blob-anchor'\nimport {DOMRangeFromBlob} from '../blob-anchor'\nimport {observe} from 'selector-observer'\nimport {surroundContents} from '../range'\n\nfunction queryLineElement(snippet: Element, line: number) {\n  return snippet.querySelector(`#LC${line}`)\n}\n\nfunction highlightColumns(blobRange: BlobRange, snippet: Element) {\n  const range = DOMRangeFromBlob(blobRange, line => queryLineElement(snippet, line))\n\n  if (range) {\n    const span = document.createElement('span')\n    span.classList.add('bg-yellow-2')\n    surroundContents(range, span)\n  }\n}\n\nfunction parseColumnHighlightRange(snippet: Element): BlobRange | null {\n  const startLine = parseInt(snippet.getAttribute('data-start-line')!)\n  const endLine = parseInt(snippet.getAttribute('data-end-line')!)\n  const startColumn = parseInt(snippet.getAttribute('data-start-column')!)\n  // The end column is a special case, as 0 acts as a special value\n  const dataEndColumn = parseInt(snippet.getAttribute('data-end-column')!)\n\n  // TODO: handle multi-line highlight regions\n  if (startLine !== endLine) return null\n\n  // Nothing to highlight if start and end lines and start and end cols are the\n  // same, as column ranges are half-open\n  if (startLine === endLine && startColumn === dataEndColumn) return null\n\n  // 0 here indicates that no end column was provided, so the highlight should\n  // continue to the end of the line.\n  // DOMRangeFromBlob will interpret null in a similar way to this.\n  const endColumn = dataEndColumn !== 0 ? dataEndColumn : null\n\n  return {\n    start: {line: startLine, column: startColumn},\n    end: {line: endLine, column: endColumn}\n  }\n}\n\nobserve('.js-highlight-code-snippet-columns', function (snippet: Element) {\n  const blobRange = parseColumnHighlightRange(snippet)\n  if (blobRange !== null) {\n    highlightColumns(blobRange, snippet)\n  }\n})\n","import {on} from 'delegated-events'\n\non('click', '.js-segmented-nav-button', function (event) {\n  event.preventDefault()\n  const target = event.currentTarget\n\n  const selectedTabSelector = target.getAttribute('data-selected-tab')!\n  const navigationContainer = target.closest<HTMLElement>('.js-segmented-nav')!\n  const container = navigationContainer.parentElement!\n\n  for (const button of navigationContainer.querySelectorAll('.js-segmented-nav-button')) {\n    button.classList.remove('selected')\n  }\n\n  target.classList.add('selected')\n\n  for (const tab of container.querySelectorAll('.js-selected-nav-tab')) {\n    if (tab.parentElement === container) {\n      tab.classList.remove('active')\n    }\n  }\n\n  document.querySelector<HTMLElement>(`.${selectedTabSelector}`)!.classList.add('active')\n})\n","import {persistResumableFields, restoreResumableFields, setForm} from '@github/session-resume'\nimport {getPageID} from '../session-resume-helpers'\n\n// Session Resume.\n//\n// Annotate fields to be persisted on navigation away from the current page.\n// Fields be automatically restored when the user revists the page again in\n// their current browser session (excludes seperate tabs).\n//\n// Not design for persisted crash recovery.\n\n// Listen for all form submit events and to see if their default submission\n// behavior is invoked.\nwindow.addEventListener('submit', setForm, {capture: true})\n\n// Resume field content on regular page loads.\nwindow.addEventListener('pageshow', function () {\n  restoreResumableFields(getPageID())\n})\n\n// Resume field content on pjax page loads.\nwindow.addEventListener('pjax:end', function () {\n  restoreResumableFields(getPageID())\n})\n\n// Persist resumable fields when page is unloaded\nwindow.addEventListener('pagehide', function () {\n  persistResumableFields(getPageID(), {selector: '.js-session-resumable'})\n})\n\n// Persist resumable fields before pjax swaps them out\nwindow.addEventListener('pjax:beforeReplace', function (event) {\n  const state = event.detail.previousState\n  const url = state ? state.url : null\n\n  if (url) {\n    persistResumableFields(getPageID(new URL(url, window.location.origin)), {selector: '.js-session-resumable'})\n  } else {\n    const error = new Error('pjax:beforeReplace event.detail.previousState.url is undefined')\n    setTimeout(function () {\n      throw error\n    })\n  }\n})\n","// Deal with selected_link_to on repository and gist pages\ndocument.addEventListener('pjax:end', function () {\n  const meta = document.querySelector('meta[name=\"selected-link\"]')\n  const selection = meta && meta.getAttribute('value')\n  if (!selection) {\n    return\n  }\n  for (const item of document.querySelectorAll('.js-sidenav-container-pjax .js-selected-navigation-item')) {\n    const isSelected = (item.getAttribute('data-selected-links') || '').split(' ').indexOf(selection) >= 0\n    item.classList.toggle('selected', isSelected)\n  }\n})\n","import {getItem, removeItem, setItem} from '../../session-storage'\n\ntype ShelfReferrerParams = {\n  notification_referrer_id?: string\n  notifications_before?: string\n  notifications_after?: string\n  notifications_query?: string\n}\n\nconst shelfParams: Array<keyof ShelfReferrerParams> = [\n  'notification_referrer_id',\n  'notifications_before',\n  'notifications_after',\n  'notifications_query'\n]\n\nconst sessionStorageKey = 'notification_shelf'\n\n/*\n * Stores url params for the shelf in session storage if present, and returns\n * search params without any shelf params.\n */\nexport function storeAndStripShelfParams(\n  searchParams: URLSearchParams,\n  pathname: string | null = null\n): URLSearchParams | null {\n  if (searchParams.has('notification_referrer_id')) {\n    storeShelfParams(searchParams, pathname)\n    return deleteShelfParams(searchParams)\n  }\n  return null\n}\n\n/*\n * Loads the shelf params from sessionStorage if they are there and they match\n * the current pull request page, clear them otherwise.\n */\nexport function getStoredShelfParamsForCurrentPage(pathname: string | null = null): ShelfReferrerParams | null {\n  // If the current page is not a pull request, then the stored data will\n  // not match, so clear it and move on.\n  const currentPullRequestPathname = getCurrentPullRequestPathname(pathname)\n  if (!currentPullRequestPathname) {\n    removeItem(sessionStorageKey)\n    return null\n  }\n\n  try {\n    const str = getItem(sessionStorageKey)\n    if (!str) return null\n\n    const stored = JSON.parse(str)\n    if (!stored || !stored.pathname) throw new Error('Must have a pathname')\n\n    if (stored.pathname !== currentPullRequestPathname) {\n      throw new Error('Stored pathname does not match current pathname.')\n    }\n\n    const result: ShelfReferrerParams = {}\n\n    for (const key of shelfParams) {\n      result[key] = stored[key]\n    }\n\n    return result\n  } catch (e) {\n    removeItem(sessionStorageKey)\n    return null\n  }\n}\n\nfunction storeShelfParams(searchParams: URLSearchParams, pathname: string | null) {\n  const pullRequestPathname = getCurrentPullRequestPathname(pathname)\n  if (!pullRequestPathname) return\n\n  const params: {[key: string]: string} = {\n    pathname: pullRequestPathname\n  }\n\n  for (const key of shelfParams) {\n    const value = searchParams.get(key)\n    if (value) params[key] = value\n  }\n\n  setItem(sessionStorageKey, JSON.stringify(params))\n}\n\nfunction deleteShelfParams(searchParams: URLSearchParams): URLSearchParams {\n  for (const key of shelfParams) {\n    searchParams.delete(key)\n  }\n  return searchParams\n}\n\n/*\n * Returns the base pathname of the current page if it's a pull request.\n *\n * `/github/github/pull/123/files` -> `/github/github/pull/123`\n */\nfunction getCurrentPullRequestPathname(pathname: string | null): string | null {\n  pathname = pathname || window.location.pathname\n  const pullRequestPathnameRegex = /^(\\/[^/]+\\/[^/]+\\/pull\\/[^/]+)/\n  const match = pathname.match(pullRequestPathnameRegex)\n  if (!match) return null\n\n  return match[0]\n}\n","import {getStoredShelfParamsForCurrentPage, storeAndStripShelfParams} from './notification-shelf-referrer-params'\nimport IncludeFragmentElement from '@github/include-fragment-element'\nimport type {Kicker} from '@github/remote-form'\nimport {remoteForm} from '@github/remote-form'\nimport {updateNotificationStates} from './update-notification-states'\n\n// Perform an action and change the status of the notification shelf.\nexport async function remoteShelfActionForm() {\n  return remoteForm('.js-notification-shelf .js-notification-action form', async function (form, wants) {\n    const shouldRedirect = form.hasAttribute('data-redirect-to-inbox-on-submit')\n\n    if (shouldRedirect) {\n      await performRequest(wants)\n      const inboxButton = document.querySelector<HTMLAnchorElement>('.js-notifications-back-to-inbox')!\n\n      if (inboxButton) {\n        inboxButton.click()\n      }\n\n      return\n    }\n\n    updateNotificationStates(form, form)\n    await performRequest(wants)\n  })\n}\n\nexport function urlWithoutNotificationParameters() {\n  const searchParams = new URLSearchParams(window.location.search)\n  const cleanSearchParams = storeAndStripShelfParams(searchParams)\n\n  if (cleanSearchParams) {\n    const newUrl = new URL(window.location.href, window.location.origin)\n    newUrl.search = cleanSearchParams.toString()\n    return newUrl.toString()\n  }\n}\n\nexport function loadShelfFromStoredParams(includeFragmentEl: Element) {\n  if (!(includeFragmentEl instanceof IncludeFragmentElement)) {\n    return\n  }\n\n  const params = getStoredShelfParamsForCurrentPage()\n  if (!params) return\n\n  const baseUrl = includeFragmentEl.getAttribute('data-base-src')\n  if (!baseUrl) return\n\n  const shelfURL = new URL(baseUrl, window.location.origin)\n  const searchParams = new URLSearchParams(shelfURL.search)\n\n  for (const [key, value] of Object.entries(params)) {\n    if (typeof value === 'string') searchParams.set(key, value)\n  }\n  shelfURL.search = searchParams.toString()\n  includeFragmentEl.setAttribute('src', shelfURL.toString())\n}\n\n// Submits an AJAX request, but ignores any errors.\nasync function performRequest(wants: Kicker) {\n  try {\n    await wants.text()\n  } catch (error) {\n    // TODO show error message\n  }\n}\n","import {onFocus, onKey} from '../onfocus'\nimport {on} from 'delegated-events'\n\nfunction isJumpToAvailable(field: Element): boolean {\n  return !!field.closest('.js-jump-to-field')\n}\n\nfunction toggleSearchScope(field: HTMLElement, enabled: boolean) {\n  // We don't want legacy search behaviour of changing scope on backspace when using Jump To.\n  if (isJumpToAvailable(field)) {\n    return\n  }\n  const form = document.querySelector<HTMLFormElement>('.js-site-search-form')!\n  document.querySelector<HTMLElement>('.js-site-search')!.classList.toggle('scoped-search', enabled)\n\n  let url\n  let placeholder\n  if (enabled) {\n    url = form.getAttribute('data-scoped-search-url')!\n    placeholder = field.getAttribute('data-scoped-placeholder')!\n  } else {\n    url = form.getAttribute('data-unscoped-search-url')!\n    placeholder = field.getAttribute('data-unscoped-placeholder')!\n  }\n\n  form.setAttribute('action', url)\n  field.setAttribute('placeholder', placeholder)\n}\n\nonKey('keyup', '.js-site-search-field', function (event: KeyboardEvent) {\n  const field = event.target as HTMLInputElement\n\n  const emptyQuery = field.value.length === 0\n  if (emptyQuery && event.key === 'Backspace' && field.classList.contains('is-clearable')) {\n    toggleSearchScope(field, false)\n  }\n  if (emptyQuery && event.key === 'Escape') {\n    toggleSearchScope(field, true)\n  }\n  field.classList.toggle('is-clearable', emptyQuery)\n})\n\nonFocus('.js-site-search-focus', function (field) {\n  const container = field.closest<HTMLElement>('.js-chromeless-input-container')!\n  container.classList.add('focus')\n\n  // Restore scope on blur\n  function blurHandler() {\n    container.classList.remove('focus')\n    if ((field as HTMLInputElement).value.length === 0 && field.classList.contains('js-site-search-field')) {\n      toggleSearchScope(field, true)\n    }\n    field.removeEventListener('blur', blurHandler)\n  }\n\n  field.addEventListener('blur', blurHandler)\n})\n\non('submit', '.js-site-search-form', function (event) {\n  if (!(event.target instanceof Element)) return\n  const input = event.target.querySelector<HTMLInputElement>('.js-site-search-type-field')!\n  input.value = new URLSearchParams(window.location.search).get('type') || ''\n})\n","import {\n  loadShelfFromStoredParams,\n  remoteShelfActionForm,\n  urlWithoutNotificationParameters\n} from './../notifications/v2/notification-shelf-helpers'\nimport {loaded} from '../document-ready'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\nimport {replaceState} from '../history'\nimport {requestSubmit} from '../form'\n\nremoteShelfActionForm()\n\n// Remove the notification_referrer_id parameter from the url on page load\nfunction removeNotificationParams() {\n  const newUrl = urlWithoutNotificationParameters()\n  if (newUrl) replaceState(null, '', newUrl)\n}\nremoveNotificationParams()\n\nobserve('.js-notification-shelf-include-fragment', loadShelfFromStoredParams)\n\non('submit', '.js-mark-notification-form', async function (event) {\n  const form = event.currentTarget as HTMLFormElement\n  event.preventDefault()\n  try {\n    await fetch(form.action, {\n      method: form.method,\n      body: new FormData(form),\n      headers: {\n        Accept: 'application/json',\n        'X-Requested-With': 'XMLHttpRequest'\n      }\n    })\n  } catch {\n    // Ignore network errors\n  }\n})\n\n// mark related notification as read\nasync function markNotificationAsRead() {\n  await loaded\n\n  const form = document.querySelector('.js-mark-notification-form')\n  if (form instanceof HTMLFormElement) {\n    requestSubmit(form)\n  }\n}\n\nmarkNotificationAsRead()\n","// Size to Fit textarea behavior\n//\n// Auto sizes any textareas marked with `.js-size-to-fit` to its text\n// contents height.\n\nimport {observe} from 'selector-observer'\nimport subscribe from '@github/textarea-autosize'\n\nobserve('textarea.js-size-to-fit', {\n  constructor: HTMLTextAreaElement,\n  subscribe\n})\n","/**\n * Smooth scrolling anchor.\n *\n * Have an in-page anchor link and want the page to smoothly scroll to its destination? Look no further.\n *\n * Apply the `.js-smoothscroll-anchor` on the anchor tag to trigger smooth scrolling.\n *\n * This will override the default behavior of jumping the page to the element targeted by the hash in the `href`\n * and instead smoothly scroll to it. No additional CSS is required.\n *\n * @deprecated Replace this behavior with `scroll-behavior: smooth;`\n *   https://developer.mozilla.org/en-US/docs/Web/CSS/scroll-behavior.\n *\n * @example\n * ```html\n * <a href=\"#some-id\" class=\"js-smoothscroll-anchor\">Scroll to #some-id</a>\n * <div id=\"some-id\" style=\"margin-top: 300px;\">\n *   <h3>Scroll to me</h3>\n * </div>\n * ```\n */\n\nimport {findFragmentTarget} from '../fragment-target'\nimport {on} from 'delegated-events'\n\non('click', '.js-smoothscroll-anchor', function (event) {\n  const anchor = event.currentTarget\n  if (!(anchor instanceof HTMLAnchorElement)) return\n\n  const target = findFragmentTarget(document, anchor.hash)\n  if (!target) return\n\n  target.scrollIntoView({behavior: 'smooth'})\n  event.preventDefault()\n})\n","// Social Buttons\n//\n// Also see .social-count styles.\n// Update count for Watch and Follow buttons\n//\n// Expects JSON response with {count: 123}\n\nimport type {SimpleResponse} from '@github/remote-form'\nimport {remoteForm} from '@github/remote-form'\nimport {showGlobalError} from './ajax-error'\n\nremoteForm('.js-social-form', async function (form, wants) {\n  let response: SimpleResponse\n\n  try {\n    response = await wants.json()\n  } catch {\n    showGlobalError()\n\n    // If the social form is also a toggler, toggle it back\n    const container = form.closest<HTMLElement>('.js-toggler-container')\n    if (container) container.classList.toggle('on')\n\n    return\n  }\n\n  const container = form.closest<HTMLElement>('.js-social-container')!\n  for (const count of container.querySelectorAll('.js-social-count')) {\n    count.textContent = response.json.count\n  }\n})\n","import MultiMap from '@github/multimap'\n\nexport type Subscription<T> = {\n  subscriber: T\n  topic: Topic\n}\n\nexport class SubscriptionSet<T> {\n  private subscriptions = new MultiMap<string, T>()\n  private signatures = new Map<string, Topic>()\n\n  add(...subscriptions: Array<Subscription<T>>): Topic[] {\n    const added = []\n    for (const {subscriber, topic} of subscriptions) {\n      if (!this.subscriptions.has(topic.name)) {\n        added.push(topic)\n        this.signatures.set(topic.name, topic)\n      }\n      this.subscriptions.set(topic.name, subscriber)\n    }\n    return added\n  }\n\n  delete(...subscriptions: Array<Subscription<T>>): Topic[] {\n    const removed = []\n    for (const {subscriber, topic} of subscriptions) {\n      const deleted = this.subscriptions.delete(topic.name, subscriber)\n      if (deleted && !this.subscriptions.has(topic.name)) {\n        removed.push(topic)\n        this.signatures.delete(topic.name)\n      }\n    }\n    return removed\n  }\n\n  drain(...subscribers: T[]): Topic[] {\n    const removed = []\n    for (const subscriber of subscribers) {\n      for (const name of this.subscriptions.drain(subscriber)) {\n        const topic = this.signatures.get(name)!\n        this.signatures.delete(name)\n        removed.push(topic)\n      }\n    }\n    return removed\n  }\n\n  topics(): Iterable<Topic> {\n    return this.signatures.values()\n  }\n\n  topic(name: string): Topic | null {\n    return this.signatures.get(name) || null\n  }\n\n  subscribers(topic: string): Iterable<T> {\n    return this.subscriptions.get(topic).values()\n  }\n}\n\nexport class Topic {\n  public name: string\n  public signed: string\n  public offset: string\n\n  static parse(data: string): Topic | null {\n    const [content, signature] = data.split('--')\n    if (!content || !signature) return null\n\n    const sub = JSON.parse(atob(content))\n    if (!sub.c || !sub.t) return null\n\n    return new Topic(sub.c, data)\n  }\n\n  constructor(name: string, signed: string) {\n    this.name = name\n    this.signed = signed\n    this.offset = ''\n  }\n}\n","import {SubscriptionSet, Topic} from './subscription-set'\nimport type {Socket} from '@github/stable-socket'\nimport {StableSocket} from '@github/stable-socket'\nimport type {Subscription} from './subscription-set'\nimport {eachSlice} from './iterables'\nimport {retry} from './eventloop-tasks'\n\nexport type AliveData = {\n  timestamp: number\n  wait: number\n  gid?: string\n}\n\ninterface Ack {\n  e: 'ack'\n  off: string\n  health: boolean\n}\n\ninterface Message {\n  e: 'msg'\n  ch: string\n  off: string\n  data: AliveData\n}\n\nexport type Notifier<T> = (subscribers: Iterable<T>, name: string, data: AliveData) => void\n\nexport default class AliveSession<T> {\n  private socket: Socket\n  private subscriptions = new SubscriptionSet<T>()\n  private notify: Notifier<T>\n  private refreshUrl: string\n  private shared: boolean\n  private state: 'online' | 'offline' = 'online'\n  private retrying: AbortController | null = null\n\n  constructor(url: string, refreshUrl: string, shared: boolean, notify: Notifier<T>) {\n    this.refreshUrl = refreshUrl\n    this.notify = notify\n    this.shared = shared\n    this.socket = this.connect(url)\n  }\n\n  subscribe(subscriptions: Array<Subscription<T>>) {\n    const added = this.subscriptions.add(...subscriptions)\n    this.sendSubscribe(added)\n  }\n\n  unsubscribe(subscriptions: Array<Subscription<T>>) {\n    const removed = this.subscriptions.delete(...subscriptions)\n    this.sendUnsubscribe(removed)\n  }\n\n  unsubscribeAll(...subscribers: T[]) {\n    const removed = this.subscriptions.drain(...subscribers)\n    this.sendUnsubscribe(removed)\n  }\n\n  online() {\n    this.state = 'online'\n    this.retrying?.abort()\n    this.socket.open()\n  }\n\n  offline() {\n    this.state = 'offline'\n    this.retrying?.abort()\n    this.socket.close()\n  }\n\n  shutdown() {\n    if (this.shared) {\n      self.close()\n    }\n  }\n\n  socketDidOpen() {\n    // Subscribe again after connection failure.\n    this.sendSubscribe(this.subscriptions.topics())\n  }\n\n  socketDidClose() {\n    // Do nothing.\n  }\n\n  socketDidFinish() {\n    if (this.state === 'offline') return\n    this.reconnect()\n  }\n\n  socketDidReceiveMessage(_: Socket, message: string) {\n    const payload = JSON.parse(message)\n    switch (payload.e) {\n      case 'ack': {\n        this.handleAck(payload)\n        break\n      }\n      case 'msg': {\n        this.handleMessage(payload)\n        break\n      }\n    }\n  }\n\n  private handleAck(ack: Ack) {\n    for (const topic of this.subscriptions.topics()) {\n      topic.offset = ack.off\n    }\n  }\n\n  private handleMessage(msg: Message) {\n    const name = msg.ch\n    const topic = this.subscriptions.topic(name)\n    if (!topic) return\n    topic.offset = msg.off\n\n    if (!msg.data.wait) msg.data.wait = 0\n    this.notify(this.subscriptions.subscribers(name), name, msg.data)\n  }\n\n  private async reconnect() {\n    if (this.retrying) return\n    try {\n      this.retrying = new AbortController()\n      const fn = () => fetchRefreshUrl(this.refreshUrl)\n      const url = await retry(fn, Infinity, 60000, this.retrying.signal)\n      if (url) {\n        this.socket = this.connect(url)\n      } else {\n        this.shutdown()\n      }\n    } catch (e) {\n      if (e.name !== 'AbortError') throw e\n    } finally {\n      this.retrying = null\n    }\n  }\n\n  private connect(url: string): Socket {\n    const liveUrl = new URL(url, self.location.origin)\n    liveUrl.searchParams.set('shared', this.shared.toString())\n    const socket = new StableSocket(liveUrl.toString(), this, {timeout: 4000, attempts: 7})\n    socket.open()\n    return socket\n  }\n\n  private sendSubscribe(topics: Iterable<Topic>) {\n    const entries = Array.from(topics, t => [t.signed, t.offset])\n    for (const slice of eachSlice(entries, 25)) {\n      this.socket.send(JSON.stringify({subscribe: Object.fromEntries(slice)}))\n    }\n  }\n\n  private sendUnsubscribe(topics: Iterable<Topic>) {\n    const signed = Array.from(topics, t => t.signed)\n    for (const slice of eachSlice(signed, 25)) {\n      this.socket.send(JSON.stringify({unsubscribe: slice}))\n    }\n  }\n}\n\ntype PostUrl = {url?: string; token?: string}\nasync function fetchRefreshUrl(url: string): Promise<string | null> {\n  const data = await fetchJSON<PostUrl>(url)\n  return data && data.url && data.token ? post(data.url, data.token) : null\n}\n\nasync function fetchJSON<T>(url: string): Promise<T | null> {\n  const response = await fetch(url, {headers: {Accept: 'application/json'}})\n  if (response.ok) {\n    return response.json()\n  } else if (response.status === 404) {\n    return null\n  } else {\n    throw new Error('fetch error')\n  }\n}\n\nasync function post(url: string, csrf: string): Promise<string> {\n  const response = await fetch(url, {\n    method: 'POST',\n    mode: 'same-origin',\n    headers: {\n      'Scoped-CSRF-Token': csrf\n    }\n  })\n  if (response.ok) {\n    return response.text()\n  } else {\n    throw new Error('fetch error')\n  }\n}\n","import type {AliveData, Notifier} from '../alive-session'\nimport {SubscriptionSet, Topic} from '../subscription-set'\nimport AliveSession from '../alive-session'\nimport type {Subscription} from '../subscription-set'\nimport {observe} from 'selector-observer'\nimport {ready} from '../document-ready'\nimport {taskQueue} from '../eventloop-tasks'\n\nfunction isSharedWorkerSupported(): boolean {\n  return 'SharedWorker' in window\n}\n\nfunction workerSrc(): string | null {\n  return document.head.querySelector<HTMLLinkElement>('link[rel=shared-web-socket-src]')?.href ?? null\n}\n\nfunction socketUrl(): string | null {\n  return document.head.querySelector<HTMLLinkElement>('link[rel=shared-web-socket]')?.href ?? null\n}\n\nfunction socketRefreshUrl(): string | null {\n  return (\n    document.head.querySelector<HTMLLinkElement>('link[rel=shared-web-socket]')?.getAttribute('data-refresh-url') ??\n    null\n  )\n}\n\nfunction sessionIdentifier(): string | null {\n  return (\n    document.head.querySelector<HTMLLinkElement>('link[rel=shared-web-socket]')?.getAttribute('data-session-id') ?? null\n  )\n}\n\nfunction subscriptions(el: Element): Array<Subscription<Element>> {\n  return channels(el).map((topic: Topic) => ({subscriber: el, topic}))\n}\n\nexport function channels(el: Element): Topic[] {\n  const names = (el.getAttribute('data-channel') || '').trim().split(/\\s+/)\n  return names.map(Topic.parse).filter(isPresent)\n}\n\nfunction isPresent(value: Topic | null): value is Topic {\n  return value != null\n}\n\nfunction notify(subscribers: Iterable<Element>, name: string, data: AliveData) {\n  for (const el of subscribers) {\n    el.dispatchEvent(\n      new CustomEvent('socket:message', {\n        bubbles: false,\n        cancelable: false,\n        detail: {name, data}\n      })\n    )\n  }\n}\n\nclass AliveSessionProxy {\n  private worker: SharedWorker\n  private subscriptions = new SubscriptionSet<Element>()\n  private notify: Notifier<Element>\n\n  constructor(src: string, url: string, refreshUrl: string, sessionId: string, notifier: Notifier<Element>) {\n    this.notify = notifier\n    this.worker = new SharedWorker(src, `github-socket-worker-v2-${sessionId}`)\n    this.worker.port.onmessage = ({data}) => this.receive(data)\n    this.worker.port.postMessage({connect: {url, refreshUrl}})\n  }\n\n  subscribe(subs: Array<Subscription<Element>>) {\n    const added = this.subscriptions.add(...subs)\n    if (added.length) {\n      this.worker.port.postMessage({subscribe: added})\n    }\n  }\n\n  unsubscribeAll(...subscribers: Element[]) {\n    const removed = this.subscriptions.drain(...subscribers)\n    if (removed.length) {\n      this.worker.port.postMessage({unsubscribe: removed})\n    }\n  }\n\n  online() {\n    this.worker.port.postMessage({online: true})\n  }\n\n  offline() {\n    this.worker.port.postMessage({online: false})\n  }\n\n  hangup() {\n    this.worker.port.postMessage({hangup: true})\n  }\n\n  private receive(message: WorkerMessage) {\n    const {name, data} = message\n    this.notify(this.subscriptions.subscribers(name), name, data)\n  }\n}\n\ntype WorkerMessage = {name: string; data: AliveData}\n\nfunction connect() {\n  const src = workerSrc()\n  if (!src) return\n\n  const url = socketUrl()\n  if (!url) return\n\n  const refreshUrl = socketRefreshUrl()\n  if (!refreshUrl) return\n\n  const sessionId = sessionIdentifier()\n  if (!sessionId) return\n\n  const session = isSharedWorkerSupported()\n    ? new AliveSessionProxy(src, url, refreshUrl, sessionId, notify)\n    : new AliveSession(url, refreshUrl, false, notify)\n\n  type Subs = Array<Subscription<Element>>\n  const queueSubscribe = taskQueue<Subs>(subs => session.subscribe(subs.flat()))\n  const queueUnsubscribe = taskQueue<Element>(els => session.unsubscribeAll(...els))\n\n  observe('.js-socket-channel[data-channel]', {\n    add: el => queueSubscribe(subscriptions(el)),\n    remove: el => queueUnsubscribe(el)\n  })\n\n  window.addEventListener('online', () => session.online())\n  window.addEventListener('offline', () => session.offline())\n  window.addEventListener('unload', () => {\n    if ('hangup' in session) session.hangup()\n  })\n}\n\n;(async () => {\n  await ready\n  connect()\n})()\n","import type {AliveData} from '../alive-session'\nimport type {Topic} from '../subscription-set'\nimport {channels} from './socket-channel'\n\ntype Entry = {name: string; data: AliveData; arrived: number}\nconst cache = new Map<string, Entry>()\n\nfunction stale(topics: Topic[], since: number): Entry[] {\n  const entries = []\n  for (const topic of topics) {\n    const entry = cache.get(topic.name)\n    if (entry && entry.arrived > since) {\n      entries.push(entry)\n    }\n  }\n  return entries\n}\n\nfunction dispatch(container: Element, cachedAt: number) {\n  for (const el of container.querySelectorAll('.js-socket-channel[data-channel]')) {\n    for (const entry of stale(channels(el), cachedAt)) {\n      el.dispatchEvent(\n        new CustomEvent('socket:message', {\n          bubbles: false,\n          cancelable: false,\n          detail: {name: entry.name, data: entry.data, cached: true}\n        })\n      )\n    }\n  }\n}\n\nfunction store(event: Event) {\n  const {name, data, cached} = (event as CustomEvent).detail\n  if (cached) return\n  const entry = {name, data: {...data}, arrived: Date.now()}\n  entry.data.wait = 0\n  cache.set(name, entry)\n}\n\n// Cache socket messages for future delivery.\ndocument.addEventListener('socket:message', store, {capture: true})\n\n// Dispatch socket:message when elements are restored from PJAX cache.\ndocument.addEventListener('pjax:popstate', function (event: Event) {\n  const container = event.target as Element\n  const cachedAt = (event as CustomEvent).detail.cachedAt\n  if (cachedAt) setTimeout(() => dispatch(container, cachedAt))\n})\n","// Detects signout/signin events via `flash[:stale_session_signedin]` and\n// notifies other browser tabs so that they can:\n//\n// 1. display the \"You signed out in another tab\" banner; and\n// 2. disable pjaxing and form submission.\n//\n// On browsers that don't support BroadcastChannel, the `logged-in`\n// localStorage key is used to send messages between tabs.\n\nfunction sessionChanged(loggedIn: string) {\n  const flash = document.querySelector<HTMLElement>('.js-stale-session-flash')!\n  const flashSignedIn = flash.querySelector<HTMLElement>('.js-stale-session-flash-signed-in')!\n  const flashSignedOut = flash.querySelector<HTMLElement>('.js-stale-session-flash-signed-out')!\n\n  flash.hidden = false\n  flashSignedIn.hidden = loggedIn === 'false'\n  flashSignedOut.hidden = loggedIn === 'true'\n\n  window.addEventListener('popstate', function (event: PopStateEvent) {\n    if (event.state && event.state.container != null) {\n      location.reload()\n    }\n  })\n\n  document.addEventListener('submit', function (event: Event) {\n    event.preventDefault()\n  })\n}\n\nlet bc\nif (typeof BroadcastChannel === 'function') {\n  try {\n    bc = new BroadcastChannel('stale-session')\n    bc.onmessage = event => {\n      if (typeof event.data === 'string') sessionChanged(event.data)\n    }\n  } catch {\n    // ignore\n  }\n}\nif (!bc) {\n  let postingMessage = false\n\n  bc = {\n    postMessage(message: string) {\n      postingMessage = true\n      try {\n        window.localStorage.setItem('logged-in', message)\n      } finally {\n        postingMessage = false\n      }\n    }\n  }\n\n  window.addEventListener('storage', function (event) {\n    if (!postingMessage && event.storageArea === window.localStorage && event.key === 'logged-in') {\n      try {\n        if (event.newValue === 'true' || event.newValue === 'false') {\n          sessionChanged(event.newValue)\n        }\n      } finally {\n        window.localStorage.removeItem(event.key)\n      }\n    }\n  })\n}\n\nconst element = document.querySelector('.js-stale-session-flash[data-signedin]')\nif (element) {\n  const value = element.getAttribute('data-signedin') || ''\n  bc.postMessage(value)\n}\n","import {observe} from 'selector-observer'\nimport {requestSubmit} from '../form'\n\nobserve('form.js-auto-replay-enforced-sso-request', {\n  constructor: HTMLFormElement,\n  initialize(el) {\n    requestSubmit(el)\n  }\n})\n","import {fetchSafeDocumentFragment} from '../fetch'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\nimport verifySsoSession from '../sso'\n\nfunction updateStatusPosition(container: Element, menu: HTMLElement, details: Element) {\n  const containerHeight = container.getBoundingClientRect().height\n  const menuRect = menu.getBoundingClientRect()\n  const iconRect = details.getBoundingClientRect()\n  let top = iconRect.top\n  // Ensure popover stays off the bottom of the page by at least 10 pixels\n  if (top + menuRect.height + 10 >= containerHeight) {\n    top = Math.max(containerHeight - menuRect.height - 10, 0)\n  }\n  let left = iconRect.right\n  // Show popover to the left\n  if (details.closest('.js-build-status-to-the-left') != null) {\n    left = Math.max(iconRect.left - menuRect.width - 10, 0)\n  }\n  menu.style.top = `${top}px`\n  menu.style.left = `${left}px`\n  menu.style.right = 'auto'\n}\n\non(\n  'toggle',\n  '.js-build-status .js-dropdown-details',\n  function (event) {\n    const details = event.currentTarget\n    const menu = details.querySelector<HTMLElement>('.js-status-dropdown-menu')\n    if (!menu) return\n\n    function closeOnToggle() {\n      if (!details.hasAttribute('open')) closeStatusPopover()\n    }\n\n    function closeOnScroll(scrollEvent: Event) {\n      if (!menu!.contains(scrollEvent.target as Element)) closeStatusPopover()\n    }\n\n    function closeStatusPopover() {\n      details.removeAttribute('open')\n      /* eslint-disable-next-line github/no-d-none */\n      menu!.classList.add('d-none')\n      details.appendChild(menu!)\n      details.removeEventListener('toggle', closeOnToggle)\n      window.removeEventListener('scroll', closeOnScroll)\n    }\n\n    details.addEventListener('toggle', closeOnToggle)\n\n    if (menu.classList.contains('js-close-menu-on-scroll')) {\n      /* eslint-disable-next-line github/prefer-observers */\n      window.addEventListener('scroll', closeOnScroll, {capture: true})\n    }\n\n    /* eslint-disable-next-line github/no-d-none */\n    menu.classList.remove('d-none')\n    menu.querySelector<HTMLElement>('.js-details-container')!.classList.add('open')\n    if (menu.classList.contains('js-append-menu-to-body')) {\n      // Move menu to body so it can overlay on top of other elements\n      document.body.appendChild(menu)\n      updateStatusPosition(document.body, menu, details)\n    }\n  },\n  {capture: true}\n)\n\nasync function loadStatus(el: Element) {\n  const details = el.querySelector('.js-dropdown-details')\n  const menu = el.querySelector('.js-status-dropdown-menu') || el.closest('.js-status-dropdown-menu')\n\n  if (!(menu instanceof HTMLElement)) {\n    // Status does not have an associated dropdown menu\n    return\n  }\n\n  const loader = menu.querySelector('.js-status-loader')\n  if (!loader) {\n    return\n  }\n\n  const loadingArea = menu.querySelector<HTMLElement>('.js-status-loading')!\n  const errorArea = menu.querySelector<HTMLElement>('.js-status-error')!\n\n  const url = loader.getAttribute('data-contents-url')!\n\n  /* eslint-disable-next-line github/no-d-none */\n  loadingArea.classList.remove('d-none')\n  /* eslint-disable-next-line github/no-d-none */\n  errorArea.classList.add('d-none')\n\n  let html\n  try {\n    await verifySsoSession()\n    html = await fetchSafeDocumentFragment(document, url)\n  } catch (error) {\n    /* eslint-disable-next-line github/no-d-none */\n    loadingArea.classList.add('d-none')\n    /* eslint-disable-next-line github/no-d-none */\n    errorArea.classList.remove('d-none')\n  }\n\n  if (html) {\n    loader.replaceWith(html)\n    menu.querySelector<HTMLElement>('.js-details-container')!.classList.add('open')\n    if (details && menu.classList.contains('js-append-menu-to-body')) {\n      updateStatusPosition(document.body, menu, details)\n    }\n  }\n}\n\non('click', '.js-status-retry', ({currentTarget}) => {\n  loadStatus(currentTarget)\n})\n\nfunction onMouseEnter(event: Event) {\n  const currentTarget = event.currentTarget as Element\n  loadStatus(currentTarget)\n}\n\nobserve('.js-build-status', {\n  add(el) {\n    el.addEventListener('mouseenter', onMouseEnter, {once: true})\n  },\n  remove(el) {\n    el.removeEventListener('mouseenter', onMouseEnter)\n  }\n})\n","import {fromEvent} from '../subscription'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\nimport {requestSubmit} from '../form'\nimport sudo from '../sudo'\n\non('click', 'button[data-sudo-required], summary[data-sudo-required]', checkSudo)\nobserve('form[data-sudo-required]', {\n  constructor: HTMLFormElement,\n  subscribe: form => fromEvent(form, 'submit', checkSudo)\n})\n\nasync function checkSudo(event: Event) {\n  const currentTarget = event.currentTarget\n  if (!(currentTarget instanceof HTMLElement)) return\n\n  event.stopPropagation()\n  event.preventDefault()\n  const sudoPassed = await sudo()\n\n  if (sudoPassed) {\n    currentTarget.removeAttribute('data-sudo-required')\n    if (currentTarget instanceof HTMLFormElement) {\n      requestSubmit(currentTarget)\n    } else {\n      currentTarget.click()\n    }\n  }\n}\n","import {compare, fuzzyScore} from '../../fuzzy-filter'\nimport {compose, fromEvent} from '../../subscription'\nimport {fetchSafeDocumentFragment} from '../../fetch'\nimport {filterSort} from '../../filter-sort'\nimport memoize from '@github/memoize'\nimport {observe} from 'selector-observer'\n\nconst selectors: {[key: string]: string} = {\n  'actor:': 'ul.js-user-suggestions',\n  'user:': 'ul.js-user-suggestions',\n  'operation:': 'ul.js-operation-suggestions',\n  'org:': 'ul.js-org-suggestions',\n  'action:': 'ul.js-action-suggestions',\n  'repo:': 'ul.js-repo-suggestions',\n  'country:': 'ul.js-country-suggestions'\n}\n\nobserve('text-expander[data-audit-url]', {\n  subscribe: el =>\n    compose(fromEvent(el, 'text-expander-change', onchange), fromEvent(el, 'text-expander-value', onvalue))\n})\n\nfunction onvalue(event: Event) {\n  const detail = (event as CustomEvent).detail\n  if (!isActivationKey(detail.key)) return\n  const value = detail.item.getAttribute('data-value')!\n  detail.value = `${detail.key}${value}`\n}\n\nfunction onchange(event: Event) {\n  const {key, provide, text} = (event as CustomEvent).detail\n  if (!isActivationKey(key)) return\n  const menu = event.target as HTMLElement\n  const url = menu.getAttribute('data-audit-url')!\n  provide(auditMenu(url, key, text))\n}\n\nfunction search(items: Element[], searchQuery: string): Element[] {\n  const query = searchQuery.toLowerCase()\n  const key = (item: Element) => {\n    const text = item.textContent!.toLowerCase().trim()\n    const score = fuzzyScore(text, query)\n    return score > 0 ? {score, text} : null\n  }\n  return query ? filterSort(items, key, compare) : items\n}\n\nconst children = memoize((el: Element) => [...el.children], {hash: (el: Element) => el.className})\n\nasync function auditMenu(url: string, key: string, query: string): Promise<{fragment?: HTMLElement; matched: boolean}> {\n  const lists = await cachedMenu(url)\n  const list = lists.querySelector<HTMLElement>(selector(key))\n  if (!list) return {matched: false}\n  const results = search(children(list), query).slice(0, 5)\n  const clone = list.cloneNode(false) as HTMLElement\n  clone.innerHTML = ''\n  for (const el of results) clone.append(el)\n  return {fragment: clone, matched: results.length > 0}\n}\n\nfunction isActivationKey(key: string): boolean {\n  return Object.getOwnPropertyNames(selectors).includes(key)\n}\n\nfunction selector(key: string): string {\n  const found = selectors[key]\n  if (!found) throw new Error(`Unknown audit log expander key: ${key}`)\n  return found\n}\n\nasync function fetchMenu(url: string): Promise<HTMLElement> {\n  const fragment = await fetchSafeDocumentFragment(document, url)\n  const root = document.createElement('div')\n  root.append(fragment)\n  return root\n}\nconst cachedMenu = memoize(fetchMenu)\n","import {compose, fromEvent} from '../../subscription'\nimport {compare} from '../../fuzzy-filter'\nimport {fetchSafeDocumentFragment} from '../../fetch'\nimport {filterSort} from '../../filter-sort'\nimport memoize from '@github/memoize'\nimport {observe} from 'selector-observer'\n\nfunction getValue(el: Element): string | undefined | null {\n  if (el.hasAttribute('data-use-colon-emoji')) {\n    return el.getAttribute('data-value')\n  }\n\n  const emojiEl = el.firstElementChild\n  if (emojiEl && 'G-EMOJI' === emojiEl.tagName && !emojiEl.firstElementChild) {\n    return emojiEl.textContent\n  } else {\n    return el.getAttribute('data-value')\n  }\n}\n\nfunction search(items: Element[], searchQuery: string): Element[] {\n  const query = ` ${searchQuery.toLowerCase().replace(/_/g, ' ')}`\n  const key = (item: Element) => {\n    const text = item.getAttribute('data-emoji-name')!\n    const score = emojiScore(emojiText(item), query)\n    return score > 0 ? {score, text} : null\n  }\n  return filterSort(items, key, compare)\n}\n\nfunction emojiText(item: Element): string {\n  const aliases = item.getAttribute('data-text')!.trim().toLowerCase().replace(/_/g, ' ')\n  return ` ${aliases}`\n}\n\nfunction emojiScore(aliases: string, query: string): number {\n  const score = aliases.indexOf(query)\n  return score > -1 ? 1000 - score : 0\n}\n\nobserve('text-expander[data-emoji-url]', {\n  subscribe: el =>\n    compose(fromEvent(el, 'text-expander-change', onchange), fromEvent(el, 'text-expander-value', onvalue))\n})\n\nfunction onvalue(event: Event) {\n  const detail = (event as CustomEvent).detail\n  if (detail.key !== ':') return\n  detail.value = getValue(detail.item)\n}\n\nfunction onchange(event: Event) {\n  const {key, provide, text} = (event as CustomEvent).detail\n  if (key !== ':') return\n  const menu = event.target as Element\n  const url = menu.getAttribute('data-emoji-url')!\n  provide(emojiMenu(url, text))\n}\n\nasync function emojiMenu(url: string, query: string): Promise<{fragment: HTMLElement; matched: boolean}> {\n  const [list, children] = await cachedEmoji(url)\n  const results = search(children, query).slice(0, 5)\n  list.innerHTML = ''\n  for (const el of results) list.append(el)\n  return {fragment: list, matched: results.length > 0}\n}\n\nasync function fetchEmoji(url: string): Promise<[HTMLElement, Element[]]> {\n  const fragment = await fetchSafeDocumentFragment(document, url)\n  const root = fragment.firstElementChild as HTMLElement\n  return [root, [...root.children]]\n}\nconst cachedEmoji = memoize(fetchEmoji)\n","import {compare, fuzzyScore} from '../../fuzzy-filter'\nimport {compose, fromEvent} from '../../subscription'\nimport {html, render, unsafeHTML} from '@github/jtml'\n\nimport TextExpanderElement from '@github/text-expander-element'\nimport {filterSort} from '../../filter-sort'\nimport memoize from '@github/memoize'\nimport {observe} from 'selector-observer'\nimport {parseHTML} from '../../parse-html'\n\ninterface Data {\n  suggestions: SuggestionData[]\n  icons: Icons\n}\n\ninterface SuggestionData {\n  id: number\n  number: number\n  title: string\n  type: string\n}\n\ninterface Icons {\n  [key: string]: string\n}\n\nfunction asText(item: SuggestionData): string {\n  return `${item.number} ${item.title.trim().toLowerCase()}`\n}\n\nfunction search(items: SuggestionData[], query: string): SuggestionData[] {\n  if (!query) return items\n  const re = new RegExp(`\\\\b${escapeRegExp(query)}`)\n  const hashedScore = /^\\d+$/.test(query)\n    ? (text: string) => issueNumberScore(text, re)\n    : (text: string) => fuzzyScore(text, query)\n  const key = (item: SuggestionData) => {\n    const text = asText(item)\n    const score = hashedScore(text)\n    return score > 0 ? {score, text} : null\n  }\n  return filterSort(items, key, compare)\n}\n\nfunction escapeRegExp(regex: string): string {\n  return regex.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n}\n\n// Returns a score that gets higher as the query that matches a number starting\n// on a word boundary is found earlier in the string.\nfunction issueNumberScore(text: string, query: RegExp): number {\n  const score = text.search(query)\n  if (score > -1) {\n    return 1000 - score\n  } else {\n    return 0\n  }\n}\n\nfunction renderResults(issues: SuggestionData[], container: HTMLElement, icons: Icons): void {\n  const itemsTemplate = (items: SuggestionData[]) => html`\n    <ul role=\"listbox\" class=\"suggester-container suggester suggestions list-style-none position-absolute\">\n      ${items.map(itemTemplate)}\n    </ul>\n  `\n\n  const itemTemplate = (item: SuggestionData) => {\n    const icon = item.type in icons ? parseHTML(document, icons[item.type]) : ''\n    return html`\n      <li class=\"markdown-title\" role=\"option\" id=\"suggester-issue-${item.id}\" data-value=\"${item.number}\">\n        <span class=\"d-inline-block mr-1\">${icon}</span>\n        <small>#${item.number}</small> ${// eslint-disable-next-line no-restricted-syntax\n        unsafeHTML(item.title)}\n      </li>\n    `\n  }\n\n  render(itemsTemplate(issues), container)\n}\n\nobserve('text-expander[data-issue-url]', {\n  subscribe: el => {\n    const subscriptions = [\n      fromEvent(el, 'text-expander-change', onchange),\n      fromEvent(el, 'text-expander-value', onvalue),\n      fromEvent(el, 'keydown', onkeydown),\n      fromEvent(el, 'click', onclick)\n    ]\n\n    return compose(...subscriptions)\n  }\n})\n\nfunction onvalue(event: Event) {\n  const detail = (event as CustomEvent).detail\n  if (detail.key !== '#') return\n  const value = detail.item.getAttribute('data-value')!\n  detail.value = `#${value}`\n}\n\nfunction onchange(event: Event) {\n  const {key, provide, text} = (event as CustomEvent).detail\n  if (key !== '#') return\n  if (text === '#') {\n    hideSuggestions(event.target)\n    return\n  }\n\n  const menu = event.target as Element\n  const url = menu.getAttribute('data-issue-url')!\n  provide(issueMenu(url, text))\n}\n\nfunction hideSuggestions(target: EventTarget | null) {\n  if (!target) return\n\n  const textExpander = (target as HTMLElement).closest('text-expander') as TextExpanderElement\n  if (textExpander) {\n    textExpander.dismiss()\n  }\n}\n\nfunction onclick(event: Event) {\n  hideSuggestions(event.target)\n}\n\nfunction onkeydown(event: Event) {\n  const specialKeys = ['ArrowRight', 'ArrowLeft']\n  const {key} = event as KeyboardEvent\n  if (specialKeys.indexOf(key) < 0) return\n\n  hideSuggestions(event.target)\n}\n\nasync function issueMenu(url: string, query: string): Promise<{fragment: HTMLElement; matched: boolean}> {\n  const data: Data = await cachedJSON(url)\n  const list = document.createElement('div')\n  const results = search(data.suggestions, query).slice(0, 5)\n  renderResults(results, list, data.icons)\n  const root = list.firstElementChild as HTMLElement\n  return {fragment: root, matched: results.length > 0}\n}\n\nconst cachedJSON = memoize(async function <T>(url: RequestInfo): Promise<T> {\n  const response = await self.fetch(url, {\n    headers: {\n      'X-Requested-With': 'XMLHttpRequest',\n      Accept: 'application/json'\n    }\n  })\n  if (!response.ok) {\n    const responseError = new Error()\n    const statusText = response.statusText ? ` ${response.statusText}` : ''\n    responseError.message = `HTTP ${response.status}${statusText}`\n    throw responseError\n  }\n  return response.json()\n})\n","import {compose, fromEvent} from '../../subscription'\nimport {html, render} from '@github/jtml'\nimport {compare} from '../../fuzzy-filter'\nimport {filterSort} from '../../filter-sort'\nimport memoize from '@github/memoize'\nimport {observe} from 'selector-observer'\n\ninterface UserData {\n  login: string\n  type: string\n  id: string\n  name: string\n  description: string\n}\n\nfunction asText(item: UserData): string {\n  return item.description\n    ? `${item.name} ${item.description}`.trim().toLowerCase() // team\n    : `${item.login} ${item.name}`.trim().toLowerCase() // user\n}\n\nfunction search(items: UserData[], query: string): UserData[] {\n  if (!query) return items\n  const scorer = fuzzyScorer(query)\n  const key = (item: UserData) => {\n    const text = asText(item)\n    const score = scorer(text)\n    return score > 0 ? {score, text} : null\n  }\n  return filterSort(items, key, compare)\n}\n\nfunction renderResults(usersAndTeams: UserData[], container: HTMLElement): void {\n  const itemsTemplate = (items: UserData[]) => html`\n    <ul role=\"listbox\" class=\"suggester-container suggester suggestions list-style-none position-absolute\">\n      ${items.map(itemTemplate)}\n    </ul>\n  `\n\n  const itemTemplate = (item: UserData) => {\n    const name = item.type === 'user' ? item.login : item.name\n    const desc = item.type === 'user' ? item.name : item.description\n    return html`\n      <li role=\"option\" id=\"suggester-${item.id}-${item.type}-${name}\" data-value=\"${name}\">\n        <span>${name}</span>\n        <small>${desc}</small>\n      </li>\n    `\n  }\n\n  render(itemsTemplate(usersAndTeams), container)\n}\n\nfunction fuzzyScorer(query: string): (text: string) => number {\n  if (!query) return () => 2.0\n  const queryChars = query.toLowerCase().split('')\n  return (text: string): number => {\n    if (!text) return 0.0\n    const match = shortestMatch(text, queryChars)\n    if (!match) return 0.0\n    const value = query.length / (match[1] as number)\n    return value / ((match[0] as number) / 2 + 1)\n  }\n}\n\n// Get the shortest match (least distance between start and end index) for all\n// the query characters in the given text.\n//\n// Returns an array in format [firstIndex, matchLength, [matchIndexes]]\nfunction shortestMatch(text: string, queryChars: string[]): Array<number | number[]> | null {\n  let indexes\n  let j\n  let len\n  let match\n  const starts = allIndexesOf(text, queryChars[0])\n  if (starts.length === 0) {\n    return null\n  }\n  if (queryChars.length === 1) {\n    return [starts[0], 1, []]\n  }\n  match = null\n  for (j = 0, len = starts.length; j < len; j++) {\n    const start = starts[j]\n    if (!(indexes = indexesOfChars(text, queryChars, start + 1))) {\n      continue\n    }\n    const length = indexes[indexes.length - 1] - start\n    if (!match || length < match[1]) {\n      match = [start, length, indexes]\n    }\n  }\n  return match\n}\n\n// Find all indexes of character inside a string.\nfunction allIndexesOf(string: string, char: string) {\n  let index = 0\n  const results1 = []\n  while ((index = string.indexOf(char, index)) > -1) {\n    results1.push(index++)\n  }\n  return results1\n}\n\n// Find all indexes of characters of query string in order.\nfunction indexesOfChars(string: string, chars: string[], startingIndex: number): number[] | undefined {\n  let index = startingIndex\n  const indexes = []\n  for (let i = 1; i < chars.length; i += 1) {\n    index = string.indexOf(chars[i], index)\n    if (index === -1) return\n    indexes.push(index++)\n  }\n  return indexes\n}\n\nobserve('text-expander[data-mention-url]', {\n  subscribe: el =>\n    compose(fromEvent(el, 'text-expander-change', onchange), fromEvent(el, 'text-expander-value', onvalue))\n})\n\nfunction onvalue(event: Event) {\n  const detail = (event as CustomEvent).detail\n  if (detail.key !== '@') return\n  const login = detail.item.getAttribute('data-value')!\n  detail.value = `@${login}`\n}\n\nfunction onchange(event: Event) {\n  const {key, provide, text} = (event as CustomEvent).detail\n  if (key !== '@') return\n  // do not allow multi-word mentions\n  if (text?.split(' ').length > 1) return\n  const menu = event.target as Element\n  const url = menu.getAttribute('data-mention-url')!\n  provide(mentionMenu(url, text))\n}\n\nasync function mentionMenu(url: string, query: string): Promise<{fragment: HTMLElement; matched: boolean}> {\n  const data: UserData[] = await cachedJSON(url)\n  const list = document.createElement('div')\n  const results = search(data, query).slice(0, 5)\n  renderResults(results, list)\n  const root = list.firstElementChild as HTMLElement\n  return {fragment: root, matched: results.length > 0}\n}\n\nconst cachedJSON = memoize(async function <T>(url: RequestInfo): Promise<T> {\n  const response = await self.fetch(url, {\n    headers: {\n      'X-Requested-With': 'XMLHttpRequest',\n      Accept: 'application/json'\n    }\n  })\n  if (!response.ok) {\n    const responseError = new Error()\n    const statusText = response.statusText ? ` ${response.statusText}` : ''\n    responseError.message = `HTTP ${response.status}${statusText}`\n    throw responseError\n  }\n  return response.json()\n})\n","import {compare, fuzzyScore} from '../../fuzzy-filter'\nimport {compose, fromEvent} from '../../subscription'\nimport {fire, on} from 'delegated-events'\nimport {persistResumableFields, restoreResumableFields} from '@github/session-resume'\nimport SlashCommandExpanderElement from '../../slash-command-expander-element'\nimport {fetchSafeDocumentFragment} from '../../fetch'\nimport {filterSort} from '../../filter-sort'\nimport {getPageID} from '../../session-resume-helpers'\nimport memoize from '@github/memoize'\nimport {observe} from 'selector-observer'\n\nconst SLASH_COMMAND_STRING_BEGINNING = '/'\n\nfunction search(items: Element[], searchQuery: string): Element[] {\n  const query = searchQuery.toLowerCase().trim()\n  const key = (item: Element) => {\n    const text = (item.getAttribute('data-text') || '').trim().toLowerCase()\n    const score = fuzzyScore(text, query)\n    return score > 0 ? {score, text} : null\n  }\n\n  if (query) {\n    return filterSort(items, key, compare)\n  } else {\n    return items\n  }\n}\n\nobserve('slash-command-expander[data-slash-command-url]', {\n  subscribe: el =>\n    compose(fromEvent(el, 'text-expander-change', onChange), fromEvent(el, 'text-expander-value', onValue))\n})\n\n// Trigger the menu from the markdown toolbar button\non('click', '.js-slash-command-toolbar-button', async event => {\n  if (!(event.target instanceof Element)) return\n\n  const container = event.target.closest<HTMLElement>('.js-previewable-comment-form')\n  if (!container) return\n\n  const textarea = container.querySelector<HTMLTextAreaElement>('textarea.js-comment-field')\n  if (!textarea) return\n\n  // similar to the `insertText` utility behavior, but with different cursor positioning\n  const text = SLASH_COMMAND_STRING_BEGINNING\n  const point = textarea.selectionEnd || 0\n  const beginning = textarea.value.substring(0, point)\n  const remaining = textarea.value.substring(point)\n  const space = textarea.value === '' || beginning.match(/\\s$/) ? '' : ' '\n  const cursorPosition = point + text.length + 1 // place cursor after the slash\n\n  textarea.value = beginning + space + text + remaining\n  textarea.selectionStart = cursorPosition\n  textarea.selectionEnd = cursorPosition\n  textarea.focus()\n\n  fire(textarea, 'input')\n})\n\nasync function onValue(event: Event) {\n  const detail = (event as CustomEvent).detail\n  const {key, item}: {key: string; item: HTMLElement} = detail\n  if (key !== SLASH_COMMAND_STRING_BEGINNING) return\n\n  const url = item.getAttribute('data-url')\n  if (!url) return\n\n  // find form to hide\n  const currentTarget = event.currentTarget as SlashCommandExpanderElement\n\n  // Leaving this here so that a linter doesn't complain\n  const form = item.querySelector<HTMLFormElement>('.js-slash-command-suggestion-form')\n  if (!form) return\n\n  const token = form.querySelector<HTMLInputElement>('.js-data-url-csrf')\n  if (!token) return\n\n  const formData = new FormData(form)\n  currentTarget.isLoading()\n\n  try {\n    const response = await fetchSafeDocumentFragment(document, url, {\n      method: 'PATCH',\n      body: formData,\n      headers: {\n        Accept: 'text/html',\n        'Scoped-CSRF-Token': token.value\n      }\n    })\n\n    if (!response) return\n    handleResponse(currentTarget, response)\n  } catch {\n    currentTarget.showError()\n  }\n}\n\nfunction handleResponse(expander: SlashCommandExpanderElement, response: DocumentFragment) {\n  const component = response.firstElementChild\n  if (!component) return\n\n  if (response.children.length > 1) {\n    showFooter(response.lastElementChild as HTMLElement, expander)\n  }\n\n  if (component.hasAttribute('data-reload-suggestions')) {\n    // re-fetch the commands if the resource state has changed\n    cachedCommands = memoize(fetchSlashCommands)\n  }\n\n  const responseType = component.getAttribute('data-component-type')\n  if (responseType === 'fill') {\n    // if the content contains html tags, we'll use innerHTML\n    if (/<\\/?[a-z][\\s\\S]*>/i.test(component.innerHTML)) {\n      expander.setValue(component.innerHTML.trim())\n    } else {\n      // otherwise we'll use textContent so we aren't inserting unnecessary HTML entity characters\n      expander.setValue(component.textContent?.trim() || '')\n    }\n  } else if (responseType === 'menu' || responseType === 'error') {\n    expander.setMenu(component.querySelector('.js-slash-command-menu') as HTMLElement)\n  } else if (responseType === 'action') {\n    expander.closeMenu()\n  } else if (responseType === 'embedded_form') {\n    handleEmbeddedForm(expander, component)\n  } else if (responseType === 'dialog_form') {\n    handleDialogForm(expander, component)\n  } else if (responseType === 'modal_form') {\n    handleModalForm(expander, component)\n  }\n\n  restoreResumableFields(getPageID())\n}\n\nfunction submitOnCommandEnter(event: KeyboardEvent) {\n  if (!(event.metaKey && event.key === 'Enter')) return\n\n  event.preventDefault()\n  event.stopPropagation()\n\n  const input = event.target as HTMLInputElement | null\n  const form = input?.form as HTMLFormElement | null\n\n  if (!form) return\n\n  if (form.requestSubmit) {\n    form.requestSubmit()\n  } else {\n    // Handle browsers that don't support support `requestSubmit`, like Safari.\n    // This relies on the presence of a submit button. If absent, Cmd-Enter won't do anything.\n    const submitButton = form.querySelector(\"[type='submit']\") as HTMLElement\n    submitButton?.click()\n  }\n}\n\nfunction getFormContents(form: HTMLFormElement) {\n  const formData = new FormData(form)\n  let contents = ''\n\n  for (const fieldPair of formData) {\n    contents = contents + fieldPair[0]\n    contents = contents + fieldPair[1].toString()\n  }\n\n  return contents\n}\n\nfunction focusFirstFormInput(formElement: HTMLFormElement) {\n  let inputFocused = false\n  for (const element of formElement.querySelectorAll('select,input,textarea')) {\n    const input = element as HTMLInputElement\n\n    if (input.type !== 'hidden') {\n      if (!inputFocused) {\n        input.focus()\n        inputFocused = true\n      }\n\n      input.addEventListener('keydown', submitOnCommandEnter)\n    }\n  }\n}\n\nfunction hookUpCancelActionListeners(element: HTMLElement, closeForm: () => void) {\n  const closeElements = element.querySelectorAll('[data-close-dialog]')\n  for (const closeElement of closeElements) {\n    closeElement.addEventListener('click', (event: Event) => {\n      event.preventDefault()\n      persistResumableFields(getPageID(), {selector: '.js-session-resumable'})\n      closeForm()\n    })\n  }\n}\n\nfunction addDismissAlertListener(\n  formElement: HTMLFormElement,\n  elementToListenOn: HTMLElement,\n  previouslyFocused: HTMLElement,\n  closeForm: () => void\n) {\n  const originalFormContents = getFormContents(formElement)\n  elementToListenOn.addEventListener('keydown', (event: KeyboardEvent) => {\n    if (event.key === 'Escape') {\n      // eslint-disable-next-line i18n-text/no-en\n      const confirmationMessage = 'Are you sure you want to dismiss the form?'\n      const currentFormContents = getFormContents(formElement)\n      const isUnchanged = originalFormContents === currentFormContents\n\n      if (isUnchanged || confirm(confirmationMessage)) {\n        persistResumableFields(getPageID(), {selector: '.js-session-resumable'})\n        closeForm()\n\n        if (previouslyFocused) {\n          previouslyFocused.focus()\n        }\n      }\n    }\n  })\n}\n\nfunction addSubmitButtonListener(\n  formElement: HTMLFormElement,\n  expander: SlashCommandExpanderElement,\n  closeForm: () => void\n) {\n  formElement.addEventListener('submit', async (event: Event) => {\n    event.preventDefault()\n    const form = event.target as HTMLFormElement\n    const token = form.querySelector<HTMLInputElement>('.js-data-url-csrf')\n    if (!token) return\n\n    const url = form.getAttribute('action')\n    if (!url) return\n\n    reenableParentFormButtons(expander)\n\n    const formData = new FormData(form)\n    const response = await fetchSafeDocumentFragment(document, url, {\n      method: 'PATCH',\n      body: formData,\n      headers: {\n        Accept: 'text/html',\n        'Scoped-CSRF-Token': token.value\n      }\n    })\n    closeForm()\n    if (!response) return\n    handleResponse(expander, response)\n  })\n}\n\n/*\n  When a slash command form is \"submitted\", the parent form's buttons can become\n  inadvertently disabled if they have a `data-disable-with` attribute, due to the\n  behavior defined in the `disable-with` module, which binds its event listeners ahead\n  of slash commands and cannot be prevented using stopPropagation.\n\n  Therefore, the parent form's buttons will need to be manually re-enabled\n  when the nested slash command form has been submitted.\n*/\nfunction reenableParentFormButtons(expander: SlashCommandExpanderElement) {\n  const siblingSurface = expander.closest('.js-slash-command-surface') as HTMLElement\n  const formSurface = expander.closest('form') as HTMLElement\n  const surface = siblingSurface || formSurface\n\n  if (surface) {\n    for (const button of surface.querySelectorAll('[data-disable-with][disabled]')) {\n      ;(button as HTMLInputElement | HTMLButtonElement).disabled = false\n    }\n  }\n}\n\nfunction handleDialogForm(expander: SlashCommandExpanderElement, component: Element) {\n  const menu = component.querySelector('.js-slash-command-menu') as HTMLElement\n  expander.setMenu(menu, true)\n\n  const componentForm = menu.querySelector('form') as HTMLFormElement\n  const previouslyFocused = document.activeElement as HTMLElement\n\n  focusFirstFormInput(componentForm)\n\n  const closeForm = () => {\n    expander.closeMenu()\n  }\n\n  addDismissAlertListener(componentForm, componentForm, previouslyFocused, closeForm)\n\n  hookUpCancelActionListeners(componentForm, closeForm)\n\n  addSubmitButtonListener(componentForm, expander, closeForm)\n}\n\nfunction handleModalForm(expander: SlashCommandExpanderElement, component: Element) {\n  const surfaceForm = expander.closest('form')\n\n  if (!surfaceForm) return\n\n  const commandFormContainer = component.querySelector('[data-component=\"form\"]') as HTMLFormElement\n  surfaceForm.insertAdjacentElement('afterend', commandFormContainer)\n\n  const previouslyFocused = document.activeElement as HTMLElement\n\n  focusFirstFormInput(commandFormContainer)\n\n  const closeForm = () => {\n    surfaceForm.hidden = false\n    commandFormContainer.remove()\n  }\n\n  hookUpCancelActionListeners(commandFormContainer, closeForm)\n\n  const commandForm = commandFormContainer.getElementsByTagName('form')[0]\n  addDismissAlertListener(commandForm, commandFormContainer, previouslyFocused, closeForm)\n\n  addSubmitButtonListener(commandFormContainer, expander, closeForm)\n}\n\nfunction handleEmbeddedForm(expander: SlashCommandExpanderElement, component: Element) {\n  const siblingSurface = expander.closest('.js-slash-command-surface') as HTMLElement\n  const formSurface = expander.closest('form') as HTMLElement\n  const surface = siblingSurface || formSurface\n\n  if (!surface) return\n  surface.hidden = true\n\n  const commandFormContainer = component.querySelector('[data-component=\"form\"]') as HTMLFormElement\n  surface.insertAdjacentElement('afterend', commandFormContainer)\n\n  const previouslyFocused = document.activeElement as HTMLElement\n\n  focusFirstFormInput(commandFormContainer)\n\n  const closeForm = () => {\n    surface.hidden = false\n    commandFormContainer.remove()\n  }\n\n  hookUpCancelActionListeners(commandFormContainer, closeForm)\n\n  const commandForm = commandFormContainer.getElementsByTagName('form')[0]\n  addDismissAlertListener(commandForm, commandFormContainer, previouslyFocused, closeForm)\n\n  addSubmitButtonListener(commandFormContainer, expander, closeForm)\n}\n\nconst durationToDisplayNotice = 5000\nfunction showFooter(footer: HTMLElement, slashCommandExpander: SlashCommandExpanderElement) {\n  const commentArea = slashCommandExpander.parentElement?.parentElement\n  if (!commentArea) return\n\n  const defaultFooter = commentArea.querySelector('.drag-and-drop .default') as HTMLElement\n\n  let previousDefaultFooterHidden = false\n  if (defaultFooter) {\n    previousDefaultFooterHidden = defaultFooter.hidden\n    defaultFooter.hidden = true\n  }\n\n  defaultFooter?.parentElement?.prepend(footer)\n\n  setTimeout(() => {\n    if (defaultFooter) {\n      defaultFooter.hidden = previousDefaultFooterHidden\n    }\n    footer.remove()\n  }, durationToDisplayNotice)\n}\n\nfunction onChange(event: Event) {\n  const {key, provide, text} = (event as CustomEvent).detail\n  if (key !== SLASH_COMMAND_STRING_BEGINNING) return\n  const menu = event.target as SlashCommandExpanderElement\n  menu.isLoading()\n  const url = menu.getAttribute('data-slash-command-url')!\n  provide(slashCommandMenu(url, text, menu))\n}\n\nasync function slashCommandMenu(\n  url: string,\n  query: string,\n  target: SlashCommandExpanderElement\n): Promise<{fragment: HTMLElement; matched: boolean}> {\n  try {\n    const [root, children] = await cachedCommands(url)\n    const list = root.querySelector('.js-slash-command-menu-items') as HTMLElement\n    const results = search(children, query)\n\n    if (list) {\n      list.innerHTML = ''\n\n      // we loop over `children` to ensure that the group sort order is maintained\n      // and so that we can include the relevant group headers for any search results\n      for (const el of children) {\n        if (el.classList.contains('js-group-divider')) {\n          // if it's a divider row, only append it if there are results for this group\n          const groupId = el.getAttribute('data-group-id')\n          const groupResults = results.filter(r => r.getAttribute('data-group-id') === groupId)\n\n          if (groupResults.length > 0) {\n            list.append(el)\n          }\n        } else if (results.includes(el)) {\n          // append the element if it is contained in the results\n          list.append(el)\n        }\n      }\n    }\n\n    return {fragment: root, matched: results.length > 0}\n  } catch (error) {\n    target.showError()\n    throw new Error(error)\n  }\n}\n\nasync function fetchSlashCommands(url: string): Promise<[HTMLElement, Element[]]> {\n  const fragment = await fetchSafeDocumentFragment(document, url)\n  const root = fragment.firstElementChild as HTMLElement\n  const children = root.querySelectorAll('.js-slash-command-menu-items li')\n  return [root, [...children]]\n}\nlet cachedCommands = memoize(fetchSlashCommands)\n","import {fire, on} from 'delegated-events'\nimport {fetchSafeDocumentFragment} from '../fetch'\nimport {insertText} from '../text'\nimport {onInput} from '../onfocus'\n\non('click', '.js-dismiss-sparkle-onboarding-notice-button', async function () {\n  const onboardingPopover = document.querySelector<HTMLElement>('.js-dismiss-sparkle-onboarding-notice')\n  if (!onboardingPopover) return\n  const detailsContainer = onboardingPopover.parentElement\n  if (!(detailsContainer instanceof HTMLDetailsElement)) return\n  detailsContainer.open = false\n})\n\nfunction insertCommand(container: HTMLElement, command: string): void {\n  const commentTextArea = container.querySelector<HTMLTextAreaElement>('textarea.js-comment-field')\n  if (!commentTextArea) return\n  insertText(commentTextArea, command)\n  commentTextArea.focus()\n\n  fire(commentTextArea, 'input')\n}\n\nasync function loadSparkleOnboardingPopover(templateUrl: string, container: HTMLElement): Promise<void> {\n  let sparkleOnboardingFragment\n  try {\n    sparkleOnboardingFragment = await fetchSafeDocumentFragment(document, templateUrl)\n  } catch (error) {\n    return\n  }\n  container.appendChild(sparkleOnboardingFragment)\n}\n\nlet fetchingSparkleCount = false\nlet remainingSparkleContainer: HTMLElement | null\n\nconst loadAndDisplayRemainingSparkleCount = async (url: string) => {\n  const container = document.querySelector<HTMLElement>('.js-sparkles-remaining-container')\n  if (!container) return null\n\n  if (remainingSparkleContainer) {\n    remainingSparkleContainer.hidden = false\n    return\n  }\n\n  if (fetchingSparkleCount) return null\n\n  fetchingSparkleCount = true\n  const fragment = await fetchSafeDocumentFragment(document, url)\n  const newContainer = fragment.querySelector('.js-sparkles-remaining-container')\n  if (!(newContainer instanceof HTMLElement)) return null\n  container.replaceWith(newContainer)\n  newContainer.hidden = false\n\n  remainingSparkleContainer = newContainer\n}\n\non('click', '.js-sparkle-button', async function (event) {\n  if (!(event.target instanceof Element)) return\n  const command = event.currentTarget.getAttribute('data-sparkle-command')\n  if (!command) return\n  const previewableCommentContainer = event.target.closest<HTMLElement>('.js-previewable-comment-form')\n  if (!previewableCommentContainer) return\n  insertCommand(previewableCommentContainer, command)\n  const sparkleButton = event.currentTarget\n  if (!sparkleButton.hasAttribute('data-url')) return\n  const templateUrl = event.currentTarget.getAttribute('data-url')\n  if (!templateUrl) return\n  const detailsContainer = event.currentTarget.parentElement\n  if (detailsContainer) loadSparkleOnboardingPopover(templateUrl, detailsContainer)\n})\n\nonInput('[data-sparkles-enabled] .js-comment-field', async function (event) {\n  const textarea = event.target as HTMLTextAreaElement\n  const parentForm = textarea.form!\n  const sparkleMetadata = document.querySelector<HTMLElement>('.js-sparkle-metadata')\n  if (!sparkleMetadata) return\n  const sparkleKeyword = sparkleMetadata.getAttribute('data-keyword')!\n  const sparkleUrl = sparkleMetadata.getAttribute('data-count-url')!\n  const buttonSparkleEmoji = parentForm.querySelector<HTMLElement>('.js-button-sparkle-emoji')!\n  const sparkleRegex = new RegExp(`^/${sparkleKeyword}`)\n  const isSparkle = sparkleRegex.exec(textarea.value)\n  if (isSparkle) {\n    loadAndDisplayRemainingSparkleCount(sparkleUrl)\n    buttonSparkleEmoji.hidden = false\n  } else if (remainingSparkleContainer) {\n    remainingSparkleContainer.hidden = true\n    buttonSparkleEmoji.hidden = true\n  }\n})\n\non('comment:success', 'form', function () {\n  if (!remainingSparkleContainer) return\n  remainingSparkleContainer.hidden = true\n\n  fetchingSparkleCount = false\n  remainingSparkleContainer = null\n})\n","import {fire, on} from 'delegated-events'\n\n// Handle \"Other\" text input for the early access survey.\n//\n// field - The field.\n// isOther - If true then the \"Other\" input will be set to required, and focussed.\nfunction handleOther(field: Element, isOther: boolean) {\n  const question = field.closest<HTMLElement>('.js-survey-question-form')!\n  const otherInput = question.querySelector<HTMLInputElement>('input.js-survey-other-text')!\n  const isOtherSelected = isOther && !question.classList.contains('is-other-selected')\n\n  question.classList.toggle('is-other-selected', isOtherSelected)\n  otherInput.hidden = !isOther\n  if (isOtherSelected) {\n    otherInput.required = true\n    otherInput.focus()\n  } else {\n    otherInput.required = false\n  }\n  fire(otherInput, 'change')\n}\n\non('change', 'input.js-survey-radio', function ({currentTarget}) {\n  handleOther(currentTarget, currentTarget.classList.contains('js-survey-radio-other'))\n})\n\non('change', 'input.js-survey-checkbox-other', function ({currentTarget}) {\n  handleOther(currentTarget, true)\n})\n\non('change', 'input.js-survey-contact-checkbox', function (event: Event) {\n  const currentTarget = event.currentTarget as HTMLInputElement\n  const question = currentTarget.closest<HTMLElement>('.js-survey-question-form')!\n  const hiddenInput = question.querySelector<HTMLElement>('.js-survey-contact-checkbox-hidden')!\n  if (currentTarget.checked) {\n    hiddenInput.setAttribute('disabled', 'true')\n  } else {\n    hiddenInput.removeAttribute('disabled')\n  }\n})\n","import {on} from 'delegated-events'\n\non(\n  'details-menu-selected',\n  '.js-sync-select-menu-text',\n  function (event) {\n    const button = document.querySelector<HTMLElement>('.js-sync-select-menu-button')!\n    const text = (event.detail.relatedTarget as Element).querySelector<HTMLElement>('span[data-menu-button-text]')!\n      .textContent\n    button.textContent = text\n    button.focus()\n  },\n  {capture: true}\n)\n","import {on} from 'delegated-events'\n\non('click', 'tab-container [role=\"tab\"]', function (event) {\n  const {currentTarget} = event\n\n  const menu = currentTarget.closest<HTMLElement>('tab-container')!\n  const filter = menu.querySelector('.js-filterable-field, [data-filter-placeholder-input]')\n  if (filter instanceof HTMLInputElement) {\n    const placeholder = currentTarget.getAttribute('data-filter-placeholder')\n    if (placeholder) {\n      filter.setAttribute('placeholder', placeholder)\n    }\n    filter.focus()\n  }\n})\n\non('tab-container-changed', 'tab-container', function (event) {\n  const panel = event.detail.relatedTarget\n  const url = panel.getAttribute('data-fragment-url')\n  const includeFragment = panel.querySelector('include-fragment')\n  if (url && includeFragment && !includeFragment.hasAttribute('src')) {\n    includeFragment.src = url\n  }\n})\n","// Populate a form input from a suggested list of tags.\n//\n// Markup example:\n//\n//    <!-- Tag input container -->\n//    <div class=\"tag-input-container js-tag-input-container\">\n//\n//      <!-- Tag <input> wrapper -->\n//      <div class=\"tag-input js-tag-input-wrapper\">\n//\n//        <!-- List of selected tags -->\n//        <ul class=\"js-tag-input-selected-tags\">\n//\n//          <!-- Template used to generate new selected tags -->\n//          <li class=\"js-tag-input-tag js-template d-none\">\n//            <span class=\"js-placeholder-tag-name\"></span>\n//            <a class=\"remove js-remove\" tabindex=\"-1\">&times;</a>\n//            <input type=\"hidden\" name=\"attribute[]\" value=\"tag-value\">\n//          </li>\n//\n//          <!-- List of pre-selected tags (optional) -->\n//          <li class=\"js-tag-input-tag\">\n//            <span class=\"js-tag-input-tag-name\">ruby-on-rails</span>\n//            <a class=\"remove js-remove\" tabindex=\"-1\">&times;</a>\n//            <input type=\"hidden\" name=\"attribute[]\" value=\"ruby-on-rails\">\n//          </li>\n//        </ul>\n//\n//        <auto-complete src=\"<%= url %>\" for=\"popup\">\n//          <input type=\"text\" class=\"tag-input-inner\" autocomplete=\"off\" autofocus>\n//          <div class=\"js-navigation-container js-active-navigation-container\">\n//            <ul class=\"suggester\" id=\"popup\"></ul>\n//          </div>\n//        </auto-complete>\n//      </div>\n//    </div>\n//\n\nimport AutocompleteElement from '@github/auto-complete-element'\nimport {eventToHotkeyString} from '@github/hotkey'\nimport {fire} from 'delegated-events'\nimport {observe} from 'selector-observer'\n\ninterface TagInputOptions {\n  container: HTMLElement\n  selections: HTMLElement\n  inputWrap: HTMLElement\n  input: HTMLInputElement\n  tagTemplate: HTMLElement\n  autoComplete: AutocompleteElement\n}\n\nclass TagInput {\n  container: HTMLElement\n  selections: HTMLElement\n  inputWrap: HTMLElement\n  input: HTMLInputElement\n  form: HTMLFormElement\n  tagTemplate: HTMLElement\n  autoComplete: AutocompleteElement\n\n  constructor(options: TagInputOptions) {\n    this.container = options.container\n    this.selections = options.selections\n    this.inputWrap = options.inputWrap\n    this.input = options.input\n    this.tagTemplate = options.tagTemplate\n    this.form = this.input.form!\n    this.autoComplete = options.autoComplete\n  }\n\n  // Bind a tag input to the DOM.\n  setup() {\n    this.container.addEventListener('click', (event: MouseEvent) => {\n      const target = event.target as Element\n      if (target.closest('.js-remove')) {\n        this.removeTag(event)\n      } else {\n        this.onFocus()\n      }\n    })\n    this.input.addEventListener('focus', this.onFocus.bind(this))\n    this.input.addEventListener('blur', this.onBlur.bind(this))\n    this.input.addEventListener('keydown', this.onKeyDown.bind(this))\n    this.form.addEventListener('submit', this.onSubmit.bind(this))\n\n    this.autoComplete.addEventListener('auto-complete-change', () => {\n      this.selectTag(this.autoComplete.value)\n    })\n  }\n\n  // Make the tag input container look like a focused input.\n  onFocus() {\n    this.inputWrap.classList.add('focus')\n    if (this.input !== document.activeElement) this.input.focus()\n  }\n\n  // Make the tag input container *not* look like a focused input. Also submit\n  // the form if there is text in the input and the suggester is hidden.\n  onBlur() {\n    this.inputWrap.classList.remove('focus')\n    if (!this.autoComplete.open) {\n      this.onSubmit()\n    }\n  }\n\n  // Taggify the last thing the user typed in case they didn't hit Enter, Tab,\n  // or a comma before clicking the form's submit button.\n  onSubmit() {\n    if (this.input.value) {\n      this.selectTag(this.input.value)\n      this.autoComplete.open = false\n    }\n  }\n\n  onKeyDown(event: KeyboardEvent) {\n    switch (eventToHotkeyString(event)) {\n      case 'Backspace':\n        this.onBackspace()\n        break\n      case 'Enter':\n      case 'Tab':\n        this.taggifyValueWhenSuggesterHidden(event)\n        break\n      case ',':\n      case ' ': // (Space)\n        this.taggifyValue(event)\n        break\n    }\n  }\n\n  // Taggifies the entered value when the suggester is not visible. Called after an Enter\n  // or Tab is entered.\n  taggifyValueWhenSuggesterHidden(event: Event) {\n    if (!this.autoComplete.open && this.input.value) {\n      event.preventDefault()\n      this.selectTag(this.input.value)\n    }\n  }\n\n  // Taggifies the entered value if it exists; called after a comma or space is entered.\n  taggifyValue(event: Event) {\n    if (this.input.value) {\n      event.preventDefault()\n      this.selectTag(this.input.value)\n      this.autoComplete.open = false\n    }\n  }\n\n  // Add a new tag to the list of selections if it has not already been added.\n  selectTag(text: string) {\n    const tag = this.normalizeTag(text)\n    const selections = this.selectedTags()\n\n    if (tag && selections.indexOf(tag) < 0) {\n      this.selections.appendChild(this.templateTag(tag))\n      this.input.value = ''\n      fire(this.form, 'tags:changed')\n    }\n  }\n\n  // Remove a tag from the list of selections.\n  removeTag(event: Event) {\n    const target = event.target as Element\n    event.preventDefault()\n    const inputTag = target.closest<HTMLElement>('.js-tag-input-tag')!\n    inputTag.remove()\n    fire(this.form, 'tags:changed')\n  }\n\n  // Generate a new tag Node.\n  templateTag(tag: string): Element {\n    const el = this.tagTemplate.cloneNode(true) as Element\n\n    el.querySelector<HTMLInputElement>('input')!.value = tag\n    const tagName = el.querySelector<HTMLElement>('.js-placeholder-tag-name')!\n    tagName.replaceWith(tag)\n    /* eslint-disable-next-line github/no-d-none */\n    el.classList.remove('d-none', 'js-template')\n\n    return el\n  }\n\n  // Sanitize user input to remove invalid tag characters.\n  normalizeTag(text: string): string {\n    return text\n      .toLowerCase()\n      .trim()\n      .replace(/[\\s,']+/g, '-')\n  }\n\n  // Remove a tag on backspace if the input is empty.\n  onBackspace() {\n    if (!this.input.value) {\n      const lastSelection = this.selections.querySelector('li:last-child .js-remove')\n      if (lastSelection instanceof HTMLElement) lastSelection.click()\n    }\n  }\n\n  // Map matched input content to a suggester query.\n  selectedTags(): string[] {\n    const inputs = this.selections.querySelectorAll<HTMLInputElement>('input')\n    return Array.from(inputs)\n      .map(el => el.value)\n      .filter(value => value.length > 0)\n  }\n}\n\nobserve('.js-tag-input-container', {\n  constructor: HTMLElement,\n  initialize(el) {\n    new TagInput({\n      container: el,\n      inputWrap: el.querySelector<HTMLElement>('.js-tag-input-wrapper')!,\n      input: el.querySelector<HTMLInputElement>('input[type=\"text\"], input:not([type])')!,\n      selections: el.querySelector<HTMLElement>('.js-tag-input-selected-tags')!,\n      tagTemplate: el.querySelector<HTMLElement>('.js-template')!,\n      autoComplete: el.querySelector<AutocompleteElement>('auto-complete')!\n    }).setup()\n  }\n})\n","import {observe} from 'selector-observer'\n\n// Load team members to display in the mention's tooltip from the server on hover.\nasync function members(event: Event) {\n  const target = event.currentTarget as HTMLElement\n  if (teamHovercardEnabled(target)) {\n    target.classList.remove('tooltipped')\n    return\n  }\n  const url = target.getAttribute('data-url')\n  if (!url) return\n\n  const response = await fetch(url, {headers: {Accept: 'application/json'}})\n  if (!response.ok) return\n  const data = (await response.json()) as {total: number; members: string[]}\n\n  const id = target.getAttribute('data-id')!\n  const mentions = document.querySelectorAll(`.js-team-mention[data-id='${id}']`)\n  for (const el of mentions) {\n    el.removeAttribute('data-url')\n  }\n\n  try {\n    if (data.total === 0) {\n      // eslint-disable-next-line i18n-text/no-en\n      data.members.push('This team has no members')\n    } else if (data.total > data.members.length) {\n      data.members.push(`${data.total - data.members.length} more`)\n    }\n    tip(mentions, sentence(data.members))\n  } catch (error) {\n    const status = error.response ? error.response.status : 500\n    const message = target.getAttribute(status === 404 ? 'data-permission-text' : 'data-error-text')!\n    tip(mentions, message)\n  }\n}\n\n// Add a tooltip to the elements. Adds the text just before the tooltip classes so\n// the tooltip appears fully formed on mouse hover.\nfunction tip(elements: NodeList, text: string): void {\n  for (const el of elements) {\n    if (!(el instanceof HTMLElement)) continue\n    el.setAttribute('aria-label', text)\n    el.classList.add('tooltipped', 'tooltipped-s', 'tooltipped-multiline')\n  }\n}\n\n// Comma separate a list of strings with `and` at the end, like\n// Rails' to_sentence.\nfunction sentence(xs: string[]): string {\n  if ('ListFormat' in Intl) {\n    const lists = new Intl.ListFormat()\n    return lists.format(xs)\n  }\n\n  if (xs.length === 0) {\n    return ''\n  } else if (xs.length === 1) {\n    return xs[0]\n  } else if (xs.length === 2) {\n    return xs.join(' and ')\n  } else {\n    const last = xs[xs.length - 1]\n    return xs.slice(0, -1).concat(`and ${last}`).join(', ')\n  }\n}\n\nfunction teamHovercardEnabled(element: HTMLElement): boolean {\n  return !!element.getAttribute('data-hovercard-url') && !!element.closest('[data-team-hovercards-enabled]')\n}\n\nobserve('.js-team-mention', function (el) {\n  el.addEventListener('mouseenter', members)\n})\n","import {preservePosition} from 'scroll-anchoring'\n\ndocument.addEventListener('keydown', (event: KeyboardEvent) => {\n  if (event.key !== 'Escape') return\n  if (event.target !== document.body) return\n\n  const element = document.querySelector('.js-targetable-element:target')\n  if (!element) return\n\n  preservePosition(element, () => {\n    // Clear the `:target` element\n    window.location.hash = ''\n    // Clear the hash part of the URL\n    window.history.replaceState(null, '', window.location.pathname + window.location.search)\n  })\n})\n\ndocument.addEventListener('click', (event: MouseEvent) => {\n  // Return early if there is no highlighted element\n  const highlightedElement = document.querySelector('.js-targetable-element:target')\n  if (!highlightedElement) return\n\n  // Don't mess with the URL if we clicked on a link\n  if (event.target instanceof HTMLAnchorElement) return\n\n  // Don't do anything if the user clicked on the already highlighted element\n  if (!(event.target instanceof HTMLElement)) return\n  if (highlightedElement.contains(event.target)) return\n\n  preservePosition(highlightedElement, () => {\n    // Clear the `:target` element\n    window.location.hash = ''\n    // Clear the hash part of the URL\n    window.history.replaceState(null, '', window.location.pathname + window.location.search)\n  })\n})\n","import {controller, target} from '@github/catalyst'\n\n@controller\nclass TextSuggesterElement extends HTMLElement {\n  @target input: HTMLInputElement\n  @target suggestionContainer: HTMLElement\n  @target suggestion: HTMLElement\n\n  acceptSuggestion() {\n    if (this.suggestion?.textContent) {\n      this.input.value = this.suggestion.textContent\n      this.input.dispatchEvent(new Event('input'))\n      if (this.suggestionContainer) this.suggestionContainer.hidden = true\n      this.input.focus()\n    }\n  }\n}\n","import {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\n\ninterface Request {\n  url: string\n  headers: Headers\n}\n\nfunction getTimelineLastModified(): string | null {\n  const marker = document.querySelector('.js-timeline-marker')\n  return marker != null ? marker.getAttribute('data-last-modified') : null\n}\n\n// Add the X-Timeline-Last-Modified header to the request based on the\n// the last modified time from the timeline marker element.\nfunction addTimelineLastModifedHeader(request: Request) {\n  if (isCrossDomain(request) || isPjax(request)) {\n    return\n  }\n\n  const lastModified = getTimelineLastModified()\n  if (lastModified) {\n    request.headers.set('X-Timeline-Last-Modified', lastModified)\n  }\n}\n\nfunction isPjax(request: Request): boolean {\n  return /[?&]_pjax=/.test(request.url)\n}\n\nfunction isCrossDomain(request: Request): boolean {\n  let requestURL\n  try {\n    // eslint-disable-next-line no-restricted-syntax\n    requestURL = new URL(request.url)\n  } catch (urlError) {\n    return true\n  }\n  return requestURL.host !== window.location.host\n}\n\nremoteForm('.js-needs-timeline-marker-header', function (form, wants, request) {\n  addTimelineLastModifedHeader(request)\n})\n\non('deprecatedAjaxSend', '[data-remote]', function (event) {\n  const {request} = event.detail\n  addTimelineLastModifedHeader(request)\n})\n","import {isDetailsTargetExpanded, toggleDetailsTarget} from '../details'\nimport {fetchSafeDocumentFragment} from '../../fetch'\nimport hashChange from '../hash-change'\nimport {observe} from 'selector-observer'\n\nhashChange(function ({target}) {\n  const anchor = urlAnchor()\n  if (anchor && !target) {\n    const loader = document.querySelector<HTMLElement>('#js-timeline-progressive-loader')\n\n    if (loader) {\n      loadElement(anchor, loader)\n    }\n  }\n})\n\nobserve('.js-timeline-progressive-focus-container', function (container) {\n  const anchor = urlAnchor()\n  if (!anchor) return\n\n  const target = document.getElementById(anchor)\n\n  if (target && container.contains(target)) {\n    focusElement(target)\n  }\n})\n\n// adds support for deep-link loading comments when the entire timeline is progressively loaded\nobserve('#js-timeline-progressive-loader', {\n  constructor: HTMLElement,\n  add: element => {\n    const anchor = urlAnchor()\n    if (!anchor) return\n\n    const target = document.getElementById(anchor)\n    if (!target) {\n      loadElement(anchor, element)\n    }\n  }\n})\n\n// adds support for deep-link loading discussion comments when the comment thread is nested\nobserve('#js-discussions-timeline-anchor-loader', {\n  constructor: HTMLElement,\n  add: element => {\n    const existingProgressiveLoader = document.querySelector('#js-timeline-progressive-loader')\n    if (existingProgressiveLoader) return\n\n    const anchor = urlAnchor()\n    if (!anchor) return\n\n    const target = document.getElementById(anchor)\n    if (!target) {\n      loadElement(anchor, element)\n    }\n  }\n})\n\nfunction focusElement(element: HTMLElement): void {\n  expandDetailsIfPresent(element)\n\n  const link = element.querySelector(`[href='#${element.id}']`)\n  if (link) (link as HTMLAnchorElement).click()\n}\n\nasync function loadElement(anchor: string, loader: HTMLElement): Promise<void> {\n  if (!loader) return\n\n  const path = loader.getAttribute('data-timeline-item-src')\n  if (!path) return\n\n  const url = new URL(path, window.location.origin)\n  const params = new URLSearchParams(url.search.slice(1))\n  params.append('anchor', anchor)\n  url.search = params.toString()\n\n  let html\n  try {\n    html = await fetchSafeDocumentFragment(document, url.toString())\n  } catch (err) {\n    return\n  }\n\n  const newTimelineItem = html.querySelector('.js-timeline-item')\n  if (!newTimelineItem) return\n\n  const gid = newTimelineItem.getAttribute('data-gid')\n  if (!gid) return\n\n  const currentTimelineItem = document.querySelector(`.js-timeline-item[data-gid='${gid}']`)\n\n  if (currentTimelineItem) {\n    currentTimelineItem.replaceWith(newTimelineItem)\n\n    const target = document.getElementById(anchor)\n    if (target) focusElement(target)\n  } else {\n    const container = document.getElementById('js-progressive-timeline-item-container')\n    if (container) container.replaceWith(html)\n\n    const target = document.getElementById(anchor)\n    if (target) focusElement(target)\n  }\n}\n\nfunction expandDetailsIfPresent(element: HTMLElement): void {\n  const detailsContainer = element.closest<HTMLElement>('details, .js-details-container')\n  if (!detailsContainer) return\n  if (detailsContainer.nodeName === 'DETAILS') {\n    detailsContainer.setAttribute('open', 'open')\n  } else if (!isDetailsTargetExpanded(detailsContainer)) {\n    toggleDetailsTarget(detailsContainer)\n  }\n}\n\nfunction urlAnchor(): string {\n  return window.location.hash.slice(1)\n}\n","import {getCLS, getFCP, getFID, getLCP, getTTFB} from 'web-vitals'\nimport type {Metric} from 'web-vitals'\nimport {loaded} from '../document-ready'\nimport {sendStats} from '../stats'\n\nfunction sendVitals(metric: Metric) {\n  const {name, value} = metric\n  const stat: PlatformBrowserPerformanceWebVitalTiming = {name: window.location.href}\n  switch (name) {\n    case 'CLS':\n      stat.cls = value\n      break\n    case 'FCP':\n      stat.fcp = value\n      break\n    case 'FID':\n      stat.fid = value\n      break\n    case 'LCP':\n      stat.lcp = value\n      break\n    case 'TTFB':\n      stat.ttfb = value\n      break\n  }\n  sendStats({webVitalTimings: [stat]})\n}\n\nfunction isTimingSuppported(): boolean {\n  return !!(window.performance && window.performance.timing && window.performance.getEntriesByType)\n}\n\nasync function sendTimingResults() {\n  if (!isTimingSuppported()) return\n\n  await loaded\n  await new Promise(resolve => setTimeout(resolve))\n\n  const resourceTimings = window.performance.getEntriesByType('resource')\n  if (resourceTimings.length) {\n    sendStats({resourceTimings})\n  }\n\n  const navigationTimings = window.performance.getEntriesByType('navigation')\n  if (navigationTimings.length) {\n    sendStats({navigationTimings})\n  }\n}\n\nsendTimingResults()\ngetCLS(sendVitals)\ngetFCP(sendVitals)\ngetFID(sendVitals)\ngetLCP(sendVitals)\ngetTTFB(sendVitals)\n","import {announceFromElement} from '../../aria-live'\nimport {observe} from 'selector-observer'\n\nobserve('.js-discussion', announceTimelineEvents)\n\nfunction announceTimelineEvents() {\n  let existingTimelineItems: WeakSet<Element> = new WeakSet()\n  setExistingTimelineItems()\n\n  document.addEventListener('pjax:end', setExistingTimelineItems)\n\n  observe('.js-timeline-item', el => {\n    if (!(el instanceof HTMLElement)) return\n    if (existingTimelineItems.has(el)) return\n\n    announceFromElement(el)\n  })\n\n  function setExistingTimelineItems() {\n    existingTimelineItems = new WeakSet(document.querySelectorAll('.js-timeline-item'))\n  }\n}\n","// Toggler Behavior\n//\n// target    - Element with a \".js-toggler-target\" class name, clicking\n//             triggers toggle.\n// container - Element with a \".js-toggler-container\" class name,\n//             contains one or more targets.\n//\n// The toggle state is defined as \"off\" or \"on\". A \".on\" class name is\n// added to the container when the state is \"on\". \".on\" is removed if\n// the state is \"off\".\n//\n// Some extra AJAX states are available if any target makes use of\n// `data-remote`.\n//\n// loading - Added to the container before the request is sent and\n//           after it finishes.\n// success - Added to the container after a successful response\n//           returns.\n// error   - Added to the container after any bad responses.\n//\n// Examples\n//\n//   .js-toggler-container .turn-on  { display: block; }\n//   .js-toggler-container .turn-off { display: none; }\n//   .js-toggler-container.on .turn-on  { display: none; }\n//   .js-toggler-container.on .turn-off { display: block; }\n//\n//   <div class=\"js-toggler-container\">\n//     <button type=\"button\" href=\"#\" class=\"turn-on js-toggler-target\">ON</button>\n//     <button type=\"button\" class=\"turn-off js-toggler-target\">OFF</button>\n//   </div>\n//\n\nimport {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\n\non('click', '.js-toggler-container .js-toggler-target', function (event) {\n  // Ignore right-click events.\n  if (event.button !== 0) return\n\n  const container = event.currentTarget.closest('.js-toggler-container')\n  if (container) container.classList.toggle('on')\n})\n\nremoteForm('.js-toggler-container', async (form, wants) => {\n  form.classList.remove('success', 'error')\n  form.classList.add('loading')\n\n  try {\n    await wants.text()\n    form.classList.add('success')\n  } catch (responseError) {\n    form.classList.add('error')\n  } finally {\n    form.classList.remove('loading')\n  }\n})\n","const loaded: Promise<unknown> = (function () {\n  if (document.readyState === 'complete') {\n    return Promise.resolve()\n  } else {\n    return new Promise(resolve => {\n      window.addEventListener('load', resolve)\n    })\n  }\n})()\n\nclass TypingEffectElement extends HTMLElement {\n  async connectedCallback() {\n    await loaded\n    if (this.content) await typeLines(this.lines, this.content)\n    if (this.cursor) this.cursor.hidden = true\n    this.dispatchEvent(\n      new CustomEvent('typing:complete', {\n        bubbles: true,\n        cancelable: true\n      })\n    )\n  }\n\n  get content(): HTMLElement | null {\n    return this.querySelector('[data-target=\"typing-effect.content\"]')\n  }\n\n  get cursor(): HTMLElement | null {\n    return this.querySelector('[data-target=\"typing-effect.cursor\"]')\n  }\n\n  get lines(): string[] {\n    const linesAttr = this.getAttribute('data-lines')\n\n    try {\n      return linesAttr ? (JSON.parse(linesAttr) as string[]) : []\n    } catch {\n      return []\n    }\n  }\n}\n\nif (!customElements.get('typing-effect')) {\n  customElements.define('typing-effect', TypingEffectElement)\n}\n\nasync function typeLines(lines: string[], contentElement: HTMLElement): Promise<void> {\n  for (let lineIndex = 0; lineIndex < lines.length; lineIndex++) {\n    for (const character of lines[lineIndex].split('')) {\n      await wait(40)\n      contentElement.innerHTML += character\n    }\n\n    await wait(400)\n    if (lineIndex < lines.length - 1) contentElement.append(document.createElement('br'))\n  }\n}\n\nasync function wait(ms: number): Promise<void> {\n  return new Promise<void>(resolve => {\n    setTimeout(resolve, ms)\n  })\n}\n","import {attr, controller, target, targets} from '@github/catalyst'\nimport {get, supported} from '@github/webauthn-json'\nimport type {CredentialRequestOptionsJSON} from '@github/webauthn-json'\nimport {requestSubmit} from '../form'\n\nenum State {\n  Initializing = 'initializing',\n  Unsupported = 'unsupported',\n  Ready = 'ready',\n  Waiting = 'waiting',\n  Error = 'error',\n  Submitting = 'submitting'\n}\n\n@controller\nexport class WebauthnGetElement extends HTMLElement {\n  state: State = State.Initializing\n  @target button: HTMLButtonElement\n  // `messages` contains all the message elements.\n  @targets messages: HTMLElement[]\n  @target unsupportedMessage: HTMLElement\n  @target waitingMessage: HTMLElement\n  @target errorMessage: HTMLElement\n\n  @attr json = ''\n  // We can't call this `autofocus`, since that's already an `HTMLElement` property.\n  @attr autofocusWhenReady = false\n\n  private originalButtonText: string | null\n  private hasErrored = false\n\n  connectedCallback(): void {\n    this.originalButtonText = this.button.textContent\n    this.setState(supported() ? State.Ready : State.Unsupported)\n  }\n\n  setState(state: State): void {\n    // Reset to defaults\n    this.button.textContent = this.hasErrored ? this.button.getAttribute('data-retry-message') : this.originalButtonText\n    this.button.disabled = false\n    this.button.hidden = false\n    for (const elem of this.messages) {\n      elem.hidden = true\n    }\n\n    switch (state) {\n      case State.Initializing:\n        this.button.disabled = true\n        break\n      case State.Unsupported:\n        this.button.disabled = true\n        this.unsupportedMessage.hidden = false\n        break\n      case State.Ready:\n        if (this.autofocusWhenReady) {\n          this.button.focus()\n        }\n        break\n      case State.Waiting:\n        this.waitingMessage.hidden = false\n        this.button.hidden = true\n        break\n      case State.Error:\n        this.errorMessage.hidden = false\n        break\n      case State.Submitting:\n        this.button.textContent = 'Verifying'\n        this.button.disabled = true\n        break\n      default:\n        throw new Error('invalid state')\n    }\n\n    this.state = state\n  }\n\n  async prompt(event: Event): Promise<void> {\n    event.preventDefault() // prevent default page form submission\n    this.dispatchEvent(new CustomEvent('webauthn-get-prompt'))\n    try {\n      this.setState(State.Waiting)\n\n      const json: CredentialRequestOptionsJSON = JSON.parse(this.json)\n      const signResponse = await get(json)\n      this.setState(State.Submitting)\n\n      // Each `<webauthn-get>` element is currently embedded in a form (not\n      // the other way around), so we have to query for for the form outside of it.\n      const form = this.closest<HTMLFormElement>('.js-webauthn-form')!\n      const responseField = form.querySelector<HTMLInputElement>('.js-webauthn-response')!\n      responseField.value = JSON.stringify(signResponse)\n      requestSubmit(form)\n    } catch (error) {\n      this.hasErrored = true\n      this.setState(State.Error)\n      throw error\n    }\n  }\n}\n\nenum SudoPasswordElementState {\n  Initializing = 'initializing',\n  ShowingForm = 'showing-form',\n  ShowingRevealer = 'showing-revealer'\n}\n\n@controller\nexport class SudoPasswordElement extends HTMLElement {\n  @attr state: SudoPasswordElementState = SudoPasswordElementState.ShowingForm\n\n  @target revealer: HTMLElement\n  @target form: HTMLElement\n  @target passwordField: HTMLInputElement\n\n  // Note: The form is revealed in the DOM by default, because we want to make\n  // sure that the form loads when JS is not working.\n  connectedCallback(): void {\n    // Update the DOM from its default (showing the password for, in case JS\n    // doesn't work) to the initial state.\n    this.setState(this.state)\n  }\n\n  setState(state: SudoPasswordElementState): void {\n    // Reset to defaults\n    this.revealer.hidden = true\n    this.form.hidden = false\n\n    switch (state) {\n      case SudoPasswordElementState.Initializing:\n        break\n      case SudoPasswordElementState.ShowingForm:\n        this.passwordField.focus()\n        this.dispatchEvent(new CustomEvent('sudo-password-showing-form'))\n        break\n      case SudoPasswordElementState.ShowingRevealer:\n        this.revealer.hidden = false\n        this.form.hidden = true\n        break\n      default:\n        throw new Error('invalid state')\n    }\n\n    this.state = state\n  }\n\n  reveal(): void {\n    this.setState(SudoPasswordElementState.ShowingForm)\n  }\n}\n\n@controller\nexport class SudoAuthElement extends HTMLElement {\n  // `<webauthn-get>` is only in the DOM if the user has has a necessary\n  // registration.\n  @target webauthnGet: WebauthnGetElement\n  @target sudoPassword: SudoPasswordElement\n\n  connectedCallback(): void {\n    this.webauthnGet?.addEventListener('webauthn-get-prompt', () => {\n      this.sudoPassword.setState(SudoPasswordElementState.ShowingRevealer)\n    })\n\n    this.sudoPassword.addEventListener('sudo-password-showing-form', () => {\n      this.webauthnGet?.setState(State.Ready)\n    })\n  }\n}\n","import {setCookie} from '../cookies'\nimport timezone from '../timezone'\n\nwindow.requestIdleCallback(() => {\n  const value = timezone()\n  if (value) {\n    setCookie('tz', encodeURIComponent(value))\n  }\n})\n","import {fromEvent} from '../subscription'\nimport {observe} from 'selector-observer'\nimport {requestSubmit} from '../form'\n\nlet unreadCount = 0\n\nfunction markThreadAsRead() {\n  if (!document.hasFocus()) return\n  const form = document.querySelector('.js-timeline-marker-form')\n  if (form && form instanceof HTMLFormElement) requestSubmit(form)\n}\n\nconst observer =\n  'IntersectionObserver' in window\n    ? new IntersectionObserver(\n        function (entries) {\n          for (const entry of entries) {\n            if (entry.isIntersecting) {\n              clearUnread(entry.target)\n            }\n          }\n        },\n        {\n          root: null,\n          rootMargin: '0px',\n          threshold: 1.0\n        }\n      )\n    : null\n\nobserve('.js-unread-item', {\n  constructor: HTMLElement,\n  add(el) {\n    unreadCount++\n    if (observer) {\n      observer.observe(el)\n    }\n  },\n  remove(el) {\n    unreadCount--\n    if (observer) {\n      observer.unobserve(el)\n    }\n    if (unreadCount === 0) {\n      markThreadAsRead()\n    }\n  }\n})\n\nfunction clearUnread(el: Element) {\n  el.classList.remove('js-unread-item', 'unread-item')\n}\n\n// Mark any unread comments as read if the user has marked the thread as read\n// in another tab or remotely via email notification.\nobserve('.js-discussion[data-channel-target]', {\n  subscribe: el =>\n    fromEvent(el, 'socket:message', function (event: Event) {\n      const target = event.target as Element\n      const data = (event as CustomEvent).detail.data\n      if (target.getAttribute('data-channel-target') === data.gid) {\n        for (const item of document.querySelectorAll('.js-unread-item')) {\n          clearUnread(item)\n        }\n      }\n    })\n})\n","// Unread Item Counter\n//\n// Keeps count of how many unread items are present throughout the page. The\n// count is reflected in the page title automatically.\n//\n// To increase or decrease the page title counter, it's as simple as adding or\n// removing the `.js-unread-item` class from an element. The counter is reset and\n// the page title is cleared when there are no more elements with the\n// `.js-unread-item` class present.\n//\n// Markup\n//\n// ``` html\n// <div class=\"comment js-comment js-unread-item\">\n//   :metal:\n// </div>\n// ```\n//\n\nimport {observe} from 'selector-observer'\n\nlet unreadCounter = 0\nconst titleRe = /^\\(\\d+\\)\\s+/\n\nfunction updateTitle() {\n  const prefix = unreadCounter ? `(${unreadCounter}) ` : ''\n  if (document.title.match(titleRe)) {\n    document.title = document.title.replace(titleRe, prefix)\n  } else {\n    document.title = `${prefix}${document.title}`\n  }\n}\n\nobserve('.js-unread-item', {\n  add() {\n    unreadCounter++\n    updateTitle()\n  },\n  remove() {\n    unreadCounter--\n    updateTitle()\n  }\n})\n","//\n// Updatable Content\n//\n// Markup\n//\n//     <div class=\"js-socket-channel js-updatable-content\"\n//          data-channel=\"pull:123\"\n//          data-url=\"/pull/123?partial=commits\">\n//     </div>\n//\n\nimport {fromEvent} from '../subscription'\nimport {observe} from 'selector-observer'\nimport {updateContent} from '../updatable-content'\n\nobserve('.js-socket-channel.js-updatable-content', {\n  subscribe: el =>\n    fromEvent(el, 'socket:message', function (event: Event) {\n      const {gid, wait} = (event as CustomEvent).detail.data\n      const container = event.target as HTMLElement\n      const target = gid ? findByGid(container, gid) : container\n      if (target) setTimeout(updateContent, wait || 0, target)\n    })\n})\n\nfunction findByGid(root: HTMLElement, gid: string): HTMLElement | null {\n  if (root.getAttribute('data-gid') === gid) return root\n  for (const el of root.querySelectorAll<HTMLElement>(`[data-url][data-gid]`)) {\n    if (el.getAttribute('data-gid') === gid) {\n      return el\n    }\n  }\n  return null\n}\n","import {replaceContent, staleRecords} from '../updatable-content'\nimport {ready} from '../document-ready'\nimport {replaceState} from '../history'\n\nasync function reapplyPreviouslyUpdatedContent() {\n  if (!history.state || !history.state.staleRecords) return\n  await ready\n  for (const url in history.state.staleRecords) {\n    for (const urlTarget of document.querySelectorAll(\n      `.js-updatable-content [data-url='${url}'], .js-updatable-content[data-url='${url}']`\n    )) {\n      const data = history.state.staleRecords[url]\n      if (urlTarget instanceof HTMLElement) replaceContent(urlTarget, data, true)\n    }\n  }\n  replaceState(null, '', location.href)\n}\n\nwindow.addEventListener('beforeunload', function () {\n  if (Object.keys(staleRecords).length > 0) {\n    const stateObject = history.state || {}\n    stateObject.staleRecords = staleRecords\n    replaceState(stateObject, '', location.href)\n  }\n})\n\ntry {\n  reapplyPreviouslyUpdatedContent()\n} catch {\n  // ignore\n}\n","// Support linking to named anchors in user content\n//\n// Named elements in user content are prefixed with \"user-content-\" to prevent\n// DOM clobbering. This allows users to link to the unprefixed named anchors by\n// listening for hashchange and, when when no elements with an ID or name of the\n// given hash exist, looks for an element with a prefixed name.\n//\n// See https://github.com/github/github/issues/23103 for more information.\n\nimport {decodeFragmentValue, findElementByFragmentName} from '../fragment-target'\nimport {on} from 'delegated-events'\nimport {ready} from '../document-ready'\nimport {scrollIntoView} from '../sticky-scroll-into-view'\n\nfunction hashchange() {\n  if (document.querySelector(':target')) {\n    return\n  }\n  const hash = decodeFragmentValue(location.hash).toLowerCase()\n  const target = findElementByFragmentName(document, `user-content-${hash}`)\n  if (target) {\n    scrollIntoView(target)\n  }\n}\n\n// Scroll to anchor when clicked on page.\nwindow.addEventListener('hashchange', hashchange)\n\n// Scroll to anchor on pjax navigation\ndocument.addEventListener('pjax:success', hashchange)\n\n// Scroll to anchor on page load.\n;(async function () {\n  await ready\n  hashchange()\n})()\n\n// Scroll to anchor when clicking on a link that has the exact same fragment\n// identifier as already present in the URL. This won't trigger `hashchange`,\n// so we need to scroll manually.\non('click', 'a[href]', function (event) {\n  const {currentTarget} = event\n  if (!(currentTarget instanceof HTMLAnchorElement)) return\n\n  if (currentTarget.href === location.href && location.hash.length > 1) {\n    setTimeout(function () {\n      if (!event.defaultPrevented) hashchange()\n    })\n  }\n})\n","import {fromEvent} from '../subscription'\nimport {observe} from 'selector-observer'\n\nasync function load(event: Event) {\n  const container = event.currentTarget as HTMLElement\n  const {init} = await import('../user-status-submit')\n  init(container)\n}\n\nobserve('.js-user-status-container', {\n  subscribe: el => fromEvent(el, 'click', load, {once: true})\n})\n","import {dialog} from '../details-dialog'\nimport {fetchSafeDocumentFragment} from '../fetch'\nimport {on} from 'delegated-events'\n\non('upload:setup', '.js-upload-avatar-image', function (event) {\n  const {form} = event.detail\n  const orgId = event.currentTarget.getAttribute('data-alambic-organization')\n  const ownerType = event.currentTarget.getAttribute('data-alambic-owner-type')\n  const ownerId = event.currentTarget.getAttribute('data-alambic-owner-id')\n  if (orgId) {\n    form.append('organization_id', orgId)\n  }\n  if (ownerType) {\n    form.append('owner_type', ownerType)\n  }\n  if (ownerId) {\n    form.append('owner_id', ownerId)\n  }\n})\n\non('upload:complete', '.js-upload-avatar-image', function (event) {\n  const {attachment} = event.detail\n  const url = `/settings/avatars/${attachment.id}`\n  dialog({content: fetchSafeDocumentFragment(document, url)})\n})\n","import {controller, target} from '@github/catalyst'\n\n@controller\nclass VisiblePasswordElement extends HTMLElement {\n  @target input: HTMLInputElement\n  @target showButton: HTMLElement\n  @target hideButton: HTMLElement\n\n  show() {\n    this.input.type = 'text'\n    this.input.focus()\n    this.showButton.hidden = true\n    this.hideButton.hidden = false\n  }\n\n  hide() {\n    this.input.type = 'password'\n    this.input.focus()\n    this.hideButton.hidden = true\n    this.showButton.hidden = false\n  }\n}\n","import {hasDirtyFields} from '../has-interactions'\nimport {observe} from 'selector-observer'\n\n// Add the 'data-warn-unsaved-changes' attribute to any form/container element\n// and it will be monitored for changes. If the user attempts to\n// navigate away from the page without first saving their changes, an alert\n// will warn them.\nobserve('[data-warn-unsaved-changes]', {\n  add(container) {\n    container.addEventListener('input', prepareUnsavedChangesWarning)\n    container.addEventListener('change', prepareUnsavedChangesWarning)\n    container.addEventListener('submit', disableSaveChangesReminder)\n\n    const dialog = container.closest('details-dialog')\n    if (dialog) {\n      dialog.closest<HTMLElement>('details')!.addEventListener('toggle', disableSaveChangesReminderOnClosedDialogs)\n      dialog.addEventListener('details-dialog-close', promptOnDialogClosing)\n    }\n  },\n  remove(container) {\n    container.removeEventListener('input', prepareUnsavedChangesWarning)\n    container.removeEventListener('change', prepareUnsavedChangesWarning)\n    container.removeEventListener('submit', disableSaveChangesReminder)\n\n    const dialog = container.closest('details-dialog')\n    if (dialog) {\n      dialog.closest<HTMLElement>('details')!.removeEventListener('toggle', disableSaveChangesReminderOnClosedDialogs)\n      dialog.removeEventListener('details-dialog-close', promptOnDialogClosing)\n      disableSaveChangesReminder()\n    }\n  }\n})\n\nfunction prepareUnsavedChangesWarning(event: Event) {\n  const currentTarget = event.currentTarget as Element\n\n  if (hasDirtyFields(currentTarget)) {\n    enableSaveChangesReminder(currentTarget)\n  } else {\n    disableSaveChangesReminder()\n  }\n}\n\nfunction enableSaveChangesReminder(container: Element) {\n  // This message is ignored by most browsers.\n  // eslint-disable-next-line i18n-text/no-en\n  const message = container.getAttribute('data-warn-unsaved-changes') || 'Changes you made may not be saved.'\n\n  window.onbeforeunload = function (event: BeforeUnloadEvent): string {\n    event.returnValue = message\n    return message\n  }\n}\n\nfunction disableSaveChangesReminder() {\n  window.onbeforeunload = null\n}\n\nfunction disableSaveChangesReminderOnClosedDialogs({currentTarget}: Event) {\n  if (!(currentTarget as Element).hasAttribute('open')) {\n    disableSaveChangesReminder()\n  }\n}\n\nfunction promptOnDialogClosing(event: Event) {\n  const dialog = event.currentTarget as Element\n  const details = dialog.closest('details[open]')\n  if (!details) {\n    return\n  }\n\n  let confirmed = true\n  const confirmationForms = dialog.querySelectorAll<HTMLFormElement>('form[data-warn-unsaved-changes]')\n  for (const form of confirmationForms) {\n    if (hasDirtyFields(form)) {\n      const message = form.getAttribute('data-warn-unsaved-changes')!\n      confirmed = confirm(message)\n      break\n    }\n  }\n\n  if (!confirmed) {\n    event.preventDefault()\n  }\n}\n","// Perform CSS transition once\n//\n// Examples\n//\n//   .foo.will-transition-once {\n//     transition: color ...;\n//   }\n//\n//   .foo.is-successful {\n//     background: green;\n//   }\n//\n\nimport {fromEvent} from '../subscription'\nimport {observe} from 'selector-observer'\n\nobserve('.will-transition-once', {\n  constructor: HTMLElement,\n  subscribe: el => fromEvent(el, 'transitionend', onTransitionEnd)\n})\n\nfunction onTransitionEnd(event: Event) {\n  const target = event.target as Element\n  target.classList.remove('will-transition-once')\n}\n","import {fromEvent} from '../subscription'\nimport {observe} from 'selector-observer'\n\n// Load issue/PR/discussion references to display the title for the tooltip from the server on hover.\n// If hovercards are enabled for the referenced type on this part of the DOM,\n// this behavior is bypassed in favor of the hovercard.\nasync function issueLabel(event: Event) {\n  const currentTarget = event.currentTarget as HTMLElement\n  const url = currentTarget.getAttribute('data-url')\n  if (!url || isHovercardEnabled(currentTarget)) {\n    return\n  }\n\n  const id = currentTarget.getAttribute('data-id') || ''\n  const text = currentTarget.textContent\n  const elements = document.querySelectorAll(`.js-issue-link[data-id='${id}']`)\n\n  for (const el of elements) {\n    el.removeAttribute('data-url')\n  }\n\n  try {\n    const response = await fetch(url, {\n      headers: {\n        'X-Requested-With': 'XMLHttpRequest',\n        Accept: 'application/json'\n      }\n    })\n    if (!response.ok) {\n      const responseError = new Error()\n      const statusText = response.statusText ? ` ${response.statusText}` : ''\n      responseError.message = `HTTP ${response.status}${statusText}`\n      throw responseError\n    }\n    const data = await response.json()\n    setLabel(elements, `${text}, ${data.title}`)\n  } catch (error) {\n    const status = (error.response != null ? error.response.status : undefined) || 500\n\n    const message = (() => {\n      switch (status) {\n        case 404:\n          return currentTarget.getAttribute('data-permission-text')\n        default:\n          return currentTarget.getAttribute('data-error-text')\n      }\n    })()\n\n    setLabel(elements, message || '')\n  }\n}\n\nfunction setLabel(elements: NodeList, text: string) {\n  for (const el of elements) {\n    if (!(el instanceof HTMLElement)) continue\n    el.classList.add('tooltipped', 'tooltipped-ne')\n    el.setAttribute('aria-label', text)\n  }\n}\n\nfunction isHovercardEnabled(element: HTMLElement): boolean {\n  const hovercardType = element.getAttribute('data-hovercard-type')\n  switch (hovercardType) {\n    case 'issue':\n    case 'pull_request':\n      return !!element.closest('[data-issue-and-pr-hovercards-enabled]')\n    case 'discussion':\n      return !!element.closest('[data-discussion-hovercards-enabled]')\n    default:\n      return false\n  }\n}\n\nobserve('.js-issue-link', {\n  subscribe: el => fromEvent(el, 'mouseenter', issueLabel)\n})\n","import {on} from 'delegated-events'\n\n// Like scrollIntoView() but better because:\n// 1. It doesn't change scroll position if element already fits into viewport.\n// 2. It supports the option padding value.\nfunction adjustViewport(element: HTMLElement, padding = 0) {\n  const position = element.getBoundingClientRect()\n  const scrollAdjustUp = position.top - padding\n  const scrollAdjustDown = position.bottom - window.innerHeight + padding\n\n  if (scrollAdjustUp < 0) {\n    window.scrollBy(0, scrollAdjustUp)\n  } else if (scrollAdjustDown > 0) {\n    window.scrollBy(0, scrollAdjustDown)\n  }\n}\n\non('click', '.js-video-play, .js-video-close', function (event) {\n  event.preventDefault()\n\n  const playTarget = event.currentTarget\n  const wantsPlay = playTarget.classList.contains('js-video-play')\n  const container = playTarget.closest<HTMLElement>('.js-video-container')!\n  const iframe = container.querySelector<HTMLIFrameElement>('.js-video-iframe')!\n  const bg = document.querySelector('.js-video-bg')\n\n  if (wantsPlay) {\n    iframe.src = iframe.getAttribute('data-src') || ''\n  } else {\n    iframe.removeAttribute('src')\n  }\n  container.classList.toggle('is-expanded', wantsPlay)\n\n  if (bg != null) {\n    bg.classList.toggle('is-expanded', wantsPlay)\n  }\n\n  adjustViewport(iframe, 20)\n})\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/* MIT license */\n/* eslint-disable no-mixed-operators */\nconst cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\nmodule.exports = convert;\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Infinity;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tlet r = rgb[0] / 255;\n\tlet g = rgb[1] / 255;\n\tlet b = rgb[2] / 255;\n\n\t// Assume sRGB\n\tr = r > 0.04045 ? (((r + 0.055) / 1.055) ** 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? (((g + 0.055) / 1.055) ** 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? (((b + 0.055) / 1.055) ** 2.4) : (b / 12.92);\n\n\tconst x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tconst y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tconst z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t2;\n\tlet t3;\n\tlet val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v;  g = n;  b = wh; break;\n\t\tcase 1: r = n;  g = v;  b = wh; break;\n\t\tcase 2: r = wh; g = v;  b = n; break;\n\t\tcase 3: r = wh; g = n;  b = v; break;\n\t\tcase 4: r = n;  g = wh; b = v; break;\n\t\tcase 5: r = v;  g = wh; b = n; break;\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// Assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * (r ** (1.0 / 2.4))) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * (g ** (1.0 / 2.4))) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * (b ** (1.0 / 2.4))) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (~~(args > 50) + 1) * 0.5;\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(char => {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tconst integer = parseInt(colorString, 16);\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet grayscale;\n\tlet hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2.0 * s * l) : (2.0 * s * (1.0 - l));\n\n\tlet f = 0;\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1.0 - c);\n\tlet f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1.0 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tconst val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (val << 16) + (val << 8) + val;\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","const conversions = require('./conversions');\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","const conversions = require('./conversions');\nconst route = require('./route');\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(fromModel => {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\trouteModels.forEach(toModel => {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","import {fire, on} from 'delegated-events'\nimport {onFocus, onInput, onKey} from '../onfocus'\nimport {resetCharactersRemainingCounts, updateInputRemainingCharacters} from '../behaviors/characters-remaining'\nimport {RGB} from 'color-convert/conversions'\nimport {changeValue} from '../form'\nimport convert from 'color-convert'\nimport {debounce} from '@github/mini-throttle'\nimport {dialog} from '../details-dialog'\nimport {fetchSafeDocumentFragment} from '../fetch'\nimport {getUtf8StringLength} from '../text'\nimport {remoteForm} from '@github/remote-form'\nimport {toggleDetailsTarget} from '../behaviors/details'\n\nfunction randomRGBColor(): RGB {\n  return [\n    Math.floor(Math.random() * (255 - 0) + 0),\n    Math.floor(Math.random() * (255 - 0) + 0),\n    Math.floor(Math.random() * (255 - 0) + 0)\n  ]\n}\n\n// Given a button element and a hex color code, this will style the button and\n// the octicon within it based on the given color.\nfunction setColorSwatch(colorButton: HTMLButtonElement, rgb: RGB) {\n  const hsl = convert.rgb.hsl(rgb)\n  colorButton.style.setProperty('--label-r', rgb[0].toString())\n  colorButton.style.setProperty('--label-g', rgb[1].toString())\n  colorButton.style.setProperty('--label-b', rgb[2].toString())\n\n  colorButton.style.setProperty('--label-h', hsl[0].toString())\n  colorButton.style.setProperty('--label-s', hsl[1].toString())\n  colorButton.style.setProperty('--label-l', hsl[2].toString())\n}\n\n// Fill the color input field in the 'new label' modal when a button is clicked.\n// Sets the color of the button that acts as the preview of the chosen color.\nfunction setInputColorFromButton(clickedButton: HTMLButtonElement, rgb: RGB) {\n  // eslint-disable-next-line github/no-blur\n  clickedButton.blur()\n\n  const container = clickedButton.closest<HTMLElement>('form')!\n\n  const colorInput = container.querySelector<HTMLInputElement>('.js-new-label-color-input')!\n  changeValue(colorInput, `#${convert.rgb.hex(rgb)}`)\n\n  const colorButton = container.querySelector<HTMLButtonElement>('.js-new-label-color')!\n  setColorSwatch(colorButton, rgb)\n}\n\nfunction addErrorToField(errorEl: HTMLElement, errorMessage: string) {\n  const container = errorEl.closest<HTMLElement>('.js-label-error-container')!\n  container.classList.add('errored')\n  errorEl.textContent = errorMessage\n  errorEl.hidden = false\n}\n\nfunction removeErrorFromField(errorEl: HTMLElement) {\n  const container = errorEl.closest<HTMLElement>('.js-label-error-container')!\n  container.classList.remove('errored')\n  errorEl.hidden = true\n}\n\nfunction showOrHideLabelError(errorSelector: string, form: HTMLFormElement, errorMessages?: string[] | null) {\n  const errorEl = form.querySelector<HTMLElement>(errorSelector)\n  if (!errorEl) {\n    return\n  }\n\n  if (errorMessages) {\n    addErrorToField(errorEl, errorMessages[0])\n  } else {\n    removeErrorFromField(errorEl)\n  }\n}\n\ninterface labelError {\n  name?: string[]\n  description?: string[]\n  color?: string[]\n}\n\nfunction showLabelErrors(form: HTMLFormElement, json: labelError) {\n  showOrHideLabelError('.js-label-name-error', form, json.name)\n  showOrHideLabelError('.js-label-description-error', form, json.description)\n  showOrHideLabelError('.js-label-color-error', form, json.color)\n}\n\nfunction hideLabelErrors(form: HTMLFormElement) {\n  showOrHideLabelError('.js-label-name-error', form, null)\n  showOrHideLabelError('.js-label-description-error', form, null)\n  showOrHideLabelError('.js-label-color-error', form, null)\n}\n\nfunction labelPreviewUrl(\n  baseUrl: string,\n  name: string,\n  color: string,\n  description: string | null,\n  labelID: string | null\n): string {\n  const url = new URL(`${baseUrl}${encodeURIComponent(name)}`, window.location.origin)\n  const params = new URLSearchParams(url.search.slice(1))\n  params.append('color', color)\n  if (description) {\n    params.append('description', description)\n  }\n  if (labelID) {\n    params.append('id', labelID)\n  }\n  url.search = params.toString()\n  return url.toString()\n}\n\nfunction labelDescriptionFrom(form: HTMLFormElement): string | null {\n  let description = null\n  const descriptionInput = form.querySelector('.js-new-label-description-input')\n  if (descriptionInput instanceof HTMLInputElement && descriptionInput.value.trim().length > 0) {\n    description = descriptionInput.value.trim()\n  }\n  return description\n}\n\nfunction labelColorFrom(form: HTMLFormElement): string {\n  const colorInput = form.querySelector<HTMLInputElement>('.js-new-label-color-input')!\n  if (colorInput.checkValidity()) {\n    return colorInput.value.trim().replace(/^#/, '')\n  }\n  return 'ededed'\n}\n\nfunction labelNameFrom(form: HTMLFormElement, previewArea: HTMLElement): string {\n  const nameInput = form.querySelector<HTMLInputElement>('.js-new-label-name-input')!\n  let name = nameInput.value.trim()\n  if (name.length < 1) {\n    name = previewArea.getAttribute('data-default-name')!\n  }\n  return name\n}\n\nasync function updateLabelPreview(startEl: HTMLElement) {\n  const previewContainer = startEl.closest('.js-label-preview-container')\n  if (!previewContainer) {\n    return\n  }\n\n  const form = startEl.closest<HTMLFormElement>('.js-label-form')!\n  const fullErrorMessageEl = form.querySelector<HTMLElement>('.js-new-label-error')\n  const labelID = form.getAttribute('data-label-id')\n  const previewArea = previewContainer.querySelector<HTMLElement>('.js-label-preview')!\n  const name = labelNameFrom(form, previewArea)\n  const color = labelColorFrom(form)\n  const description = labelDescriptionFrom(form)\n\n  const urlTemplate = previewArea.getAttribute('data-url-template')!\n  const url = labelPreviewUrl(urlTemplate, name, color, description, labelID)\n\n  if (previewContainer.hasAttribute('data-last-preview-url')) {\n    const lastPreviewUrl = previewContainer.getAttribute('data-last-preview-url')!\n    if (url === lastPreviewUrl) {\n      return\n    }\n  }\n\n  let fragment\n  try {\n    fragment = await fetchSafeDocumentFragment(document, url)\n  } catch (error) {\n    const json = await error.response.json()\n    showLabelErrors(form, json)\n\n    if (fullErrorMessageEl) {\n      fullErrorMessageEl.textContent = json.message\n      fullErrorMessageEl.hidden = false\n    }\n\n    return\n  }\n\n  if (fullErrorMessageEl) {\n    fullErrorMessageEl.textContent = ''\n    fullErrorMessageEl.hidden = true\n  }\n\n  hideLabelErrors(form)\n\n  previewArea.innerHTML = ''\n  previewArea.appendChild(fragment)\n  previewContainer.setAttribute('data-last-preview-url', url)\n}\n\nfunction onLabelFormInputChange(event: Event) {\n  updateLabelPreview(event.target as HTMLInputElement)\n}\n\nfunction toggleBlankSlate(el: Element, show: boolean) {\n  const detailsContainer = el.closest<HTMLElement>('.js-details-container')!\n  detailsContainer.classList.toggle('is-empty', show)\n}\n\nfunction updateCount(delta: number) {\n  const counter = document.querySelector<HTMLElement>('.js-labels-count')!\n  const oldCount = Number(counter.textContent!)\n  const newCount = oldCount + delta\n  counter.textContent = newCount.toString()\n\n  const label = document.querySelector<HTMLElement>('.js-labels-label')!\n  label.textContent = label.getAttribute(newCount === 1 ? 'data-singular-string' : 'data-plural-string')\n  return newCount\n}\n\n// Update the preview text of the new label based on what the user types in the\n// label filter input.\nonInput('.js-label-filter-field', function (event) {\n  const filterInput = event.target as HTMLInputElement\n  const container = filterInput.closest<HTMLElement>('details-menu')!\n  const labelNameEl = container.querySelector('.js-new-label-name')\n  if (!labelNameEl) {\n    return\n  }\n  const labelName = filterInput.value.trim()\n  labelNameEl.textContent = labelName\n})\n\n// As the user filters existing labels, make sure the 'Add new label' and 'Edit labels'\n// links are visible as appropriate.\non('filterable:change', '.js-filterable-issue-labels', function (event) {\n  const menu = event.currentTarget.closest<HTMLElement>('details-menu')!\n  const addLabelButton = menu.querySelector<HTMLElement>('.js-add-label-button')\n  if (!addLabelButton) return\n\n  const filterInput = event.detail.inputField\n  const newLabelName = filterInput.value.trim().toLowerCase()\n\n  // TODO This could use namedItems.\n  let matchingExistingLabel = false\n  for (const input of menu.querySelectorAll('input[name=\"issue[labels][]\"]')) {\n    const labelName = input.getAttribute('data-label-name') || ''\n    if (labelName.toLowerCase() === newLabelName) {\n      matchingExistingLabel = true\n      break\n    }\n  }\n\n  addLabelButton.hidden = newLabelName.length === 0 || matchingExistingLabel\n})\n\n// Show the color swatches when the user focuses the color input field.\nonFocus('.js-new-label-color-input', function (input) {\n  const container = input.closest<HTMLElement>('form')!\n  const swatchesContainer = container.querySelector<HTMLElement>('.js-new-label-swatches')!\n  swatchesContainer.hidden = false\n\n  input.addEventListener(\n    'blur',\n    function () {\n      swatchesContainer.hidden = true\n    },\n    {once: true}\n  )\n})\n\n// Update the color swatch as the user types new hex color codes manually into\n// the input.\nonInput('.js-new-label-color-input', function (event) {\n  const input = event.target as HTMLInputElement\n  let color = input.value.trim()\n  if (color.length < 1) {\n    return\n  }\n\n  if (color.indexOf('#') !== 0) {\n    color = `#${color}`\n    input.value = color\n  }\n\n  if (input.checkValidity()) {\n    input.classList.remove('color-text-danger')\n    const container = input.closest<HTMLElement>('form')!\n    const colorButton = container.querySelector<HTMLButtonElement>('.js-new-label-color')!\n    setColorSwatch(colorButton, convert.hex.rgb(color))\n  } else {\n    input.classList.add('color-text-danger')\n  }\n})\n\n// Disable save button as the user types if they enter an invalid hex color code.\nonKey('keyup', '.js-new-label-color-input', function (event) {\n  const input = event.target as HTMLInputElement\n  let color = input.value.trim()\n\n  if (color.indexOf('#') !== 0) {\n    color = `#${color}`\n    input.value = color\n  }\n\n  if (input.checkValidity()) {\n    const container = input.closest<HTMLElement>('form')!\n    const colorButton = container.querySelector<HTMLButtonElement>('.js-new-label-color')!\n    setColorSwatch(colorButton, convert.hex.rgb(color))\n  }\n  fire(input, 'change', false)\n\n  const form = input.closest<HTMLFormElement>('form')!\n  hideLabelErrors(form)\n})\n\nonKey('keyup', '.js-new-label-description-input', function (event) {\n  const input = event.target as HTMLInputElement\n  const form = input.form!\n  hideLabelErrors(form)\n})\n\nonKey('keyup', '.js-new-label-color-input', function (event) {\n  const input = event.target as HTMLInputElement\n  const form = input.form!\n  hideLabelErrors(form)\n})\n\n// Get a random color for the new label when the user hits the button that acts as\n// a preview of the selected color.\non('click', '.js-new-label-color', async function (event) {\n  const colorButton = event.currentTarget as HTMLButtonElement\n  const rgb = randomRGBColor()\n  setInputColorFromButton(colorButton, rgb)\n  updateLabelPreview(colorButton)\n})\n\n// Choose one of the predefined colors when it's clicked.\non('mousedown', '.js-new-label-color-swatch', function (event) {\n  const swatchButton = event.currentTarget as HTMLButtonElement\n  const color = swatchButton.getAttribute('data-color')!\n  setInputColorFromButton(swatchButton, convert.hex.rgb(color))\n  updateLabelPreview(swatchButton)\n\n  const swatchesContainer = swatchButton.closest<HTMLElement>('.js-new-label-swatches')!\n  swatchesContainer.hidden = true\n})\n\non(\n  'toggle',\n  '.js-new-label-modal',\n  function (event) {\n    if ((event.target as Element).hasAttribute('open')) {\n      initLabelModal(event.target as Element)\n    }\n  },\n  {capture: true}\n)\n\n// When the new label form is displayed in the modal, set the label and its color\n// in the form fields. Also update the color of the color swatch.\nasync function initLabelModal(modal: Element) {\n  const labelNameInput = modal.querySelector<HTMLInputElement>('.js-new-label-name-input')\n  if (!labelNameInput) return\n\n  const colorInput = modal.querySelector<HTMLInputElement>('.js-new-label-color-input')!\n  const rgb = randomRGBColor()\n  const hex = `#${convert.rgb.hex(rgb)}`\n  colorInput.value = hex\n  const colorButton = modal.querySelector<HTMLButtonElement>('.js-new-label-color')!\n  setColorSwatch(colorButton, rgb)\n\n  const labelNameEl = document.querySelector<HTMLElement>('.js-new-label-name')!\n  const labelName = labelNameEl.textContent!\n  changeValue(labelNameInput, labelName)\n  updateInputRemainingCharacters(labelNameInput)\n\n  updateLabelPreview(colorButton)\n}\n\n// When the user creates a new label, close the modal containing the 'new label'\n// form. Also update the list of available labels to choose from, so the user\n// can immediately apply their new label.\nremoteForm('.js-new-label-modal-form', async function (form, wants) {\n  const errorEl = form.querySelector<HTMLElement>('.js-new-label-error')!\n\n  let response\n  try {\n    response = await wants.html()\n  } catch (error) {\n    const json = error.response.json\n    errorEl.textContent = json.message\n    errorEl.hidden = false\n  }\n\n  if (!response) {\n    return\n  }\n\n  errorEl.hidden = true // Hide error message for the form\n\n  // close modal containing the label form\n  document.querySelector<HTMLElement>('.js-new-label-modal')!.removeAttribute('open')\n\n  const list = document.querySelector<HTMLElement>('.js-filterable-issue-labels')!\n  const input = response.html.querySelector('input')\n  list.prepend(response.html)\n  // A selected menu item is inserted programmatically so we need to trigger a\n  // change event, which when trigger a details-menu-selected event.\n  if (input) input.dispatchEvent(new Event('change', {bubbles: true}))\n\n  const field = document.querySelector<HTMLInputElement>('.js-label-filter-field')!\n  field.value = field.defaultValue\n  field.focus()\n})\n\n// New and Edit remote form\n// Click \"Cancel\" leaves \"edit mode\"\non('click', '.js-edit-label-cancel', function (event) {\n  const form = (event.target as Element).closest<HTMLFormElement>('form')!\n  hideLabelErrors(form)\n  form.reset()\n\n  // Grab the color we just resetted to and set the background color of the\n  // refresh button to that color since resetting the form doesn't do that for us\n  const colorInput = form.querySelector<HTMLInputElement>('.js-new-label-color-input')!\n  const color = colorInput.value\n  const refreshButton = form.querySelector<HTMLButtonElement>('.js-new-label-color')!\n  setColorSwatch(refreshButton, convert.hex.rgb(color))\n\n  resetCharactersRemainingCounts(form)\n  updateLabelPreview(colorInput)\n\n  // If editing an existing label, hide the form on Cancel:\n  const item = event.currentTarget.closest('.js-labels-list-item')\n  if (item) {\n    const editForm = item.querySelector<HTMLElement>('.js-update-label')!\n    /* eslint-disable-next-line github/no-d-none */\n    editForm.classList.add('d-none')\n\n    const labelPreview = item.querySelector('.js-label-preview')\n    if (labelPreview) {\n      /* eslint-disable-next-line github/no-d-none */\n      labelPreview.classList.add('d-none')\n\n      const labelLink = item.querySelector<HTMLElement>('.js-label-link')!\n      /* eslint-disable-next-line github/no-d-none */\n      labelLink.classList.remove('d-none')\n    }\n\n    const elementsToShow = item.querySelectorAll<HTMLElement>('.js-hide-on-label-edit')\n    for (const el of elementsToShow) {\n      el.hidden = !el.hidden\n    }\n  }\n})\n\n// Replace item row with contents from server on Edit\nremoteForm('.js-update-label', async function (form, wants) {\n  let response\n\n  try {\n    response = await wants.html()\n  } catch (error) {\n    const json = error.response.json\n    showLabelErrors(form, json)\n    return\n  }\n\n  hideLabelErrors(form)\n\n  const item = form.closest<HTMLElement>('.js-labels-list-item')!\n  item.replaceWith(response.html)\n})\n\n// Add new label to list and clear out the form\nremoteForm('.js-create-label', async function (form, wants) {\n  let response\n\n  try {\n    response = await wants.html()\n  } catch (error) {\n    const json = error.response.json\n    showLabelErrors(form, json)\n    return\n  }\n\n  form.reset()\n  hideLabelErrors(form)\n\n  document.querySelector<HTMLElement>('.js-label-list')!.prepend(response.html)\n\n  updateCount(+1)\n\n  toggleBlankSlate(form, false)\n\n  const colorButton = form.querySelector<HTMLButtonElement>('.js-new-label-color')!\n  const rgb = randomRGBColor()\n  setInputColorFromButton(colorButton, rgb)\n  updateLabelPreview(form.querySelector<HTMLInputElement>('.js-new-label-name-input')!)\n\n  resetCharactersRemainingCounts(form)\n\n  const detailsContainer = form.closest('.js-details-container')\n  if (detailsContainer instanceof HTMLElement) {\n    toggleDetailsTarget(detailsContainer)\n  }\n})\n\n// Click 'New label' button\non('click', '.js-details-target-new-label', function () {\n  const createForm = document.querySelector<HTMLElement>('.js-create-label')!\n  const nameInput = createForm.querySelector<HTMLInputElement>('.js-new-label-name-input')!\n  nameInput.focus()\n})\n\n// Click \"Edit\" enters \"edit mode\"\non('click', '.js-edit-label', function (event) {\n  const item = event.currentTarget.closest<HTMLElement>('.js-labels-list-item')!\n  const editForm = item.querySelector<HTMLElement>('.js-update-label')!\n  /* eslint-disable-next-line github/no-d-none */\n  editForm.classList.remove('d-none')\n  const nameInput = editForm.querySelector<HTMLInputElement>('.js-new-label-name-input')!\n  nameInput.focus()\n\n  const labelPreview = item.querySelector('.js-label-preview')\n  if (labelPreview) {\n    /* eslint-disable-next-line github/no-d-none */\n    labelPreview.classList.remove('d-none')\n\n    const labelLink = item.querySelector<HTMLElement>('.js-label-link')!\n    /* eslint-disable-next-line github/no-d-none */\n    labelLink.classList.add('d-none')\n  }\n\n  const elementsToHide = item.querySelectorAll<HTMLElement>('.js-hide-on-label-edit')\n  for (const el of elementsToHide) {\n    el.hidden = !el.hidden\n  }\n})\n\n// Delete remote form\nremoteForm('.js-delete-label', async function (form, wants) {\n  const row = form.closest<HTMLElement>('.js-labels-list-item')!\n  row.querySelector<HTMLElement>('.js-label-delete-spinner')!.hidden = false\n  await wants.text()\n  const newCount = updateCount(-1)\n  toggleBlankSlate(form, newCount === 0)\n  row.remove()\n})\n\nconst delayedOnLabelFormInputChange = debounce(onLabelFormInputChange, 500)\n\n// Handle the user typing in label fields:\non('suggester:complete', '.js-new-label-name-input', delayedOnLabelFormInputChange)\nonInput('.js-new-label-name-input', delayedOnLabelFormInputChange)\nonInput('.js-new-label-description-input', delayedOnLabelFormInputChange)\nonInput('.js-new-label-color-input', delayedOnLabelFormInputChange)\n\n// Limit length of label names in the way Rails does with model validations; allows emoji:\nonKey('keypress', '.js-new-label-name-input', function (event) {\n  const input = event.target as HTMLInputElement\n  const limit = parseInt(input.getAttribute('data-maxlength')!)\n\n  if (getUtf8StringLength(input.value) >= limit) {\n    event.preventDefault()\n  }\n})\n\n// Exclude labels on the issues page label filter\non('click', '.js-issues-label-select-menu-item', function (event) {\n  if (!event.altKey) return\n\n  event.preventDefault()\n  event.stopPropagation()\n  window.location.href = event.currentTarget.getAttribute('data-excluded-url')!\n})\n\nonKey('keydown', '.js-issues-label-select-menu-item', function (event: KeyboardEvent) {\n  if (event.key !== 'Enter') return\n  if (!event.altKey) return\n\n  const anchor = event.currentTarget\n  event.preventDefault()\n  event.stopPropagation()\n  if (anchor instanceof HTMLAnchorElement) {\n    window.location.href = anchor.getAttribute('data-excluded-url')!\n  }\n})\n\non(\n  'click',\n  '.js-open-label-creation-modal',\n  async function (event) {\n    // Prevent menu from closing\n    event.stopImmediatePropagation()\n    const modal = await dialog({\n      content: document.querySelector<HTMLTemplateElement>('.js-label-creation-template')!.content.cloneNode(true),\n      detailsClass: 'js-new-label-modal'\n    })\n    initLabelModal(modal)\n  },\n  {capture: true}\n)\n","import {on} from 'delegated-events'\n\n// Show/hide event settings when the user's overall thread subscription option changes.\non('change', '.js-thread-notification-setting', toggleEventSettings)\n\n// Validate event settings when the user's event selection changes.\non('change', '.js-custom-thread-notification-option', toggleEventSettings)\n\n// Show/hide event settings when the user dismisses the form.\non('reset', '.js-custom-thread-settings-form', toggleEventSettings)\n\nfunction toggleEventSettings() {\n  const eventSettingsVisible = document.querySelector<HTMLInputElement>('.js-reveal-custom-thread-settings')!.checked\n  const noEventSelected = !document.querySelector('.js-custom-thread-notification-option:checked')\n\n  const eventSettingsContainer = document.querySelector<HTMLElement>('.js-custom-thread-settings')!\n  const checkbox = document.querySelector<HTMLInputElement>('[data-custom-option-required-text]')!\n  const message =\n    eventSettingsVisible && noEventSelected ? checkbox.getAttribute('data-custom-option-required-text')! : ''\n\n  checkbox.setCustomValidity(message)\n  eventSettingsContainer.hidden = !eventSettingsVisible\n}\n","import '../notifications/configure-thread-subscription-dialog'\nimport {on} from 'delegated-events'\nimport {parseHTML} from '../parse-html'\nimport {remoteForm} from '@github/remote-form'\nimport {requestSubmit} from '../form'\n\nfunction submitForm(form: Element) {\n  if (form instanceof HTMLFormElement) {\n    requestSubmit(form)\n  } else {\n    previewSubmit(form)\n  }\n}\n\nfunction submitOnMenuClose(event: Event) {\n  const currentTarget = event.currentTarget as Element\n  const form = currentTarget.closest('.js-issue-sidebar-form') || currentTarget.querySelector('.js-issue-sidebar-form')\n  submitForm(form!)\n}\n\n// On item selection, submit the form\non(\n  'details-menu-selected',\n  '.js-discussion-sidebar-menu',\n  function (event) {\n    const item = event.detail.relatedTarget\n    const menu = event.currentTarget\n    const form = item.closest('.js-issue-sidebar-form')\n    const multiple = menu.hasAttribute('data-multiple')\n\n    if (item.hasAttribute('data-clear-assignees')) {\n      const selectedInputs = menu.querySelectorAll<HTMLInputElement>('input[name=\"issue[user_assignee_ids][]\"]:checked')\n      for (const el of selectedInputs) {\n        el.disabled = false\n        el.checked = false\n      }\n\n      submitForm(form)\n    } else if (multiple) {\n      menu.closest<HTMLElement>('details')!.addEventListener('toggle', submitOnMenuClose, {once: true})\n    } else {\n      submitForm(form)\n    }\n  },\n  {capture: true}\n)\n\nfunction updateSidebar(container: Element, html: string) {\n  container.replaceWith(parseHTML(document, html))\n}\n\n// TODO Replace with data-replace-remote-form behavior.\nremoteForm('.js-issue-sidebar-form', async function (form, wants) {\n  const response = await wants.html()\n  form.closest<HTMLElement>('.js-discussion-sidebar-item')!.replaceWith(response.html)\n})\n\n// Prevent suggested reviewer button on new pull request form from submitting the main form.\non('click', 'div.js-issue-sidebar-form .js-suggested-reviewer', function (event) {\n  const button = event.currentTarget as HTMLButtonElement\n\n  const form = button.closest<HTMLElement>('.js-issue-sidebar-form')!\n  previewSubmit(form, 'post', {name: button.name, value: button.value})\n  event.preventDefault()\n})\n\n// Prevent \"assign yourself\" button on the issue#new form from submitting the main form.\non('click', 'div.js-issue-sidebar-form .js-issue-assign-self', function (event) {\n  const button = event.currentTarget as HTMLButtonElement\n\n  const form = button.closest<HTMLElement>('.js-issue-sidebar-form')!\n  previewSubmit(form, 'post', {name: button.name, value: button.value})\n  event.preventDefault()\n})\n\n// Allow \"unassign me\" to submit form with method DELETE\non('click', '.js-issue-unassign-self', function (event) {\n  const form = event.currentTarget.closest<HTMLElement>('.js-issue-sidebar-form')!\n  previewSubmit(form, 'delete')\n  event.preventDefault()\n})\n\nremoteForm('.js-pages-preview-toggle-form', async function (form, wants) {\n  const response = await wants.json()\n  form.querySelector<HTMLElement>('button.btn')!.textContent = response.json.new_button_value\n})\n\n// Submit dummy sidebar preview \"form\".\n//\n// form - DIV element tagged with .js-issue-sidebar-form\n// extra - Array of extra form data to pass along\nasync function previewSubmit(form: Element, method = 'post', extra?: {name: string; value: string}) {\n  const body = scopedFormData(form)\n  if (extra) {\n    body.append(extra.name, extra.value)\n  }\n  const url = form.getAttribute('data-url')!\n  if (!url) return\n\n  const token = form.querySelector<HTMLInputElement>('.js-data-url-csrf')!\n\n  const response = await fetch(url, {\n    method,\n    body,\n    mode: 'same-origin',\n    headers: {\n      'Scoped-CSRF-Token': token.value,\n      'X-Requested-With': 'XMLHttpRequest'\n    }\n  })\n  if (!response.ok) {\n    return\n  }\n  const html = await response.text()\n  updateSidebar(form.closest<HTMLElement>('.js-discussion-sidebar-item')!, html)\n}\n\n// Since the projects tab can have overlap between the Recent tab and other\n// tabs, we need to keep all of the checkboxes for a given Project in sync.\non('change', '.js-project-menu-checkbox', function (event) {\n  const input = event.currentTarget as HTMLInputElement\n\n  const container = input.closest<HTMLElement>('.js-project-menu-container')!\n\n  for (const checkbox of container.querySelectorAll<HTMLInputElement>('.js-project-menu-checkbox')) {\n    if (checkbox === input) {\n      continue\n    }\n\n    if (checkbox.name === input.name) {\n      checkbox.checked = input.checked\n\n      // TODO: js-navigation-item should go away with <details-menu>\n      const navItem = checkbox.closest('.js-navigation-item')\n      if (navItem) navItem.classList.toggle('selected', input.checked)\n\n      // Can't fire a change event since it will create an infinite loop\n      const checkedItem = checkbox.closest('label[aria-checked]')\n      if (checkedItem) checkedItem.setAttribute('aria-checked', input.checked.toString())\n    }\n  }\n})\n\non('click', 'div.js-project-column-menu-container .js-project-column-menu-item button', async function (event) {\n  const currentTarget = event.currentTarget\n  updateProjectColumnMenuSummary(currentTarget)\n  const moveUrl = currentTarget.getAttribute('data-url')!\n  const token = currentTarget.parentElement!.querySelector<HTMLInputElement>('.js-data-url-csrf')!\n  const cardId = currentTarget.getAttribute('data-card-id')!\n  const form = new FormData()\n\n  form.append('card_id', cardId)\n  form.append('use_automation_prioritization', 'true')\n\n  event.preventDefault()\n  const response = await fetch(moveUrl, {\n    method: 'PUT',\n    mode: 'same-origin',\n    body: form,\n    headers: {\n      'Scoped-CSRF-Token': token.value,\n      'X-Requested-With': 'XMLHttpRequest'\n    }\n  })\n  if (!response.ok) {\n    return\n  }\n  // blur any active elements if they are contained within the detail\n  // to allow update-content to reload the dropdown\n  const activeElement = document.activeElement as HTMLElement\n  const container = currentTarget.closest<HTMLElement>('.js-project-column-menu-dropdown')!\n  if (activeElement && container.contains(activeElement)) {\n    try {\n      // eslint-disable-next-line github/no-blur\n      activeElement.blur()\n    } catch (e) {\n      // ignore\n    }\n  }\n})\n\nfunction updateProjectColumnMenuSummary(element: Element) {\n  const dropdown = element.closest<HTMLElement>('.js-project-column-menu-dropdown')!\n  const summary = dropdown.querySelector<HTMLElement>('.js-project-column-menu-summary')!\n  const columnName = element.getAttribute('data-column-name')!\n\n  summary.textContent = columnName\n}\n\non('click', '.js-prompt-dismiss', function (event) {\n  event.currentTarget.closest<HTMLElement>('.js-prompt')!.remove()\n})\n\n// Similar to serializeArray, but maybe scoped to a non-form.\n//\n// container - Element contained by a form to serialize the child fields for\nfunction scopedFormData(container: Element): FormData {\n  const form = container.closest<HTMLFormElement>('form')!\n  const formData = new FormData(form)\n  const params = formData.entries()\n  const results = new FormData()\n  for (const [name, value] of params) {\n    if (container.contains(findParam(form, name, value.toString()))) {\n      results.append(name, value)\n    }\n  }\n  return results\n}\n\nfunction findParam(form: HTMLFormElement, name: string, value: string): Element | null {\n  for (const el of form.elements) {\n    if (el instanceof HTMLInputElement || el instanceof HTMLTextAreaElement || el instanceof HTMLButtonElement) {\n      if (el.name === name && el.value === value) {\n        return el\n      }\n    }\n  }\n  return null\n}\n\non('click', '.js-convert-to-draft', function (event) {\n  const convertToDraftUrl = event.currentTarget.getAttribute('data-url')!\n  const token = event.currentTarget.parentElement!.querySelector<HTMLInputElement>('.js-data-url-csrf')!\n\n  fetch(convertToDraftUrl, {\n    method: 'POST',\n    mode: 'same-origin',\n    headers: {\n      'Scoped-CSRF-Token': token.value,\n      'X-Requested-With': 'XMLHttpRequest'\n    }\n  })\n})\n"],"names":["dynamicElements","Map","Object","entries","profile-pins","module","insights-graph","emoji-picker","scan","node","element","keys","customElements","get","delete","querySelector","matches","prepare","document","body","MutationObserver","mutations","size","mutation","addedNodes","Element","observe","subtree","childList","readyState","addEventListener","GitCloneHelpElement","HTMLElement","[object Object]","event","switcher","currentTarget","url","getAttribute","this","helpField","value","el","helpTexts","textContent","button","cloneURLButtons","classList","remove","add","__decorate","target","targets","controller","NotificationIndicatorElement","super","update","bind","data","detail","link","setAttribute","aria_label","ga_click","modifier","span_class","NotificationFocusModeElement","adjustSidebarPosition","sidebar","toggle","preventDefault","e","html","fetchSafeDocumentFragment","listElement","replaceContent","banner","topMargin","offsetTop","offsetHeight","style","top","NotificationFocusListElement","setTimeout","includeFragment","setupPaginationObserver","disconnectCurrentObserver","removeEventListener","listFragment","container","innerHTML","appendChild","window","IntersectionObserver","nextPageItem","currentObserver","isIntersecting","loadNextPage","root","threshold","nextPageUrl","nextPageItemSpinner","hidden","nextPage","liNotificationItems","querySelectorAll","list","receivedNextPageItem","disconnect","notificationId","listElements","find","item","closest","length","blankSlate","NotificationFocusListItemElement","form","FormData","method","action","ok","fetch","dispatchEvent","CustomEvent","bubbles","attr","NotificationFocusFiltersElement","detailsContainer","removeAttribute","setFilterTitle","href","text","filterTitle","NotificationsListSubscriptionFormElement","submitForm","closeMenu","hideGlobalError","response","self","headers","X-Requested-With","Accept","showGlobalError","json","doParam","updateCheckedState","updateMenuButtonCopy","updateSocialCount","count","applyInputsCheckedPropertiesToAttributesForNextFormReset","subscription","unwatchButtonCopy","stopIgnoringButtonCopy","watchButtonCopy","input","threadTypeCheckboxes","toggleAttribute","checked","subscriptionButtons","customButton","changeValue","socialCount","stopPropagation","menu","customDialog","focus","details","noneSelected","some","customSubmit","disabled","NotificationsTeamSubscriptionFormElement","PasswordStrengthElement","onInput","passwordStrength","passwordInput","HTMLInputElement","HTMLFormElement","result","password","options","valid","hasMinimumCharacterCount","minimumCharacterCount","hasMinimumPassphraseLength","passphraseLength","hasLowerCase","test","hasNumber","validatePassword","Number","setCustomValidity","errorHint","moreThanNCharactersEl","minCharsEl","numberReqEl","letterReqEl","errorClasses","split","filter","t","passClasses","part","charTextClasses","numberTextClasses","caseTextClasses","highlightPasswordStrengthExplainer","validate","define","PollIncludeFragmentElement","IncludeFragmentElement","request","ms","status","Promise","resolve","PreciseTimeAgoElement","RelativeTimeElement","nowElements","push","updateNowElementsId","updateNowElements","setInterval","ix","indexOf","splice","clearInterval","undefined","timeAgoDate","date","Date","getTime","sec","Math","floor","min","hr","day","remainderSec","remainderMin","remainderHr","applyPrecision","units","precision","slice","join","getFormattedDate","boundary","keyword","key","cursor","keyIndex","lastIndexOf","pre","word","substring","position","beginningOfLine","isBeginningOfLine","character","properties","propertyNamesToCopy","mirrorMap","WeakMap","textFieldSelectionPosition","field","index","selectionEnd","mirror","marker","textField","markerPosition","nodeName","toLowerCase","Error","parentElement","createElement","set","getComputedStyle","props","i","len","name","getPropertyValue","cssText","before","after","createTextNode","insertBefore","scrollTop","scrollLeft","textFieldMirror","mirrorRect","getBoundingClientRect","markerRect","left","states","SlashCommandExpander","expander","combobox","match","justPasted","oninput","onpaste","onPaste","onkeydown","onKeydown","oncommit","onCommit","onmousedown","onMousedown","onblur","onBlur","interactingWithMenu","activeElement","setMenu","destroy","deactivate","id","random","toString","append","menuItems","Combobox","parseInt","fontSize","start","navigate","beginning","remaining","insertValue","replaceCursorMark","selectionStart","cursorPattern","cursorFlagMatch","exec","replace","cancelable","setValue","milliseconds","findMatch","delay","appropriateDelay","notifyProviders","activate","found","providers","provide","all","x","matched","map","fragment","stopImmediatePropagation","SlashCommandExpanderElement","HTMLTextAreaElement","state","interactionExpected","loadingMenu","getElementsByClassName","loadingMenuClone","cloneNode","errorMenu","errorMenuClone","on","defaultPrevented","remoteForm","async","wants","err","replaceWith","fire","notes","reset","note","content","tagName","toggleSubmitButton","completer","HTMLButtonElement","contains","generateId","toFixed","ariaDescribedby","message","announceFromElement","isOk","error","successMessage","constructor","AutocompleteElement","initialize","previousController","submit","HTMLSelectElement","requestSubmit","abort","URL","location","origin","serialized","serialize","search","signal","AbortController","Request","aborted","resultsContainer","getElementById","parseHTML","replaceState","onFocus","microtask","select","debouncedSubmit","debounce","detectGravatar","gravitarUrl","has_gravatar","fetchGravatarInfo","gravatarText","subscribe","fromEvent","updateTotals","itemKey","itemRawCount","itemMinimum","itemMaximum","itemCount","itemDelta","max","contactUs","downgradeButton","params","URLSearchParams","contact","paymentSummary","billing","free","is_enterprise_cloud_trial","upgrade","downgrade","extraSeats","no_additional_seats","numberOfSeats","updateSeatFields","minimumSeatsTooltip","seats","ref","selectors","selector","getState","newDuration","oldDuration","planDurationText","planDurationAdjective","durationLink","updateDurationFields","updateSeatFieldURLs","seatsField","unitPrice","toggleDurationUnitPrices","visible","addThrottledInputEventListener","addonField","selectedRadio","newUrl","capture","query","row","includes","skipNextScrollTo","queryLineElement","anchorPrefix","line","highlightLines","blobRange","lineEl","childNodes","normalize","clearHighlights","column","end","range","DOMRangeFromBlob","span","surroundContents","scrollLinesIntoView","anchorInfo","parseFileAnchor","hash","actions","lines","firstSelected","lineTextArray","ClipboardCopyElement","gaText","setCopyLines","numLines","setViewGitBlame","permalink","permalinkContainer","HTMLAnchorElement","setPermalink","newIssueLink","newIssueUrl","setOpenIssueLink","showOrHideLineActions","scrollIntoView","hashChange","newAction","currentLines","parseBlobRange","shiftKey","callback","scrollY","scrollTo","preserveLineNumberScrollPosition","formatBlobRangeAnchor","lineNums","s","n","sort","a","b","lastActiveElement","toggleMembershipTabs","membershipTabs","setLocalJSON","localStorage","setItem","JSON","stringify","kind","report","urls","script","getElementsByTagName","src","gatherBundleURLs","read","getItem","parse","getLocalJSON","previousURLs","downloadedBundles","bundle","sendStats","actionsContainer","isItemSelected","checkedItems","Array","from","ids","bulkUrl","loaded","requestIdleCallback","currentInputIsMouse","setClass","cancelEvent","JustLoggedOutCookieName","getCookies","storage","sessionStorage","clear","clearData","deleteCookie","toggleCopyButton","clippyIcon","checkIcon","clipboardCopyElement","originalLabel","direction","file","popover","popoverContent","popoverHTML","wrapCache","activeToken","onMouseMove","regexp","y","textNode","offset","caretPositionFromPoint","caret","offsetNode","caretRangeFromPoint","startContainer","startOffset","nodeType","Node","TEXT_NODE","str","m","findNearestMatch","matchedRange","createRange","setStart","setEnd","matchFromPoint","clientX","clientY","rangeElement","commonAncestorContainer","className","didCheckText","Set","has","lang","codeBlockElement","getCodeBlockLanguage","pos","prev","previousSibling","parent","lineNumber","previousElementSibling","getRowAndColumn","urlStr","path","fetchPopoverContents","wrapper","onClick","resetScrollTop","altKey","ctrlKey","metaKey","hidePopover","token","positionPopover","populatePopover","onDocumentClick","onKeyup","onResize","showPopover","rect","getClientRects","bottom","scrollX","hasProp","hasOwnProperty","GitHubAnalytics","host","type","dimensions","measures","context","actor","image","Image","performance","expectedPerformanceTimingKeys","applyMetaTags","app","console","warn","_src","_clearPerformance","k","results","call","v","array","applyCall","_performanceTiming","_queryString","_params","paramPieces","_encodeObject","assign","performance_timing","String","_actor","cid","_clientId","timing","navigationStart","reduce","time","epoch","measure","page","_encode","_page","title","_title","referrer","_referrer","user_agent","_agent","screen_resolution","_screenResolution","pixel_ratio","_pixelRatio","browser_resolution","_browserResolution","tz_seconds","_tzSeconds","timestamp","locationOverride","HTMLMetaElement","navigator","userAgent","screen","width","height","devicePixelRatio","innerWidth","innerHeight","documentElement","clientWidth","clientHeight","getTimezoneOffset","object","pieces","isArray","subkey","j","actorPieces","actorKey","clientId","getOctolyticsId","generateOctolyticsId","string","encodeURIComponent","calls","args","loadMetaTags","setHost","setApp","_objectIsEmpty","setActor","addDimensions","addMeasures","addContext","meta","nameParts","octolyticsMetaTagName","_addField","visitorMeta","visitorHash","atob","fieldName","metaTag","obj","_octo","queuedFunctionCalls","applyQueuedCalls","togglePromoColorModes","targetChecked","targetColorMode","setClientMode","profileBanner","formData","ready","promoCheck","getClientMode","getActualClientColorMode","hidePromo","getPreferredColorMode","onKey","code","colorMode","newColorMode","oppositeColorMode","headerPromo","detailElement","open","formError","clearFormError","errors","formGroupValidationFormWrapper","handleFormError","writeTab","click","updateContent","toggleFocus","focused","blurred","commentField","handleInput","previousHasValue","newValue","trim","hasValue","textTarget","setButtonText","Boolean","createInputHandler","once","PNGScanner","buffer","dataview","DataView","reject","reader","FileReader","onload","onerror","readAsArrayBuffer","bytes","getUint8","getUint16","getUint32","advance","readInt","buf","fromCharCode","readChar","fn","readLong","readString","resumeAt","isVideo","attachment","setValidityAndLinkText","validity","placeholder","isImage","insertText","replaceText","editor","getCodeEditor","getCursor","replaceRange","getSearchCursor","findNext","activateTab","tab","isPreview","writeContent","previewBody","minHeight","currentSelectedTabs","previewForm","startLineNumber","side","startSide","startCommitOid","endCommitOid","baseCommitOid","commentId","dataToken","formTokenRef","elements","namedItem","fetchPreview","cachedFetch","empty","ppi","scanner","fromFile","ppuX","ppuY","inchesRatio","round","imageDimensions","imageSize","alt","parameterizeName","imageHref","videoMarkdown","mdLink","commentForm","TabContainerElement","toolbar","renderPreview","isPreviewPanel","relatedTarget","hasAttribute","memoize","commentBody","toUpperCase","blur","plusOneMarker","toggleReactionSuggestion","eventTarget","reactionSuggestion","l","startsWith","isReactionLikeComment","suggestionText","clearReactionSuggestion","suggestion","hotkey","confirm","hints","corpTOSLink","regTOSLink","hint","wording","planChoice","autoselect","corpTos","markdownBody","unfurl","xhr","XMLHttpRequest","send","currentlyOpenedDetailsDropdown","autofocus","summary","closeCurrentDetailsDropdown","loadDeferredContent","fireMenuToggleEvent","isOpen","compose","inputs","resetMenus","firstItem","filterableField","RemoteInputElement","activeElementId","focusEl","atLimit","originalText","revert","checkValidity","hasFile","transfer","types","disabledText","afterRemote","onDragstart","onDragend","onDragenter","onBodyDragleave","onDrop","dragging","ignorePageElementDrag","clearTimeout","dataTransfer","dropEffect","oldHref","updateFavicon","newHref","colorScheme","favicon","faviconFallback","colorSchemeSuffix","substr","newFallbackHref","newFaviconName","prefersDarkColorScheme","matchMedia","plainText","publicKey","encoded","charCodeAt","Uint8Array","decode","byte","btoa","encode","messageBytes","TextEncoder","seal","encrypt","addListener","show","show_indicator","fetchIndicator","indicators","indicator","fetchFeaturePreviewIndicator","trigger","newDialog","dialog","dialogClass","closeDetails","closeHmac","hydroEventPayload","hydroEventHmac","feature","AttachmentUpload","policy","delegate","startTime","now","Headers","header","upload_url","setRequestHeader","onloadstart","attachmentUploadDidStart","upload","onprogress","lengthComputable","percent","total","attachmentUploadDidProgress","same_origin","upload_authenticity_token","uploadForm","markComplete","attachmentUploadDidComplete","responseText","attachmentUploadDidError","uploadTiming","duration","fileType","success","asset_upload_url","asset_upload_authenticity_token","credentials","batch","saving","resetState","saved","asset","savedAttributes","policyErrorState","createDelegate","attachments","uploader","process","repoId","subjectType","subject","directory","policyForm","preprocess","policyRequest","possibleStates","Batch","sum","isSaved","every","items","dragAndDropLabel","onDocumentDrop","onDocumentDragover","onFormReset","filterList","isVisible","limit","Infinity","children","display","announce","filterInput","resetFilter","panel","FilterInputElement","originalOrder","abortController","typeAheadCache","cache","currentQueryForList","getData","queryText","typeAhead","lastSearchResult","suggestions","users","lastSearchText","cachedSuggestions","userResultCache","initializeTypeAheadCache","typeAheadData","trimmedText","inputId","inputElement","requestHeaders","searchParams","fetchQueryIfNeeded","suggestedUsers","suggestedUser","login","selected","getPreRenderedUsers","queryString","searchQuery","allItems","checkedInputBeforeFilter","removeChild","filterSort","sortKey","compare","limited","createDocumentFragment","inputStateReset","checkedInput","Event","dividers","divider","filterSortList","score","fuzzyScore","verifySsoSession","showSuggestionsHeaderOnLoad","template","existingElements","existing","cutoffPoint","nextElementSibling","queryTextEmpty","suggestionsDivider","restDivider","addItem","user","containsQueryText","matching","li","inputKey","fullName","description","avatar","class","createReviewerItem","anyVisibleNonSelectedSuggestions","selectedSuggestions","u","nonSelectedSuggestions","preSuggestionsVisibleCount","preUsersVisibleCount","substringMemoryFilterList","prefix","autocomplete","throttleWaitInMs","onInputChange","wait","removeThrottledInputEventListener","filterable","inputField","filterText","itemExists","toggleForm","firefox","isArrowKeys","switchRoleBackToOriginalState","label","scrollTargetIntoViewIfNeeded","computeFixedYOffset","scrollToFragmentTarget","hiddenBySelectMenu","hiddenByDNone","switchRoleToInputForNavigation","ALLOWED_FLASH_COOKIES","HTMLTemplateElement","flatMap","decodeURIComponent","TemplateInstance","displayFlash","noticeHandler","FuzzyListElement","fuzzyList","replyContainer","startOfContent","nextElement","touchDevice","headerMenu","onMenuToggle","onMenuHover","togglingInProgress","MouseEvent","chooseEvents","events","eventCheckbox","checkUrl","invalidNotice","protocol","insecureNotice","sslFields","checkbox","customIsSelected","hookEventsField","secretField","responseError","payload","install","uninstall","cardContentContainer","cachedFetchSafeDocumentFragment","deactivateTimer","activatingElement","mouseX","contentClass","suffix","hideCard","calculatePositions","contentWidth","contentHeight","targetX","targetY","targetHeight","targetWidth","rects","foundRect","right","selectRectNearestMouse","roomAbove","targetCenterY","containerTop","caretPaddingX","caretHeight","containerLeft","contentClassSuffix","roomRight","targetCenterX","showCard","cardContent","cardContentBody","child","visibility","pageYOffset","pageXOffset","zIndex","setZIndexOverride","positionCard","octolyticsElement","trackingData","event_type","sendOctoEvent","trackingElement","trackView","trackLoad","hovercardUrlFromTarget","baseHovercardUrl","subjectTag","tag","head","determineEnclosingSubject","pathname","activateWithTimeoutFn","minimumTimeout","hovercardType","hovercardsAreEnabledForType","hovercardUrl","forcedDelay","r","notAvailableMessage","clone","KeyboardEvent","activateFn","deactivateFn","deactivateWithTimeoutFn","targetWas","keyupFn","cancelDeactivation","toggleElements","showError","onLoad","onError","load","hmac","hydroClientContext","sendData","indeterminate","logPageView","shortcutModalShown","showKeyboardShortcuts","contexts","displayLengthWarning","maxLength","warningLength","inputValueWithNewLinesFix","remainingLength","truncatedInputValue","endsWith","warningText","warningArea","RegExp","isFormField","eventToHotkeyString","shortcut","shortcutLabel","Purpose","filterOn","currentValue","regex","currentFilters","newIcons","16","24","replaceIcon","icon","oldIcon","viewBoxWidth","newPath","firstPath","otherPaths","isFeatureEnabled","bar","progressEl","firstElementChild","incTimer","originalTransition","setWidth","newWidth","transition","increment","lastPjaxRequestUrl","pjaxMeasure","pjaxStartMark","pjaxEndMark","mark","getEntriesByName","pop","requestUrl","pjaxDuration","clearMarks","clearMeasures","onbeforeunload","capturing","simpleSelector","Window","Document","components","classes","pjaxFetch","targetEl","ancestors","parentNode","reverse","inspect","contextSelector","getContainerSelector","X-PJAX","X-PJAX-Container","preserveScrollTo","detectContainer","stripHash","textarea","opacity","captureKeypresses","url1","url2","getBackURL","history","back","relatedEvent","getForwardURL","forward","HTMLLinkElement","setPrefetchResponse","hostname","opts","clickEvent","pjaxRequest","parseURL","print","close","reload","extensionErrors","errorsReported","loadTime","stacktrace","stack","frame","filename","function","methodName","lineno","colno","parseStackTrace","framesToPop","extensions","pageUser","unloaded","proxyPayload","expectedHostname","detectProxySite","documentHostname","Blob","PerformanceObserver","Intl","WebSocket","queueMicrotask","TextDecoder","HTMLDetailsElement","prototype","sanitizedUrl","requestUri","timeSinceLoad","errorContext","formatError","reportError","isHighlightContainer","altButton","quickSubmit","quoteMarkdown","scopeSelector","copyMarkdown","findContainer","findTextarea","unwrap","codeBlock","pp","div","nodeIterator","createNodeIterator","NodeFilter","SHOW_ELEMENT","acceptNode","filters","firstChild","hasContent","FILTER_ACCEPT","FILTER_SKIP","nextNode","insertMarkdownSyntax","flavor","p","previousSelection","activeSelection","showReactionContent","hideReactionContent","defaultText","anchorNode","quote","selection","getSelection","removeAllRanges","selectAllChildren","getRangeAt","comment","reactionsContainer","reactionsHeader","newReactions","newReactionButton","persistSubmitButtonValue","req","catch","then","statusText","findPersistedSubmitButtonValue","beforeRemote","verifySso","RemotePaginationElement","setPaginationUrl","hasNextPage","submitButton","loaderWasFocused","focusMarkers","destinationEl","contents","stateClasses","timingData","resetTiming","where","renderTiming","hello","helloTimer","loadTimer","renderFailed","timeoutWatchdog","checkHello","postAsJson","renderWindow","postMessage","identity","untimed","ackmsg","cmd","ack","msg","branding","contentWindow","editorEl","bodyValue","sendEditorData","instance","change","newBody","supportedEntryTypes","longTasks","getEntries","entryTypes","selectionEnds","toggleItem","itemName","itemToHide","calculateVisibility","nav","overflowContainer","anyHidden","overflow","positionedOffset","offsetWidth","getPageID","DocumentFragment","dialogEl","asyncCalculateVisibility","reply","snippet","startLine","endLine","startColumn","dataEndColumn","parseColumnHighlightRange","highlightColumns","selectedTabSelector","navigationContainer","setForm","restoreResumableFields","persistResumableFields","previousState","isSelected","shelfParams","sessionStorageKey","storeAndStripShelfParams","pullRequestPathname","getCurrentPullRequestPathname","storeShelfParams","deleteShelfParams","performRequest","toggleSearchScope","enabled","isJumpToAvailable","inboxButton","updateNotificationStates","remoteShelfActionForm","cleanSearchParams","urlWithoutNotificationParameters","removeNotificationParams","includeFragmentEl","currentPullRequestPathname","removeItem","stored","getStoredShelfParamsForCurrentPage","baseUrl","shelfURL","markNotificationAsRead","emptyQuery","blurHandler","anchor","findFragmentTarget","behavior","SubscriptionSet","MultiMap","subscriptions","added","subscriber","topic","signatures","removed","subscribers","drain","values","Topic","signed","signature","sub","c","AliveSession","refreshUrl","shared","notify","socket","connect","sendSubscribe","sendUnsubscribe","retrying","topics","reconnect","_","handleAck","handleMessage","off","ch","fetchJSON","csrf","mode","Scoped-CSRF-Token","post","fetchRefreshUrl","retry","shutdown","liveUrl","StableSocket","timeout","attempts","eachSlice","fromEntries","unsubscribe","channels","isPresent","AliveSessionProxy","sessionId","notifier","worker","SharedWorker","port","onmessage","receive","subs","online","hangup","socketUrl","socketRefreshUrl","sessionIdentifier","session","queueSubscribe","taskQueue","flat","queueUnsubscribe","els","unsubscribeAll","offline","stale","since","entry","arrived","sessionChanged","loggedIn","flash","flashSignedIn","flashSignedOut","bc","cached","cachedAt","dispatch","BroadcastChannel","postingMessage","storageArea","updateStatusPosition","containerHeight","menuRect","iconRect","loadStatus","loader","loadingArea","errorArea","onMouseEnter","checkSudo","sudo","closeOnToggle","closeStatusPopover","closeOnScroll","scrollEvent","actor:","user:","operation:","org:","action:","repo:","country:","onvalue","isActivationKey","onchange","cachedMenu","auditMenu","getOwnPropertyNames","emojiEl","getValue","cachedEmoji","aliases","emojiScore","emojiText","emojiMenu","hideSuggestions","cachedJSON","re","hashedScore","issueNumberScore","number","asText","issues","icons","itemTemplate","unsafeHTML","render","renderResults","issueMenu","textExpander","dismiss","onclick","scorer","queryChars","indexes","starts","char","results1","allIndexesOf","indexesOfChars","shortestMatch","fuzzyScorer","chars","startingIndex","usersAndTeams","desc","mentionMenu","onValue","isLoading","handleResponse","component","footer","slashCommandExpander","commentArea","defaultFooter","previousDefaultFooterHidden","prepend","showFooter","lastElementChild","cachedCommands","fetchSlashCommands","responseType","siblingSurface","formSurface","surface","commandFormContainer","insertAdjacentElement","previouslyFocused","focusFirstFormInput","closeForm","hookUpCancelActionListeners","addDismissAlertListener","addSubmitButtonListener","handleEmbeddedForm","componentForm","handleDialogForm","surfaceForm","handleModalForm","submitOnCommandEnter","getFormContents","fieldPair","formElement","inputFocused","closeElements","closeElement","elementToListenOn","originalFormContents","confirmationMessage","currentFormContents","reenableParentFormButtons","onChange","point","space","cursorPosition","groupId","slashCommandMenu","onboardingPopover","remainingSparkleContainer","fetchingSparkleCount","handleOther","isOther","question","otherInput","isOtherSelected","required","command","previewableCommentContainer","commentTextArea","insertCommand","templateUrl","sparkleOnboardingFragment","loadSparkleOnboardingPopover","parentForm","sparkleMetadata","sparkleKeyword","sparkleUrl","buttonSparkleEmoji","newContainer","loadAndDisplayRemainingSparkleCount","hiddenInput","TagInput","selections","inputWrap","tagTemplate","autoComplete","removeTag","onKeyDown","onSubmit","selectTag","onBackspace","taggifyValueWhenSuggesterHidden","taggifyValue","normalizeTag","selectedTags","templateTag","lastSelection","members","teamHovercardEnabled","mentions","tip","xs","ListFormat","format","last","concat","sentence","setup","preservePosition","highlightedElement","TextSuggesterElement","suggestionContainer","addTimelineLastModifedHeader","requestURL","urlError","isCrossDomain","isPjax","lastModified","getTimelineLastModified","focusElement","isDetailsTargetExpanded","toggleDetailsTarget","expandDetailsIfPresent","loadElement","newTimelineItem","gid","currentTimelineItem","urlAnchor","sendVitals","metric","stat","cls","fcp","fid","lcp","ttfb","webVitalTimings","existingTimelineItems","WeakSet","setExistingTimelineItems","getEntriesByType","resourceTimings","navigationTimings","sendTimingResults","TypingEffectElement","contentElement","lineIndex","typeLines","linesAttr","State","timezone","setCookie","WebauthnGetElement","Initializing","originalButtonText","setState","supported","Ready","Unsupported","hasErrored","elem","messages","unsupportedMessage","autofocusWhenReady","Waiting","waitingMessage","errorMessage","Submitting","signResponse","SudoPasswordElementState","SudoPasswordElement","ShowingForm","revealer","passwordField","ShowingRevealer","SudoAuthElement","webauthnGet","sudoPassword","unreadCount","observer","clearUnread","rootMargin","unobserve","hasFocus","markThreadAsRead","unreadCounter","titleRe","updateTitle","findByGid","staleRecords","stateObject","urlTarget","reapplyPreviouslyUpdatedContent","hashchange","decodeFragmentValue","findElementByFragmentName","init","orgId","ownerType","ownerId","VisiblePasswordElement","showButton","hideButton","prepareUnsavedChangesWarning","hasDirtyFields","returnValue","enableSaveChangesReminder","disableSaveChangesReminder","disableSaveChangesReminderOnClosedDialogs","promptOnDialogClosing","confirmed","confirmationForms","onTransitionEnd","issueLabel","isHovercardEnabled","setLabel","playTarget","wantsPlay","iframe","bg","padding","scrollAdjustUp","scrollAdjustDown","scrollBy","adjustViewport","exports","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","reverseKeywords","cssKeywords","convert","rgb","labels","hsl","hsv","hwb","cmyk","xyz","lab","lch","hex","ansi16","ansi256","hcg","apple","model","defineProperty","deriveBFS","fromModel","graph","models","conversions","distance","buildGraph","queue","current","adjacents","adjacent","unshift","to","wrapConversion","toModel","cur","conversion","g","delta","h","rdif","gdif","bdif","diff","diffc","w","reversed","currentClosestKeyword","currentClosestDistance","z","t2","t3","val","t1","smin","lmin","hi","f","q","vmin","sl","wh","bl","ratio","y2","x2","z2","atan2","PI","sqrt","cos","sin","saturation","ansi","color","mult","rem","colorString","integer","chroma","grayscale","hue","pure","mg","forEach","routes","route","wrappedFn","arg0","wrapRounded","raw","wrapRaw","randomRGBColor","setColorSwatch","colorButton","setProperty","setInputColorFromButton","clickedButton","colorInput","showOrHideLabelError","errorSelector","errorMessages","errorEl","addErrorToField","removeErrorFromField","showLabelErrors","hideLabelErrors","updateLabelPreview","startEl","previewContainer","fullErrorMessageEl","labelID","previewArea","labelNameFrom","labelColorFrom","descriptionInput","labelDescriptionFrom","labelPreviewUrl","toggleBlankSlate","updateCount","counter","newCount","initLabelModal","modal","labelNameInput","labelName","updateInputRemainingCharacters","labelNameEl","addLabelButton","newLabelName","matchingExistingLabel","swatchesContainer","swatchButton","defaultValue","resetCharactersRemainingCounts","labelPreview","elementsToShow","editForm","elementsToHide","delayedOnLabelFormInputChange","toggleEventSettings","eventSettingsVisible","noEventSelected","eventSettingsContainer","previewSubmit","submitOnMenuClose","extra","findParam","scopedFormData","updateSidebar","getUtf8StringLength","detailsClass","multiple","selectedInputs","new_button_value","navItem","checkedItem","columnName","updateProjectColumnMenuSummary","moveUrl","cardId","convertToDraftUrl"],"mappings":"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"}