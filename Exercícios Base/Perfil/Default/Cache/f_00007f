{"version":3,"file":"chunk-vendor.js","sources":["node_modules/@github/remote-form/dist/index.js","node_modules/@github/session-resume/dist/index.js","node_modules/@github/jtml/lib/html.js","node_modules/tslib/tslib.es6.js","node_modules/delegated-events/dist/index.js","node_modules/@github/catalyst/lib/controller.js","node_modules/@github/catalyst/lib/auto-shadow-root.js","node_modules/@github/catalyst/lib/attr.js","node_modules/@github/catalyst/lib/bind.js","node_modules/@github/catalyst/lib/register.js","node_modules/@github/mini-throttle/dist/decorators.js","node_modules/@github/catalyst/lib/target.js","node_modules/@github/catalyst/lib/findtarget.js","node_modules/selector-observer/dist/index.esm.js","node_modules/@github/check-all/dist/index.js","node_modules/@github/hotkey/dist/index.js","node_modules/stacktrace-parser/dist/stack-trace-parser.esm.js","node_modules/@github/quote-selection/dist/index.js","node_modules/lit-html/lib/directive.js","node_modules/lit-html/lib/dom.js","node_modules/lit-html/lib/part.js","node_modules/lit-html/lib/template.js","node_modules/lit-html/lib/template-instance.js","node_modules/lit-html/lib/template-result.js","node_modules/lit-html/lib/parts.js","node_modules/lit-html/lib/default-template-processor.js","node_modules/lit-html/lib/template-factory.js","node_modules/lit-html/lib/render.js","node_modules/lit-html/lit-html.js","node_modules/selector-set/selector-set.next.js","node_modules/lit-html/directives/until.js","node_modules/@github/mini-throttle/dist/index.js","node_modules/@github/details-dialog-element/dist/index.js","node_modules/@github/auto-check-element/dist/index.js","node_modules/@github/clipboard-copy-element/dist/index.esm.js","node_modules/@github/details-menu-element/dist/index.js","node_modules/@github/file-attachment-element/dist/index.js","node_modules/@github/filter-input-element/dist/index.js","node_modules/@github/g-emoji-element/dist/index.js","node_modules/@github/include-fragment-element/dist/index.js","node_modules/@github/image-crop-element/dist/index.js","node_modules/@github/markdown-toolbar-element/dist/index.js","node_modules/@github/remote-input-element/dist/index.js","node_modules/@github/task-lists-element/dist/index.js","node_modules/@github/combobox-nav/dist/index.js","node_modules/@github/text-expander-element/dist/index.js","node_modules/@github/time-elements/dist/time-elements.js","node_modules/@github/auto-complete-element/dist/index.js","node_modules/@github/tab-container-element/dist/index.js","node_modules/@github/paste-markdown/dist/index.esm.js","app/assets/modules/github/include-fragment-element-hacks.ts","node_modules/@github/template-parts/lib/template-string-parser.js","node_modules/@github/template-parts/lib/attribute-template-part.js","node_modules/@github/template-parts/lib/node-template-part.js","node_modules/@github/template-parts/lib/processors.js","node_modules/@github/template-parts/lib/template-instance.js","node_modules/@github/textarea-autosize/dist/textarea-autosize.esm.js","node_modules/@github/multimap/dist/index.js","node_modules/@github/stable-socket/dist/index.js","node_modules/@github/jtml/lib/directive.js","node_modules/@github/jtml/lib/events.js","node_modules/@github/jtml/lib/unsafe-html.js","node_modules/web-vitals/dist/web-vitals.js","node_modules/lit-html/directives/if-defined.js","node_modules/lit-html/directives/repeat.js"],"sourcesContent":["// Parse HTML text into document fragment.\nfunction parseHTML(document, html) {\n    const template = document.createElement('template');\n    template.innerHTML = html;\n    return document.importNode(template.content, true);\n}\nfunction serialize(form) {\n    const params = new URLSearchParams();\n    const entries = new FormData(form).entries();\n    for (const [name, value] of [...entries]) {\n        params.append(name, value.toString());\n    }\n    return params.toString();\n}\nexport class ErrorWithResponse extends Error {\n    constructor(message, response) {\n        super(message);\n        this.response = response;\n    }\n}\nfunction makeDeferred() {\n    let resolve;\n    let reject;\n    const promise = new Promise(function (_resolve, _reject) {\n        resolve = _resolve;\n        reject = _reject;\n    });\n    return [promise, resolve, reject];\n}\nlet formHandlers;\nconst afterHandlers = [];\nconst beforeHandlers = [];\nexport function afterRemote(fn) {\n    afterHandlers.push(fn);\n}\nexport function beforeRemote(fn) {\n    beforeHandlers.push(fn);\n}\nexport function remoteForm(selector, fn) {\n    if (!formHandlers) {\n        formHandlers = new Map();\n        document.addEventListener('submit', handleSubmit);\n    }\n    const handlers = formHandlers.get(selector) || [];\n    formHandlers.set(selector, [...handlers, fn]);\n}\nexport function remoteUninstall(selector, fn) {\n    if (formHandlers) {\n        const handlers = formHandlers.get(selector) || [];\n        formHandlers.set(selector, handlers.filter(x => x !== fn));\n    }\n}\nfunction getMatches(el) {\n    const results = [];\n    for (const selector of formHandlers.keys()) {\n        if (el.matches(selector)) {\n            const handlers = formHandlers.get(selector) || [];\n            results.push(...handlers);\n        }\n    }\n    return results;\n}\nfunction handleSubmit(event) {\n    if (!(event.target instanceof HTMLFormElement)) {\n        return;\n    }\n    const form = event.target;\n    const matches = getMatches(form);\n    if (matches.length === 0) {\n        return;\n    }\n    const req = buildRequest(form);\n    const [kickerPromise, ultimateResolve, ultimateReject] = makeDeferred();\n    event.preventDefault();\n    processHandlers(matches, form, req, kickerPromise).then(async (performAsyncSubmit) => {\n        if (performAsyncSubmit) {\n            for (const handler of beforeHandlers) {\n                await handler(form);\n            }\n            // TODO: ensure that these exceptions are processed by our global error handler\n            remoteSubmit(req)\n                .then(ultimateResolve, ultimateReject)\n                // eslint-disable-next-line @typescript-eslint/no-empty-function\n                .catch(() => { })\n                .then(() => {\n                for (const handler of afterHandlers) {\n                    handler(form);\n                }\n            });\n        }\n        else {\n            // No handler called the kicker function\n            form.submit();\n        }\n    }, (err) => {\n        // TODO: special \"cancel\" error object to halt processing and avoid\n        // submitting the form\n        form.submit();\n        setTimeout(() => {\n            throw err;\n        });\n    });\n}\n// Process each handler sequentially until it either completes or calls the\n// kicker function.\nasync function processHandlers(matches, form, req, kickerPromise) {\n    let kickerWasCalled = false;\n    for (const match of matches) {\n        const [kickerCalled, kickerCalledResolve] = makeDeferred();\n        const kick = () => {\n            kickerWasCalled = true;\n            kickerCalledResolve();\n            return kickerPromise;\n        };\n        const kicker = {\n            text: kick,\n            json: () => {\n                req.headers.set('Accept', 'application/json');\n                return kick();\n            },\n            html: () => {\n                req.headers.set('Accept', 'text/html');\n                return kick();\n            }\n        };\n        await Promise.race([kickerCalled, match(form, kicker, req)]);\n    }\n    return kickerWasCalled;\n}\nfunction buildRequest(form) {\n    const req = {\n        method: form.method || 'GET',\n        url: form.action,\n        headers: new Headers({ 'X-Requested-With': 'XMLHttpRequest' }),\n        body: null\n    };\n    if (req.method.toUpperCase() === 'GET') {\n        const data = serialize(form);\n        if (data) {\n            req.url += (~req.url.indexOf('?') ? '&' : '?') + data;\n        }\n    }\n    else {\n        req.body = new FormData(form);\n    }\n    return req;\n}\nasync function remoteSubmit(req) {\n    const response = await window.fetch(req.url, {\n        method: req.method,\n        body: req.body !== null ? req.body : undefined,\n        headers: req.headers,\n        credentials: 'same-origin'\n    });\n    const res = {\n        url: response.url,\n        status: response.status,\n        statusText: response.statusText,\n        headers: response.headers,\n        text: '',\n        get json() {\n            // eslint-disable-next-line no-shadow, @typescript-eslint/no-this-alias\n            const response = this;\n            const data = JSON.parse(response.text);\n            delete response.json;\n            response.json = data;\n            return response.json;\n        },\n        get html() {\n            // eslint-disable-next-line no-shadow, @typescript-eslint/no-this-alias\n            const response = this;\n            delete response.html;\n            response.html = parseHTML(document, response.text);\n            return response.html;\n        }\n    };\n    const body = await response.text();\n    res.text = body;\n    if (response.ok) {\n        return res;\n    }\n    else {\n        throw new ErrorWithResponse('request failed', res);\n    }\n}\n//# sourceMappingURL=index.js.map","let submittedForm = null;\nfunction shouldResumeField(field) {\n    return field.id && field.value !== field.defaultValue && field.form !== submittedForm;\n}\nexport function persistResumableFields(id, options) {\n    var _a, _b;\n    const selector = (_a = options === null || options === void 0 ? void 0 : options.selector) !== null && _a !== void 0 ? _a : '.js-session-resumable';\n    const keyPrefix = (_b = options === null || options === void 0 ? void 0 : options.keyPrefix) !== null && _b !== void 0 ? _b : 'session-resume:';\n    const key = `${keyPrefix}${id}`;\n    const resumables = [];\n    for (const el of document.querySelectorAll(selector)) {\n        if (el instanceof HTMLInputElement || el instanceof HTMLTextAreaElement) {\n            resumables.push(el);\n        }\n    }\n    const fields = resumables.filter(field => shouldResumeField(field)).map(field => [field.id, field.value]);\n    if (fields.length) {\n        try {\n            sessionStorage.setItem(key, JSON.stringify(fields));\n        }\n        catch (_c) {\n        }\n    }\n}\nexport function restoreResumableFields(id, options) {\n    var _a;\n    const keyPrefix = (_a = options === null || options === void 0 ? void 0 : options.keyPrefix) !== null && _a !== void 0 ? _a : 'session-resume:';\n    const key = `${keyPrefix}${id}`;\n    let fields;\n    try {\n        fields = sessionStorage.getItem(key);\n    }\n    catch (_b) {\n    }\n    if (!fields)\n        return;\n    try {\n        sessionStorage.removeItem(key);\n    }\n    catch (_c) {\n    }\n    const changedFields = [];\n    for (const [fieldId, value] of JSON.parse(fields)) {\n        const resumeEvent = new CustomEvent('session:resume', {\n            bubbles: true,\n            cancelable: true,\n            detail: { targetId: fieldId, targetValue: value }\n        });\n        if (document.dispatchEvent(resumeEvent)) {\n            const field = document.getElementById(fieldId);\n            if (field &&\n                (field instanceof HTMLInputElement || field instanceof HTMLTextAreaElement) &&\n                field.value === field.defaultValue) {\n                field.value = value;\n                changedFields.push(field);\n            }\n        }\n    }\n    setTimeout(function () {\n        for (const el of changedFields) {\n            el.dispatchEvent(new CustomEvent('change', { bubbles: true, cancelable: true }));\n        }\n    }, 0);\n}\nexport function setForm(event) {\n    submittedForm = event.target;\n    setTimeout(function () {\n        if (event.defaultPrevented) {\n            submittedForm = null;\n        }\n    }, 0);\n}\n","import { TemplateInstance, NodeTemplatePart, createProcessor, processPropertyIdentity, processBooleanAttribute } from '@github/template-parts';\nimport { processDirective } from './directive';\nimport { processEvent } from './events';\nfunction processSubTemplate(part, value) {\n    if (value instanceof TemplateResult && part instanceof NodeTemplatePart) {\n        value.renderInto(part);\n        return true;\n    }\n    return false;\n}\nfunction processDocumentFragment(part, value) {\n    if (value instanceof DocumentFragment && part instanceof NodeTemplatePart) {\n        if (value.childNodes.length)\n            part.replace(...value.childNodes);\n        return true;\n    }\n    return false;\n}\nfunction isIterable(value) {\n    return typeof value === 'object' && Symbol.iterator in value;\n}\nfunction processIterable(part, value) {\n    if (!isIterable(value))\n        return false;\n    if (part instanceof NodeTemplatePart) {\n        const nodes = [];\n        for (const item of value) {\n            if (item instanceof TemplateResult) {\n                const fragment = document.createDocumentFragment();\n                item.renderInto(fragment);\n                nodes.push(...fragment.childNodes);\n            }\n            else if (item instanceof DocumentFragment) {\n                nodes.push(...item.childNodes);\n            }\n            else {\n                nodes.push(String(item));\n            }\n        }\n        if (nodes.length)\n            part.replace(...nodes);\n        return true;\n    }\n    else {\n        part.value = Array.from(value).join(' ');\n        return true;\n    }\n}\nexport function processPart(part, value) {\n    processDirective(part, value) ||\n        processBooleanAttribute(part, value) ||\n        processEvent(part, value) ||\n        processSubTemplate(part, value) ||\n        processDocumentFragment(part, value) ||\n        processIterable(part, value) ||\n        processPropertyIdentity(part, value);\n}\nconst templates = new WeakMap();\nconst renderedTemplates = new WeakMap();\nconst renderedTemplateInstances = new WeakMap();\nexport class TemplateResult {\n    constructor(strings, values, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.processor = processor;\n    }\n    get template() {\n        if (templates.has(this.strings)) {\n            return templates.get(this.strings);\n        }\n        else {\n            const template = document.createElement('template');\n            const end = this.strings.length - 1;\n            template.innerHTML = this.strings.reduce((str, cur, i) => str + cur + (i < end ? `{{ ${i} }}` : ''), '');\n            templates.set(this.strings, template);\n            return template;\n        }\n    }\n    renderInto(element) {\n        const template = this.template;\n        if (renderedTemplates.get(element) !== template) {\n            renderedTemplates.set(element, template);\n            const instance = new TemplateInstance(template, this.values, this.processor);\n            renderedTemplateInstances.set(element, instance);\n            if (element instanceof NodeTemplatePart) {\n                element.replace(...instance.children);\n            }\n            else {\n                element.appendChild(instance);\n            }\n            return;\n        }\n        renderedTemplateInstances.get(element).update(this.values);\n    }\n}\nconst defaultProcessor = createProcessor(processPart);\nexport function html(strings, ...values) {\n    return new TemplateResult(strings, values, defaultProcessor);\n}\nexport function render(result, element) {\n    result.renderInto(element);\n}\n//# sourceMappingURL=html.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import SelectorSet from 'selector-set';\n\nvar bubbleEvents = {};\nvar captureEvents = {};\nvar propagationStopped = new WeakMap();\nvar immediatePropagationStopped = new WeakMap();\nvar currentTargets = new WeakMap();\nvar currentTargetDesc = Object.getOwnPropertyDescriptor(Event.prototype, 'currentTarget');\n\nfunction before(subject, verb, fn) {\n  var source = subject[verb];\n\n  subject[verb] = function () {\n    fn.apply(subject, arguments);\n    return source.apply(subject, arguments);\n  };\n\n  return subject;\n}\n\nfunction matches(selectors, target, reverse) {\n  var queue = [];\n  var node = target;\n\n  do {\n    if (node.nodeType !== 1) break;\n\n    var _matches = selectors.matches(node);\n\n    if (_matches.length) {\n      var matched = {\n        node: node,\n        observers: _matches\n      };\n\n      if (reverse) {\n        queue.unshift(matched);\n      } else {\n        queue.push(matched);\n      }\n    }\n  } while (node = node.parentElement);\n\n  return queue;\n}\n\nfunction trackPropagation() {\n  propagationStopped.set(this, true);\n}\n\nfunction trackImmediate() {\n  propagationStopped.set(this, true);\n  immediatePropagationStopped.set(this, true);\n}\n\nfunction getCurrentTarget() {\n  return currentTargets.get(this) || null;\n}\n\nfunction defineCurrentTarget(event, getter) {\n  if (!currentTargetDesc) return;\n  Object.defineProperty(event, 'currentTarget', {\n    configurable: true,\n    enumerable: true,\n    get: getter || currentTargetDesc.get\n  });\n}\n\nfunction canDispatch(event) {\n  try {\n    event.eventPhase;\n    return true;\n  } catch (_) {\n    return false;\n  }\n}\n\nfunction dispatch(event) {\n  if (!canDispatch(event)) return;\n  var events = event.eventPhase === 1 ? captureEvents : bubbleEvents;\n  var selectors = events[event.type];\n  if (!selectors) return;\n  var queue = matches(selectors, event.target, event.eventPhase === 1);\n  if (!queue.length) return;\n  before(event, 'stopPropagation', trackPropagation);\n  before(event, 'stopImmediatePropagation', trackImmediate);\n  defineCurrentTarget(event, getCurrentTarget);\n\n  for (var i = 0, len1 = queue.length; i < len1; i++) {\n    if (propagationStopped.get(event)) break;\n    var matched = queue[i];\n    currentTargets.set(event, matched.node);\n\n    for (var j = 0, len2 = matched.observers.length; j < len2; j++) {\n      if (immediatePropagationStopped.get(event)) break;\n      matched.observers[j].data.call(matched.node, event);\n    }\n  }\n\n  currentTargets[\"delete\"](event);\n  defineCurrentTarget(event);\n}\n\nfunction on(name, selector, fn) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var capture = options.capture ? true : false;\n  var events = capture ? captureEvents : bubbleEvents;\n  var selectors = events[name];\n\n  if (!selectors) {\n    selectors = new SelectorSet();\n    events[name] = selectors;\n    document.addEventListener(name, dispatch, capture);\n  }\n\n  selectors.add(selector, fn);\n}\nfunction off(name, selector, fn) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var capture = options.capture ? true : false;\n  var events = capture ? captureEvents : bubbleEvents;\n  var selectors = events[name];\n  if (!selectors) return;\n  selectors.remove(selector, fn);\n  if (selectors.size) return;\n  delete events[name];\n  document.removeEventListener(name, dispatch, capture);\n}\nfunction fire(target, name, detail) {\n  return target.dispatchEvent(new CustomEvent(name, {\n    bubbles: true,\n    cancelable: true,\n    detail: detail\n  }));\n}\n\nexport { fire, off, on };\n","import { register } from './register.js';\nimport { bind } from './bind.js';\nimport { autoShadowRoot } from './auto-shadow-root.js';\nimport { defineObservedAttributes, initializeAttrs } from './attr.js';\n/**\n * Controller is a decorator to be used over a class that extends HTMLElement.\n * It will automatically `register()` the component in the customElement\n * registry, as well as ensuring `bind(this)` is called on `connectedCallback`,\n * wrapping the classes `connectedCallback` method if needed.\n */\nexport function controller(classObject) {\n    const connect = classObject.prototype.connectedCallback;\n    classObject.prototype.connectedCallback = function () {\n        this.toggleAttribute('data-catalyst', true);\n        autoShadowRoot(this);\n        initializeAttrs(this);\n        if (connect)\n            connect.call(this);\n        bind(this);\n    };\n    defineObservedAttributes(classObject);\n    register(classObject);\n}\n//# sourceMappingURL=controller.js.map","export function autoShadowRoot(element) {\n    for (const template of element.querySelectorAll('template[data-shadowroot]')) {\n        if (template.parentElement === element) {\n            element\n                .attachShadow({\n                mode: template.getAttribute('data-shadowroot') === 'closed' ? 'closed' : 'open'\n            })\n                .append(template.content.cloneNode(true));\n        }\n    }\n}\n//# sourceMappingURL=auto-shadow-root.js.map","const attrs = new WeakMap();\n/**\n * Attr is a decorator which tags a property as one to be initialized via\n * `initializeAttrs`.\n *\n * The signature is typed such that the property must be one of a String,\n * Number or Boolean. This matches the behavior of `initializeAttrs`.\n */\nexport function attr(proto, key) {\n    if (!attrs.has(proto))\n        attrs.set(proto, []);\n    attrs.get(proto).push(key);\n}\n/**\n * initializeAttrs is called with a set of class property names (if omitted, it\n * will look for any properties tagged with the `@attr` decorator). With this\n * list it defines property descriptors for each property that map to `data-*`\n * attributes on the HTMLElement instance.\n *\n * It works around Native Class Property semantics - which are equivalent to\n * calling `Object.defineProperty` on the instance upon creation, but before\n * `constructor()` is called.\n *\n * If a class property is assigned to the class body, it will infer the type\n * (using `typeof`) and define an appropriate getter/setter combo that aligns\n * to that type. This means class properties assigned to Numbers can only ever\n * be Numbers, assigned to Booleans can only ever be Booleans, and assigned to\n * Strings can only ever be Strings.\n *\n * This is automatically called as part of `@controller`. If a class uses the\n * `@controller` decorator it should not call this manually.\n */\nexport function initializeAttrs(instance, names) {\n    if (!names)\n        names = attrs.get(Object.getPrototypeOf(instance)) || [];\n    for (const key of names) {\n        const value = instance[key];\n        const name = attrToAttributeName(key);\n        let descriptor = {\n            get() {\n                return this.getAttribute(name) || '';\n            },\n            set(newValue) {\n                this.setAttribute(name, newValue || '');\n            }\n        };\n        if (typeof value === 'number') {\n            descriptor = {\n                get() {\n                    return Number(this.getAttribute(name) || 0);\n                },\n                set(newValue) {\n                    this.setAttribute(name, newValue);\n                }\n            };\n        }\n        else if (typeof value === 'boolean') {\n            descriptor = {\n                get() {\n                    return this.hasAttribute(name);\n                },\n                set(newValue) {\n                    this.toggleAttribute(name, newValue);\n                }\n            };\n        }\n        Object.defineProperty(instance, key, descriptor);\n        if (key in instance && !instance.hasAttribute(name)) {\n            descriptor.set.call(instance, value);\n        }\n    }\n}\nfunction attrToAttributeName(name) {\n    return `data-${name.replace(/([A-Z]($|[a-z]))/g, '-$1')}`.replace(/--/g, '-').toLowerCase();\n}\nexport function defineObservedAttributes(classObject) {\n    let observed = classObject.observedAttributes || [];\n    Object.defineProperty(classObject, 'observedAttributes', {\n        get() {\n            const attrMap = attrs.get(classObject.prototype);\n            if (!attrMap)\n                return observed;\n            return attrMap.map(attrToAttributeName).concat(observed);\n        },\n        set(attributes) {\n            observed = attributes;\n        }\n    });\n}\n//# sourceMappingURL=attr.js.map","const controllers = new WeakSet();\n/*\n * Bind `[data-action]` elements from the DOM to their actions.\n *\n */\nexport function bind(controller) {\n    controllers.add(controller);\n    if (controller.shadowRoot) {\n        bindElements(controller.shadowRoot);\n        listenForBind(controller.shadowRoot);\n    }\n    bindElements(controller);\n    listenForBind(controller.ownerDocument);\n}\nconst observers = new WeakMap();\n/**\n * Set up observer that will make sure any actions that are dynamically\n * injected into `el` will be bound to it's controller.\n *\n * This returns a Subscription object which you can call `unsubscribe()` on to\n * stop further live updates.\n */\nexport function listenForBind(el = document) {\n    if (observers.has(el))\n        return observers.get(el);\n    let closed = false;\n    const observer = new MutationObserver(mutations => {\n        for (const mutation of mutations) {\n            if (mutation.type === 'attributes' && mutation.target instanceof Element) {\n                bindActions(mutation.target);\n            }\n            else if (mutation.type === 'childList' && mutation.addedNodes.length) {\n                for (const node of mutation.addedNodes) {\n                    if (node instanceof Element) {\n                        bindElements(node);\n                    }\n                }\n            }\n        }\n    });\n    observer.observe(el, { childList: true, subtree: true, attributeFilter: ['data-action'] });\n    const subscription = {\n        get closed() {\n            return closed;\n        },\n        unsubscribe() {\n            closed = true;\n            observers.delete(el);\n            observer.disconnect();\n        }\n    };\n    observers.set(el, subscription);\n    return subscription;\n}\nfunction bindElements(root) {\n    for (const el of root.querySelectorAll('[data-action]')) {\n        bindActions(el);\n    }\n    // Also bind the controller to itself\n    if (root instanceof Element && root.hasAttribute('data-action')) {\n        bindActions(root);\n    }\n}\n// Bind a single function to all events to avoid anonymous closure performance penalty.\nfunction handleEvent(event) {\n    const el = event.currentTarget;\n    for (const binding of bindings(el)) {\n        if (event.type === binding.type) {\n            const controller = el.closest(binding.tag);\n            if (controllers.has(controller) && typeof controller[binding.method] === 'function') {\n                controller[binding.method](event);\n            }\n            const root = el.getRootNode();\n            if (root instanceof ShadowRoot && controllers.has(root.host) && root.host.matches(binding.tag)) {\n                const shadowController = root.host;\n                if (typeof shadowController[binding.method] === 'function') {\n                    shadowController[binding.method](event);\n                }\n            }\n        }\n    }\n}\nfunction* bindings(el) {\n    for (const action of (el.getAttribute('data-action') || '').trim().split(/\\s+/)) {\n        const eventSep = action.lastIndexOf(':');\n        const methodSep = action.lastIndexOf('#');\n        yield {\n            type: action.slice(0, eventSep),\n            tag: action.slice(eventSep + 1, methodSep),\n            method: action.slice(methodSep + 1)\n        };\n    }\n}\nfunction bindActions(el) {\n    for (const binding of bindings(el)) {\n        el.addEventListener(binding.type, handleEvent);\n    }\n}\n//# sourceMappingURL=bind.js.map","/**\n * Register the controller as a custom element.\n *\n * The classname is converted to a approriate tag name.\n *\n * Example: HelloController => hello-controller\n */\nexport function register(classObject) {\n    const name = classObject.name\n        .replace(/([A-Z]($|[a-z]))/g, '-$1')\n        .replace(/(^-|-Element$)/g, '')\n        .toLowerCase();\n    if (!window.customElements.get(name)) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        window[classObject.name] = classObject;\n        window.customElements.define(name, classObject);\n    }\n}\n//# sourceMappingURL=register.js.map","import { debounce as db, throttle as th } from './index';\nexport function throttle(wait = 0, opts = {}) {\n    return (proto, name, descriptor) => {\n        if (!descriptor || typeof descriptor.value !== 'function') {\n            throw new Error('debounce can only decorate functions');\n        }\n        const fn = descriptor.value;\n        descriptor.value = th(fn, wait, opts);\n        Object.defineProperty(proto, name, descriptor);\n    };\n}\nexport function debounce(wait = 0, opts = {}) {\n    return (proto, name, descriptor) => {\n        if (!descriptor || typeof descriptor.value !== 'function') {\n            throw new Error('debounce can only decorate functions');\n        }\n        const fn = descriptor.value;\n        descriptor.value = db(fn, wait, opts);\n        Object.defineProperty(proto, name, descriptor);\n    };\n}\n","import { findTarget, findTargets } from './findtarget.js';\n/**\n * Target is a decorator which - when assigned to a property field on the\n * class - will override that class field, turning it into a Getter which\n * returns a call to `findTarget(this, key)` where `key` is the name of the\n * property field. In other words, `@target foo` becomes a getter for\n * `findTarget(this, 'foo')`.\n */\nexport function target(proto, key) {\n    return Object.defineProperty(proto, key, {\n        configurable: true,\n        get() {\n            return findTarget(this, key);\n        }\n    });\n}\n/**\n * Targets is a decorator which - when assigned to a property field on the\n * class - will override that class field, turning it into a Getter which\n * returns a call to `findTargets(this, key)` where `key` is the name of the\n * property field. In other words, `@targets foo` becomes a getter for\n * `findTargets(this, 'foo')`.\n */\nexport function targets(proto, key) {\n    return Object.defineProperty(proto, key, {\n        configurable: true,\n        get() {\n            return findTargets(this, key);\n        }\n    });\n}\n//# sourceMappingURL=target.js.map","/**\n * findTarget will run `querySelectorAll` against the given controller, plus\n * its shadowRoot, returning any the first child that:\n *\n *  - Matches the selector of `[data-target~=\"tag.name\"]` where tag is the\n *  tagName of the given HTMLElement, and `name` is the given `name` argument.\n *\n *  - Closest ascendant of the element, that matches the tagname of the\n *  controller, is the specific instance of the controller itself - in other\n *  words it is not nested in other controllers of the same type.\n *\n */\nexport function findTarget(controller, name) {\n    const tag = controller.tagName.toLowerCase();\n    if (controller.shadowRoot) {\n        for (const el of controller.shadowRoot.querySelectorAll(`[data-target~=\"${tag}.${name}\"]`)) {\n            if (!el.closest(tag))\n                return el;\n        }\n    }\n    for (const el of controller.querySelectorAll(`[data-target~=\"${tag}.${name}\"]`)) {\n        if (el.closest(tag) === controller)\n            return el;\n    }\n}\nexport function findTargets(controller, name) {\n    const tag = controller.tagName.toLowerCase();\n    const targets = [];\n    if (controller.shadowRoot) {\n        for (const el of controller.shadowRoot.querySelectorAll(`[data-targets~=\"${tag}.${name}\"]`)) {\n            if (!el.closest(tag))\n                targets.push(el);\n        }\n    }\n    for (const el of controller.querySelectorAll(`[data-targets~=\"${tag}.${name}\"]`)) {\n        if (el.closest(tag) === controller)\n            targets.push(el);\n    }\n    return targets;\n}\n//# sourceMappingURL=findtarget.js.map","import SelectorSet from 'selector-set';\n\nvar el = null;\nvar observer = null;\nvar queue = [];\n\nfunction scheduleBatch(document, callback) {\n  var calls = [];\n\n  function processBatchQueue() {\n    var callsCopy = calls;\n    calls = [];\n    callback(callsCopy);\n  }\n\n  function scheduleBatchQueue() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    calls.push(args);\n    if (calls.length === 1) scheduleMacroTask(document, processBatchQueue);\n  }\n\n  return scheduleBatchQueue;\n}\n\nfunction scheduleMacroTask(document, callback) {\n  if (!observer) {\n    observer = new MutationObserver(handleMutations);\n  }\n\n  if (!el) {\n    el = document.createElement('div');\n    observer.observe(el, { attributes: true });\n  }\n\n  queue.push(callback);\n  el.setAttribute('data-twiddle', '' + Date.now());\n}\n\nfunction handleMutations() {\n  var callbacks = queue;\n  queue = [];\n  for (var i = 0; i < callbacks.length; i++) {\n    try {\n      callbacks[i]();\n    } catch (error) {\n      setTimeout(function () {\n        throw error;\n      }, 0);\n    }\n  }\n}\n\n// selector-observer processes dom mutations in two phases. This module applies\n// the Change set from the first phase and invokes the any registered hooks.\n\nvar initMap = new WeakMap();\nvar initializerMap = new WeakMap();\nvar subscriptionMap = new WeakMap();\nvar addMap = new WeakMap();\n\nfunction applyChanges(selectorObserver, changes) {\n  for (var i = 0; i < changes.length; i++) {\n    var change = changes[i];\n    var type = change[0];\n    var el = change[1];\n    var observer = change[2];\n    if (type === ADD) {\n      runInit(observer, el);\n      runAdd(observer, el);\n    } else if (type === REMOVE) {\n      runRemove(observer, el);\n    } else if (type === REMOVE_ALL) {\n      runRemoveAll(selectorObserver.observers, el);\n    }\n  }\n}\n\n// Run observer node \"initialize\" callback once.\n// Call when observer selector matches node.\n//\n// observer - An observer Object.\n// el       - An Element\n//\n// Returns nothing.\nfunction runInit(observer, el) {\n  if (!(el instanceof observer.elementConstructor)) {\n    return;\n  }\n\n  var initIds = initMap.get(el);\n  if (!initIds) {\n    initIds = [];\n    initMap.set(el, initIds);\n  }\n\n  if (initIds.indexOf(observer.id) === -1) {\n    var initializer = void 0;\n    if (observer.initialize) {\n      initializer = observer.initialize.call(undefined, el);\n    }\n    if (initializer) {\n      var initializers = initializerMap.get(el);\n      if (!initializers) {\n        initializers = {};\n        initializerMap.set(el, initializers);\n      }\n      initializers['' + observer.id] = initializer;\n    }\n    initIds.push(observer.id);\n  }\n}\n\n// Run observer node \"add\" callback.\n// Call when observer selector matches node.\n//\n// observer - An observer Object.\n// el       - An Element\n//\n// Returns nothing.\nfunction runAdd(observer, el) {\n  if (!(el instanceof observer.elementConstructor)) {\n    return;\n  }\n\n  var addIds = addMap.get(el);\n  if (!addIds) {\n    addIds = [];\n    addMap.set(el, addIds);\n  }\n\n  if (addIds.indexOf(observer.id) === -1) {\n    observer.elements.push(el);\n\n    var initializers = initializerMap.get(el);\n    var initializer = initializers ? initializers['' + observer.id] : null;\n    if (initializer && initializer.add) {\n      initializer.add.call(undefined, el);\n    }\n\n    if (observer.subscribe) {\n      var subscription = observer.subscribe.call(undefined, el);\n      if (subscription) {\n        var subscriptions = subscriptionMap.get(el);\n        if (!subscriptions) {\n          subscriptions = {};\n          subscriptionMap.set(el, subscriptions);\n        }\n        subscriptions['' + observer.id] = subscription;\n      }\n    }\n\n    if (observer.add) {\n      observer.add.call(undefined, el);\n    }\n\n    addIds.push(observer.id);\n  }\n}\n\n// Runs all observer element \"remove\" callbacks.\n// Call when element is completely removed from the DOM.\n//\n// observer - An observer Object.\n// el       - An Element\n//\n// Returns nothing.\nfunction runRemove(observer, el) {\n  if (!(el instanceof observer.elementConstructor)) {\n    return;\n  }\n\n  var addIds = addMap.get(el);\n  if (!addIds) {\n    return;\n  }\n\n  var index = observer.elements.indexOf(el);\n  if (index !== -1) {\n    observer.elements.splice(index, 1);\n  }\n\n  index = addIds.indexOf(observer.id);\n  if (index !== -1) {\n    var initializers = initializerMap.get(el);\n    var initializer = initializers ? initializers['' + observer.id] : null;\n    if (initializer) {\n      if (initializer.remove) {\n        initializer.remove.call(undefined, el);\n      }\n    }\n\n    if (observer.subscribe) {\n      var subscriptions = subscriptionMap.get(el);\n      var subscription = subscriptions ? subscriptions['' + observer.id] : null;\n      if (subscription && subscription.unsubscribe) {\n        subscription.unsubscribe();\n      }\n    }\n\n    if (observer.remove) {\n      observer.remove.call(undefined, el);\n    }\n\n    addIds.splice(index, 1);\n  }\n\n  if (addIds.length === 0) {\n    addMap.delete(el);\n  }\n}\n\n// Runs all observer element \"remove\" callbacks.\n// Call when element is completely removed from the DOM.\n//\n// observes - Array of observers\n// el - An Element\n//\n// Returns nothing.\nfunction runRemoveAll(observers, el) {\n  var addIds = addMap.get(el);\n  if (!addIds) {\n    return;\n  }\n\n  var ids = addIds.slice(0);\n  for (var i = 0; i < ids.length; i++) {\n    var observer = observers[ids[i]];\n    if (!observer) {\n      continue;\n    }\n\n    var index = observer.elements.indexOf(el);\n    if (index !== -1) {\n      observer.elements.splice(index, 1);\n    }\n\n    var initializers = initializerMap.get(el);\n    var initializer = initializers ? initializers['' + observer.id] : null;\n    if (initializer && initializer.remove) {\n      initializer.remove.call(undefined, el);\n    }\n\n    var subscriptions = subscriptionMap.get(el);\n    var subscription = subscriptions ? subscriptions['' + observer.id] : null;\n    if (subscription && subscription.unsubscribe) {\n      subscription.unsubscribe();\n    }\n\n    if (observer.remove) {\n      observer.remove.call(undefined, el);\n    }\n  }\n  addMap.delete(el);\n}\n\nvar innerHTMLReplacementIsBuggy = null;\n\n// In IE 9/10/11 replacing child via innerHTML will orphan all of the child\n// elements. This prevents walking the descendants of removedNodes.\n// https://connect.microsoft.com/IE/feedback/details/797844/ie9-10-11-dom-child-kill-bug\nfunction detectInnerHTMLReplacementBuggy(document) {\n  if (innerHTMLReplacementIsBuggy === null) {\n    var a = document.createElement('div');\n    var b = document.createElement('div');\n    var c = document.createElement('div');\n    a.appendChild(b);\n    b.appendChild(c);\n    a.innerHTML = '';\n    innerHTMLReplacementIsBuggy = c.parentNode !== b;\n  }\n  return innerHTMLReplacementIsBuggy;\n}\n\nfunction supportsSelectorMatching(node) {\n  return 'matches' in node || 'webkitMatchesSelector' in node || 'mozMatchesSelector' in node || 'oMatchesSelector' in node || 'msMatchesSelector' in node;\n}\n\n// selector-observer processes dom mutations in two phases. This module\n// processes DOM mutations, revalidates selectors against the target element and\n// enqueues a Change for an observers hooks to be ran.\n\n// A set of Changes is structured as an Array of tuples:\n//\n// [ADD, element, observer]: Indicates that an observer starting matching\n// the element.\nvar ADD = 1;\n\n// [REMOVE, element, observer]: Indicates that an observer stopped matching\n// the element.\nvar REMOVE = 2;\n\n// [REMOVE_ALL, element]: Indicates that an element was removed from the\n// document and all related observers stopped matching the element.\nvar REMOVE_ALL = 3;\n\n// A handler for processing MutationObserver mutations.\n//\n// selectorObserver - The SelectorObserver\n// changes - Array of changes to append to\n// mutations - An array of MutationEvents\n//\n// Return nothing.\nfunction handleMutations$1(selectorObserver, changes, mutations) {\n  for (var i = 0; i < mutations.length; i++) {\n    var mutation = mutations[i];\n    if (mutation.type === 'childList') {\n      addNodes(selectorObserver, changes, mutation.addedNodes);\n      removeNodes(selectorObserver, changes, mutation.removedNodes);\n    } else if (mutation.type === 'attributes') {\n      revalidateObservers(selectorObserver, changes, mutation.target);\n    }\n  }\n  if (detectInnerHTMLReplacementBuggy(selectorObserver.ownerDocument)) {\n    revalidateOrphanedElements(selectorObserver, changes);\n  }\n}\n\n// Run observer node \"add\" callback once on the any matching\n// node and its subtree.\n//\n// selectorObserver - The SelectorObserver\n// changes - Array of changes to append to\n// nodes   - A NodeList of Nodes\n//\n// Returns nothing.\nfunction addNodes(selectorObserver, changes, nodes) {\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n\n    if (supportsSelectorMatching(node)) {\n      var matches = selectorObserver.selectorSet.matches(node);\n      for (var j = 0; j < matches.length; j++) {\n        var data = matches[j].data;\n\n        changes.push([ADD, node, data]);\n      }\n    }\n\n    if ('querySelectorAll' in node) {\n      var matches2 = selectorObserver.selectorSet.queryAll(node);\n      for (var _j = 0; _j < matches2.length; _j++) {\n        var _matches2$_j = matches2[_j],\n            _data = _matches2$_j.data,\n            elements = _matches2$_j.elements;\n\n        for (var k = 0; k < elements.length; k++) {\n          changes.push([ADD, elements[k], _data]);\n        }\n      }\n    }\n  }\n}\n\n// Run all observer node \"remove\" callbacks on the node\n// and its entire subtree.\n//\n// selectorObserver - The SelectorObserver\n// changes - Array of changes to append to\n// nodes   - A NodeList of Nodes\n//\n// Returns nothing.\nfunction removeNodes(selectorObserver, changes, nodes) {\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n    if ('querySelectorAll' in node) {\n      changes.push([REMOVE_ALL, node]);\n      var descendants = node.querySelectorAll('*');\n      for (var j = 0; j < descendants.length; j++) {\n        changes.push([REMOVE_ALL, descendants[j]]);\n      }\n    }\n  }\n}\n\n// Recheck all \"add\" observers to see if the selector still matches.\n// If not, run the \"remove\" callback.\n//\n// selectorObserver - The SelectorObserver\n// changes - Array of changes to append to\n// node    - A Node\n//\n// Returns nothing.\nfunction revalidateObservers(selectorObserver, changes, node) {\n  if (supportsSelectorMatching(node)) {\n    var matches = selectorObserver.selectorSet.matches(node);\n    for (var i = 0; i < matches.length; i++) {\n      var data = matches[i].data;\n\n      changes.push([ADD, node, data]);\n    }\n  }\n\n  if ('querySelectorAll' in node) {\n    var ids = addMap.get(node);\n    if (ids) {\n      for (var _i = 0; _i < ids.length; _i++) {\n        var observer = selectorObserver.observers[ids[_i]];\n        if (observer) {\n          if (!selectorObserver.selectorSet.matchesSelector(node, observer.selector)) {\n            changes.push([REMOVE, node, observer]);\n          }\n        }\n      }\n    }\n  }\n}\n\n// Recheck all \"add\" observers to see if the selector still matches.\n// If not, run the \"remove\" callback. Runs on node and all its descendants.\n//\n// selectorObserver - The SelectorObserver\n// changes - Array of changes to append to\n// node    - The root Node\n//\n// Returns nothing.\nfunction revalidateDescendantObservers(selectorObserver, changes, node) {\n  if ('querySelectorAll' in node) {\n    revalidateObservers(selectorObserver, changes, node);\n    var descendants = node.querySelectorAll('*');\n    for (var i = 0; i < descendants.length; i++) {\n      revalidateObservers(selectorObserver, changes, descendants[i]);\n    }\n  }\n}\n\n// Recheck input after \"change\" event and possible related form elements.\n//\n// selectorObserver - The SelectorObserver\n// changes - Array of changes to append to\n// input   - The HTMLInputElement\n//\n// Returns nothing.\nfunction revalidateInputObservers(selectorObserver, changes, inputs) {\n  for (var i = 0; i < inputs.length; i++) {\n    var input = inputs[i];\n    var els = input.form ? input.form.elements : selectorObserver.rootNode.querySelectorAll('input');\n    for (var j = 0; j < els.length; j++) {\n      revalidateObservers(selectorObserver, changes, els[j]);\n    }\n  }\n}\n\n// Check all observed elements to see if they are still in the DOM.\n// Only intended to run on IE where innerHTML replacement is buggy.\n//\n// selectorObserver - The SelectorObserver\n// changes - Array of changes to append to\n//\n// Returns nothing.\nfunction revalidateOrphanedElements(selectorObserver, changes) {\n  for (var i = 0; i < selectorObserver.observers.length; i++) {\n    var observer = selectorObserver.observers[i];\n    if (observer) {\n      var elements = observer.elements;\n\n      for (var j = 0; j < elements.length; j++) {\n        var el = elements[j];\n        if (!el.parentNode) {\n          changes.push([REMOVE_ALL, el]);\n        }\n      }\n    }\n  }\n}\n\nfunction whenReady(document, callback) {\n  var readyState = document.readyState;\n  if (readyState === 'interactive' || readyState === 'complete') {\n    scheduleMacroTask(document, callback);\n  } else {\n    document.addEventListener('DOMContentLoaded', scheduleMacroTask(document, callback));\n  }\n}\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n// Observer uid counter\nvar uid = 0;\n\nfunction SelectorObserver(rootNode) {\n  this.rootNode = rootNode.nodeType === 9 ? rootNode.documentElement : rootNode;\n  this.ownerDocument = rootNode.nodeType === 9 ? rootNode : rootNode.ownerDocument;\n\n  // Map of observer id to object\n  this.observers = [];\n\n  // Index of selectors to observer objects\n  this.selectorSet = new SelectorSet();\n\n  // Process all mutations from root element\n  this.mutationObserver = new MutationObserver(handleRootMutations.bind(this, this));\n\n  this._scheduleAddRootNodes = scheduleBatch(this.ownerDocument, addRootNodes.bind(this, this));\n\n  this._handleThrottledChangedTargets = scheduleBatch(this.ownerDocument, handleChangedTargets.bind(this, this));\n  this.rootNode.addEventListener('change', handleChangeEvents.bind(this, this), false);\n\n  whenReady(this.ownerDocument, onReady.bind(this, this));\n}\n\nSelectorObserver.prototype.disconnect = function () {\n  this.mutationObserver.disconnect();\n};\n\n// Register a new observer.\n//\n// selector - String CSS selector.\n// handlers - Initialize Function or Object with keys:\n//   initialize - Function to invoke once when Node is first matched\n//   add        - Function to invoke when Node matches selector\n//   remove     - Function to invoke when Node no longer matches selector\n//   subscribe  - Function to invoke when Node matches selector and returns Subscription.\n//\n// Returns Observer object.\nSelectorObserver.prototype.observe = function (a, b) {\n  var handlers = void 0;\n\n  if (typeof b === 'function') {\n    handlers = {\n      selector: a,\n      initialize: b\n    };\n  } else if ((typeof b === 'undefined' ? 'undefined' : _typeof(b)) === 'object') {\n    handlers = b;\n    handlers.selector = a;\n  } else {\n    handlers = a;\n  }\n\n  var self = this;\n\n  var observer = {\n    id: uid++,\n    selector: handlers.selector,\n    initialize: handlers.initialize,\n    add: handlers.add,\n    remove: handlers.remove,\n    subscribe: handlers.subscribe,\n    elements: [],\n    elementConstructor: handlers.hasOwnProperty('constructor') ? handlers.constructor : this.ownerDocument.defaultView.Element,\n    abort: function abort() {\n      self._abortObserving(observer);\n    }\n  };\n  this.selectorSet.add(observer.selector, observer);\n  this.observers[observer.id] = observer;\n  this._scheduleAddRootNodes();\n\n  return observer;\n};\n\n// Removes observer and calls any remaining remove hooks.\n//\n// observer - Observer object\n//\n// Returns nothing.\nSelectorObserver.prototype._abortObserving = function (observer) {\n  var elements = observer.elements;\n  for (var i = 0; i < elements.length; i++) {\n    runRemove(observer, elements[i]);\n  }\n  this.selectorSet.remove(observer.selector, observer);\n  delete this.observers[observer.id];\n};\n\n// Internal: For hacking in dirty changes that aren't getting picked up\nSelectorObserver.prototype.triggerObservers = function (container) {\n  var changes = [];\n  revalidateDescendantObservers(this, changes, container);\n  applyChanges(this, changes);\n};\n\nfunction onReady(selectorObserver) {\n  selectorObserver.mutationObserver.observe(selectorObserver.rootNode, {\n    childList: true,\n    attributes: true,\n    subtree: true\n  });\n  selectorObserver._scheduleAddRootNodes();\n}\n\nfunction addRootNodes(selectorObserver) {\n  var changes = [];\n  addNodes(selectorObserver, changes, [selectorObserver.rootNode]);\n  applyChanges(selectorObserver, changes);\n}\n\nfunction handleRootMutations(selectorObserver, mutations) {\n  var changes = [];\n  handleMutations$1(selectorObserver, changes, mutations);\n  applyChanges(selectorObserver, changes);\n}\n\nfunction handleChangeEvents(selectorObserver, event) {\n  selectorObserver._handleThrottledChangedTargets(event.target);\n}\n\nfunction handleChangedTargets(selectorObserver, inputs) {\n  var changes = [];\n  revalidateInputObservers(selectorObserver, changes, inputs);\n  applyChanges(selectorObserver, changes);\n}\n\n// observe\n//\n// Observe provides a declarative hook thats informed when an element becomes\n// matched by a selector, and then when it stops matching the selector.\n//\n// Examples\n//\n//   observe('.js-foo', (el) => {\n//     console.log(el, 'was added to the DOM')\n//   })\n//\n//   observe('.js-bar', {\n//     add(el) { console.log('js-bar was added to', el) },\n//     remove(el) { console.log 'js-bar was removed from', el) }\n//   })\n//\n\nvar documentObserver = void 0;\n\nfunction getDocumentObserver() {\n  if (!documentObserver) {\n    documentObserver = new SelectorObserver(window.document);\n  }\n  return documentObserver;\n}\n\nfunction observe() {\n  var _getDocumentObserver;\n\n  return (_getDocumentObserver = getDocumentObserver()).observe.apply(_getDocumentObserver, arguments);\n}\n\nfunction triggerObservers() {\n  var _getDocumentObserver2;\n\n  return (_getDocumentObserver2 = getDocumentObserver()).triggerObservers.apply(_getDocumentObserver2, arguments);\n}\n\nexport default SelectorObserver;\nexport { getDocumentObserver, observe, triggerObservers };\n","export default function subscribe(container) {\n    let shiftKey = false;\n    let lastCheckbox = null;\n    container.addEventListener('mousedown', onMouseDown);\n    container.addEventListener('change', onChange);\n    function setChecked(target, input, checked, indeterminate = false) {\n        if (!(input instanceof HTMLInputElement))\n            return;\n        input.indeterminate = indeterminate;\n        if (input.checked !== checked) {\n            input.checked = checked;\n            setTimeout(() => {\n                const event = new CustomEvent('change', {\n                    bubbles: true,\n                    cancelable: false,\n                    detail: { relatedTarget: target }\n                });\n                input.dispatchEvent(event);\n            });\n        }\n    }\n    function onChange(event) {\n        const target = event.target;\n        if (!(target instanceof Element))\n            return;\n        if (target.hasAttribute('data-check-all')) {\n            onCheckAll(event);\n        }\n        else if (target.hasAttribute('data-check-all-item')) {\n            onCheckAllItem(event);\n        }\n    }\n    function onCheckAll(event) {\n        if (event instanceof CustomEvent && event.detail) {\n            const { relatedTarget } = event.detail;\n            if (relatedTarget && relatedTarget.hasAttribute('data-check-all-item')) {\n                return;\n            }\n        }\n        const target = event.target;\n        if (!(target instanceof HTMLInputElement))\n            return;\n        lastCheckbox = null;\n        for (const input of container.querySelectorAll('[data-check-all-item]')) {\n            setChecked(target, input, target.checked);\n        }\n        target.indeterminate = false;\n        updateCount();\n    }\n    function onMouseDown(event) {\n        if (!(event.target instanceof Element))\n            return;\n        const target = event.target instanceof HTMLLabelElement ? event.target.control || event.target : event.target;\n        if (target.hasAttribute('data-check-all-item')) {\n            shiftKey = event.shiftKey;\n        }\n    }\n    function onCheckAllItem(event) {\n        if (event instanceof CustomEvent && event.detail) {\n            const { relatedTarget } = event.detail;\n            if (relatedTarget &&\n                (relatedTarget.hasAttribute('data-check-all') || relatedTarget.hasAttribute('data-check-all-item'))) {\n                return;\n            }\n        }\n        const target = event.target;\n        if (!(target instanceof HTMLInputElement))\n            return;\n        const itemCheckboxes = Array.from(container.querySelectorAll('[data-check-all-item]'));\n        if (shiftKey && lastCheckbox) {\n            const [start, end] = [itemCheckboxes.indexOf(lastCheckbox), itemCheckboxes.indexOf(target)].sort();\n            for (const input of itemCheckboxes.slice(start, +end + 1 || 9e9)) {\n                setChecked(target, input, target.checked);\n            }\n        }\n        shiftKey = false;\n        lastCheckbox = target;\n        const allCheckbox = container.querySelector('[data-check-all]');\n        if (allCheckbox) {\n            const total = itemCheckboxes.length;\n            const count = itemCheckboxes.filter(checkbox => checkbox instanceof HTMLInputElement && checkbox.checked).length;\n            const checked = count === total;\n            const indeterminate = total > count && count > 0;\n            setChecked(target, allCheckbox, checked, indeterminate);\n        }\n        updateCount();\n    }\n    function updateCount() {\n        const countContainer = container.querySelector('[data-check-all-count]');\n        if (countContainer) {\n            const count = container.querySelectorAll('[data-check-all-item]:checked').length;\n            countContainer.textContent = count.toString();\n        }\n    }\n    return {\n        unsubscribe: () => {\n            container.removeEventListener('mousedown', onMouseDown);\n            container.removeEventListener('change', onChange);\n        }\n    };\n}\n","class Leaf {\n    constructor(trie) {\n        this.children = [];\n        this.parent = trie;\n    }\n    delete(value) {\n        const index = this.children.indexOf(value);\n        if (index === -1)\n            return false;\n        this.children = this.children.slice(0, index).concat(this.children.slice(index + 1));\n        if (this.children.length === 0) {\n            this.parent.delete(this);\n        }\n        return true;\n    }\n    add(value) {\n        this.children.push(value);\n        return this;\n    }\n}\nclass RadixTrie {\n    constructor(trie) {\n        this.parent = null;\n        this.children = {};\n        this.parent = trie || null;\n    }\n    get(edge) {\n        return this.children[edge];\n    }\n    insert(edges) {\n        let currentNode = this;\n        for (let i = 0; i < edges.length; i += 1) {\n            const edge = edges[i];\n            let nextNode = currentNode.get(edge);\n            if (i === edges.length - 1) {\n                if (nextNode instanceof RadixTrie) {\n                    currentNode.delete(nextNode);\n                    nextNode = null;\n                }\n                if (!nextNode) {\n                    nextNode = new Leaf(currentNode);\n                    currentNode.children[edge] = nextNode;\n                }\n                return nextNode;\n            }\n            else {\n                if (nextNode instanceof Leaf)\n                    nextNode = null;\n                if (!nextNode) {\n                    nextNode = new RadixTrie(currentNode);\n                    currentNode.children[edge] = nextNode;\n                }\n            }\n            currentNode = nextNode;\n        }\n        return currentNode;\n    }\n    delete(node) {\n        for (const edge in this.children) {\n            const currentNode = this.children[edge];\n            if (currentNode === node) {\n                const success = delete this.children[edge];\n                if (Object.keys(this.children).length === 0 && this.parent) {\n                    this.parent.delete(this);\n                }\n                return success;\n            }\n        }\n        return false;\n    }\n}\n\nfunction isFormField(element) {\n    if (!(element instanceof HTMLElement)) {\n        return false;\n    }\n    const name = element.nodeName.toLowerCase();\n    const type = (element.getAttribute('type') || '').toLowerCase();\n    return (name === 'select' ||\n        name === 'textarea' ||\n        (name === 'input' && type !== 'submit' && type !== 'reset' && type !== 'checkbox' && type !== 'radio') ||\n        element.isContentEditable);\n}\nfunction fireDeterminedAction(el) {\n    if (isFormField(el)) {\n        el.focus();\n    }\n    else {\n        el.click();\n    }\n}\nfunction expandHotkeyToEdges(hotkey) {\n    return hotkey.split(',').map(edge => edge.split(' '));\n}\n\nfunction hotkey(event) {\n    const elideShift = event.code.startsWith('Key') && event.shiftKey && event.key.toUpperCase() === event.key;\n    return `${event.ctrlKey ? 'Control+' : ''}${event.altKey ? 'Alt+' : ''}${event.metaKey ? 'Meta+' : ''}${event.shiftKey && !elideShift ? 'Shift+' : ''}${event.key}`;\n}\n\nconst hotkeyRadixTrie = new RadixTrie();\nconst elementsLeaves = new WeakMap();\nlet currentTriePosition = hotkeyRadixTrie;\nlet resetTriePositionTimer = null;\nfunction resetTriePosition() {\n    resetTriePositionTimer = null;\n    currentTriePosition = hotkeyRadixTrie;\n}\nfunction keyDownHandler(event) {\n    if (event.defaultPrevented)\n        return;\n    if (event.target instanceof Node && isFormField(event.target))\n        return;\n    if (resetTriePositionTimer != null) {\n        window.clearTimeout(resetTriePositionTimer);\n    }\n    resetTriePositionTimer = window.setTimeout(resetTriePosition, 1500);\n    const newTriePosition = currentTriePosition.get(hotkey(event));\n    if (!newTriePosition) {\n        resetTriePosition();\n        return;\n    }\n    currentTriePosition = newTriePosition;\n    if (newTriePosition instanceof Leaf) {\n        fireDeterminedAction(newTriePosition.children[newTriePosition.children.length - 1]);\n        event.preventDefault();\n        resetTriePosition();\n        return;\n    }\n}\nfunction install(element, hotkey) {\n    if (Object.keys(hotkeyRadixTrie.children).length === 0) {\n        document.addEventListener('keydown', keyDownHandler);\n    }\n    const hotkeys = expandHotkeyToEdges(hotkey || element.getAttribute('data-hotkey') || '');\n    const leaves = hotkeys.map(h => hotkeyRadixTrie.insert(h).add(element));\n    elementsLeaves.set(element, leaves);\n}\nfunction uninstall(element) {\n    const leaves = elementsLeaves.get(element);\n    if (leaves && leaves.length) {\n        for (const leaf of leaves) {\n            leaf && leaf.delete(element);\n        }\n    }\n    if (Object.keys(hotkeyRadixTrie.children).length === 0) {\n        document.removeEventListener('keydown', keyDownHandler);\n    }\n}\n\nexport { Leaf, RadixTrie, hotkey as eventToHotkeyString, install, uninstall };\n","var UNKNOWN_FUNCTION = '<unknown>';\n/**\n * This parses the different stack traces and puts them into one format\n * This borrows heavily from TraceKit (https://github.com/csnover/TraceKit)\n */\n\nfunction parse(stackString) {\n  var lines = stackString.split('\\n');\n  return lines.reduce(function (stack, line) {\n    var parseResult = parseChrome(line) || parseWinjs(line) || parseGecko(line) || parseNode(line) || parseJSC(line);\n\n    if (parseResult) {\n      stack.push(parseResult);\n    }\n\n    return stack;\n  }, []);\n}\nvar chromeRe = /^\\s*at (.*?) ?\\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\/).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\nvar chromeEvalRe = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\n\nfunction parseChrome(line) {\n  var parts = chromeRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  var isNative = parts[2] && parts[2].indexOf('native') === 0; // start of line\n\n  var isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n\n  var submatch = chromeEvalRe.exec(parts[2]);\n\n  if (isEval && submatch != null) {\n    // throw out eval line/column and use top-most line/column number\n    parts[2] = submatch[1]; // url\n\n    parts[3] = submatch[2]; // line\n\n    parts[4] = submatch[3]; // column\n  }\n\n  return {\n    file: !isNative ? parts[2] : null,\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: isNative ? [parts[2]] : [],\n    lineNumber: parts[3] ? +parts[3] : null,\n    column: parts[4] ? +parts[4] : null\n  };\n}\n\nvar winjsRe = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\n\nfunction parseWinjs(line) {\n  var parts = winjsRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  return {\n    file: parts[2],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: [],\n    lineNumber: +parts[3],\n    column: parts[4] ? +parts[4] : null\n  };\n}\n\nvar geckoRe = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\\[native).*?|[^@]*bundle)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nvar geckoEvalRe = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\n\nfunction parseGecko(line) {\n  var parts = geckoRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  var isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n  var submatch = geckoEvalRe.exec(parts[3]);\n\n  if (isEval && submatch != null) {\n    // throw out eval line/column and use top-most line number\n    parts[3] = submatch[1];\n    parts[4] = submatch[2];\n    parts[5] = null; // no column when eval\n  }\n\n  return {\n    file: parts[3],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: parts[2] ? parts[2].split(',') : [],\n    lineNumber: parts[4] ? +parts[4] : null,\n    column: parts[5] ? +parts[5] : null\n  };\n}\n\nvar javaScriptCoreRe = /^\\s*(?:([^@]*)(?:\\((.*?)\\))?@)?(\\S.*?):(\\d+)(?::(\\d+))?\\s*$/i;\n\nfunction parseJSC(line) {\n  var parts = javaScriptCoreRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  return {\n    file: parts[3],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: [],\n    lineNumber: +parts[4],\n    column: parts[5] ? +parts[5] : null\n  };\n}\n\nvar nodeRe = /^\\s*at (?:((?:\\[object object\\])?[^\\\\/]+(?: \\[as \\S+\\])?) )?\\(?(.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\n\nfunction parseNode(line) {\n  var parts = nodeRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  return {\n    file: parts[2],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: [],\n    lineNumber: +parts[3],\n    column: parts[4] ? +parts[4] : null\n  };\n}\n\nexport { parse };\n","function indexInList(li) {\n    if (li.parentNode === null || !(li.parentNode instanceof HTMLElement))\n        throw new Error();\n    const ref = li.parentNode.children;\n    for (let i = 0; i < ref.length; ++i) {\n        if (ref[i] === li) {\n            return i;\n        }\n    }\n    return 0;\n}\nfunction skipNode(node) {\n    if (node instanceof HTMLAnchorElement && node.childNodes.length === 1) {\n        const first = node.childNodes[0];\n        if (first instanceof HTMLImageElement) {\n            return first.src === node.href;\n        }\n    }\n    return false;\n}\nfunction hasContent(node) {\n    return node.nodeName === 'IMG' || node.firstChild != null;\n}\nfunction isCheckbox(node) {\n    return node.nodeName === 'INPUT' && node instanceof HTMLInputElement && node.type === 'checkbox';\n}\nlet listIndexOffset = 0;\nfunction nestedListExclusive(li) {\n    const first = li.childNodes[0];\n    const second = li.childNodes[1];\n    if (first && li.childNodes.length < 3) {\n        return ((first.nodeName === 'OL' || first.nodeName === 'UL') &&\n            (!second || (second.nodeType === Node.TEXT_NODE && !(second.textContent || '').trim())));\n    }\n    return false;\n}\nfunction escapeAttribute(text) {\n    return text\n        .replace(/&/g, '&amp;')\n        .replace(/'/g, '&apos;')\n        .replace(/\"/g, '&quot;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;');\n}\nconst filters = {\n    INPUT(el) {\n        if (el instanceof HTMLInputElement && el.checked) {\n            return '[x] ';\n        }\n        return '[ ] ';\n    },\n    CODE(el) {\n        const text = el.textContent || '';\n        if (el.parentNode && el.parentNode.nodeName === 'PRE') {\n            el.textContent = `\\`\\`\\`\\n${text.replace(/\\n+$/, '')}\\n\\`\\`\\`\\n\\n`;\n            return el;\n        }\n        if (text.indexOf('`') >= 0) {\n            return `\\`\\` ${text} \\`\\``;\n        }\n        return `\\`${text}\\``;\n    },\n    STRONG(el) {\n        return `**${el.textContent || ''}**`;\n    },\n    EM(el) {\n        return `_${el.textContent || ''}_`;\n    },\n    DEL(el) {\n        return `~${el.textContent || ''}~`;\n    },\n    BLOCKQUOTE(el) {\n        const text = (el.textContent || '').trim().replace(/^/gm, '> ');\n        const pre = document.createElement('pre');\n        pre.textContent = `${text}\\n\\n`;\n        return pre;\n    },\n    A(el) {\n        const text = el.textContent || '';\n        const href = el.getAttribute('href');\n        if (/^https?:/.test(text) && text === href) {\n            return text;\n        }\n        else {\n            if (href) {\n                return `[${text}](${href})`;\n            }\n            else {\n                return text;\n            }\n        }\n    },\n    IMG(el) {\n        const alt = el.getAttribute('alt') || '';\n        const src = el.getAttribute('src');\n        if (!src)\n            throw new Error();\n        const widthAttr = el.hasAttribute('width') ? ` width=\"${escapeAttribute(el.getAttribute('width') || '')}\"` : '';\n        const heightAttr = el.hasAttribute('height') ? ` height=\"${escapeAttribute(el.getAttribute('height') || '')}\"` : '';\n        if (widthAttr || heightAttr) {\n            return `<img alt=\"${escapeAttribute(alt)}\"${widthAttr}${heightAttr} src=\"${escapeAttribute(src)}\">`;\n        }\n        else {\n            return `![${alt}](${src})`;\n        }\n    },\n    LI(el) {\n        const list = el.parentNode;\n        if (!list)\n            throw new Error();\n        let bullet = '';\n        if (!nestedListExclusive(el)) {\n            if (list.nodeName === 'OL') {\n                if (listIndexOffset > 0 && !list.previousSibling) {\n                    const num = indexInList(el) + listIndexOffset + 1;\n                    bullet = `${num}\\\\. `;\n                }\n                else {\n                    bullet = `${indexInList(el) + 1}. `;\n                }\n            }\n            else {\n                bullet = '* ';\n            }\n        }\n        const indent = bullet.replace(/\\S/g, ' ');\n        const text = (el.textContent || '').trim().replace(/^/gm, indent);\n        const pre = document.createElement('pre');\n        pre.textContent = text.replace(indent, bullet);\n        return pre;\n    },\n    OL(el) {\n        const li = document.createElement('li');\n        li.appendChild(document.createElement('br'));\n        el.append(li);\n        return el;\n    },\n    H1(el) {\n        const level = parseInt(el.nodeName.slice(1));\n        el.prepend(`${Array(level + 1).join('#')} `);\n        return el;\n    },\n    UL(el) {\n        return el;\n    }\n};\nfilters.UL = filters.OL;\nfor (let level = 2; level <= 6; ++level) {\n    filters[`H${level}`] = filters.H1;\n}\nfunction insertMarkdownSyntax(root) {\n    const nodeIterator = document.createNodeIterator(root, NodeFilter.SHOW_ELEMENT, function (node) {\n        if (node.nodeName in filters && !skipNode(node) && (hasContent(node) || isCheckbox(node))) {\n            return NodeFilter.FILTER_ACCEPT;\n        }\n        return NodeFilter.FILTER_SKIP;\n    });\n    const results = [];\n    let node = nodeIterator.nextNode();\n    while (node) {\n        if (node instanceof HTMLElement) {\n            results.push(node);\n        }\n        node = nodeIterator.nextNode();\n    }\n    results.reverse();\n    for (const el of results) {\n        el.replaceWith(filters[el.nodeName](el));\n    }\n}\nfunction extractFragment(range, selector) {\n    const startNode = range.startContainer;\n    if (!startNode || !startNode.parentNode || !(startNode.parentNode instanceof HTMLElement)) {\n        throw new Error('the range must start within an HTMLElement');\n    }\n    const parent = startNode.parentNode;\n    let fragment = range.cloneContents();\n    if (selector) {\n        const contentElement = fragment.querySelector(selector);\n        if (contentElement) {\n            fragment = document.createDocumentFragment();\n            fragment.appendChild(contentElement);\n        }\n    }\n    listIndexOffset = 0;\n    const li = parent.closest('li');\n    const codeBlock = parent.closest('pre');\n    if (codeBlock) {\n        const pre = document.createElement('pre');\n        pre.appendChild(fragment);\n        fragment = document.createDocumentFragment();\n        fragment.appendChild(pre);\n    }\n    else if (li && li.parentNode) {\n        if (li.parentNode.nodeName === 'OL') {\n            listIndexOffset = indexInList(li);\n        }\n        if (!fragment.querySelector('li')) {\n            const item = document.createElement('li');\n            if (!li.parentNode)\n                throw new Error();\n            const list = document.createElement(li.parentNode.nodeName);\n            item.appendChild(fragment);\n            list.appendChild(item);\n            fragment = document.createDocumentFragment();\n            fragment.appendChild(list);\n        }\n    }\n    return fragment;\n}\n\nconst containers = new WeakMap();\nlet installed = 0;\nconst edgeBrowser = /\\bEdge\\//.test(navigator.userAgent);\nfunction subscribe(container, options) {\n    install(container, options);\n    return {\n        unsubscribe: () => {\n            uninstall(container);\n        }\n    };\n}\nfunction install(container, options) {\n    const firstInstall = installed === 0;\n    installed += containers.has(container) ? 0 : 1;\n    const config = Object.assign({\n        quoteMarkdown: false,\n        copyMarkdown: false,\n        scopeSelector: ''\n    }, options);\n    containers.set(container, config);\n    if (firstInstall) {\n        document.addEventListener('keydown', quoteSelection);\n    }\n    if (config.copyMarkdown) {\n        container.addEventListener('copy', onCopy);\n    }\n}\nfunction uninstall(container) {\n    const config = containers.get(container);\n    if (config == null)\n        return;\n    containers.delete(container);\n    installed -= 1;\n    if (installed === 0) {\n        document.removeEventListener('keydown', quoteSelection);\n    }\n    if (config.copyMarkdown) {\n        container.removeEventListener('copy', onCopy);\n    }\n}\nfunction onCopy(event) {\n    const target = event.target;\n    if (!(target instanceof HTMLElement))\n        return;\n    if (isFormField(target))\n        return;\n    const transfer = event.clipboardData;\n    if (!transfer)\n        return;\n    const selection = window.getSelection();\n    if (!selection)\n        return;\n    let range;\n    try {\n        range = selection.getRangeAt(0);\n    }\n    catch (_a) {\n        return;\n    }\n    const text = selection.toString();\n    const quoted = extractQuote(text, range, true);\n    if (!quoted)\n        return;\n    transfer.setData('text/plain', text);\n    transfer.setData('text/x-gfm', quoted.selectionText);\n    event.preventDefault();\n    selection.removeAllRanges();\n    selection.addRange(range);\n}\nfunction eventIsNotRelevant(event) {\n    return (event.defaultPrevented ||\n        event.key !== 'r' ||\n        event.metaKey ||\n        event.altKey ||\n        event.shiftKey ||\n        event.ctrlKey ||\n        (event.target instanceof HTMLElement && isFormField(event.target)));\n}\nfunction findContainer(el) {\n    let parent = el;\n    while ((parent = parent.parentElement)) {\n        if (containers.has(parent)) {\n            return parent;\n        }\n    }\n}\nfunction findTextarea(container) {\n    for (const field of container.querySelectorAll('textarea')) {\n        if (field instanceof HTMLTextAreaElement && visible(field)) {\n            return field;\n        }\n    }\n}\nfunction quoteSelection(event) {\n    if (eventIsNotRelevant(event))\n        return;\n    const selection = window.getSelection();\n    if (!selection)\n        return;\n    let range;\n    try {\n        range = selection.getRangeAt(0);\n    }\n    catch (_a) {\n        return;\n    }\n    if (quote(selection.toString(), range)) {\n        event.preventDefault();\n    }\n}\nfunction quote(text, range) {\n    const quoted = extractQuote(text, range, false);\n    if (!quoted)\n        return false;\n    const { container, selectionText } = quoted;\n    const dispatched = container.dispatchEvent(new CustomEvent('quote-selection', {\n        bubbles: true,\n        cancelable: true,\n        detail: { range, selectionText }\n    }));\n    if (!dispatched) {\n        return true;\n    }\n    const field = findTextarea(container);\n    if (!field)\n        return false;\n    insertQuote(selectionText, field);\n    return true;\n}\nfunction extractQuote(text, range, unwrap) {\n    let selectionText = text.trim();\n    if (!selectionText)\n        return;\n    let focusNode = range.startContainer;\n    if (!focusNode)\n        return;\n    if (focusNode.nodeType !== Node.ELEMENT_NODE)\n        focusNode = focusNode.parentNode;\n    if (!(focusNode instanceof Element))\n        return;\n    const container = findContainer(focusNode);\n    if (!container)\n        return;\n    const options = containers.get(container);\n    if (!options)\n        return;\n    if (options.quoteMarkdown && !edgeBrowser) {\n        try {\n            const fragment = extractFragment(range, options.scopeSelector);\n            container.dispatchEvent(new CustomEvent('quote-selection-markdown', {\n                bubbles: true,\n                cancelable: false,\n                detail: { fragment, range, unwrap }\n            }));\n            insertMarkdownSyntax(fragment);\n            selectionText = selectFragment(fragment).replace(/^\\n+/, '').replace(/\\s+$/, '');\n        }\n        catch (error) {\n            setTimeout(() => {\n                throw error;\n            });\n        }\n    }\n    return { selectionText, container };\n}\nfunction insertQuote(selectionText, field) {\n    let quotedText = `> ${selectionText.replace(/\\n/g, '\\n> ')}\\n\\n`;\n    if (field.value) {\n        quotedText = `${field.value}\\n\\n${quotedText}`;\n    }\n    field.value = quotedText;\n    field.dispatchEvent(new CustomEvent('change', {\n        bubbles: true,\n        cancelable: false\n    }));\n    field.focus();\n    field.selectionStart = field.value.length;\n    field.scrollTop = field.scrollHeight;\n}\nfunction visible(el) {\n    return !(el.offsetWidth <= 0 && el.offsetHeight <= 0);\n}\nfunction selectFragment(fragment) {\n    const body = document.body;\n    if (!body)\n        return '';\n    const div = document.createElement('div');\n    div.appendChild(fragment);\n    div.style.cssText = 'position:absolute;left:-9999px;';\n    body.appendChild(div);\n    let selectionText = '';\n    try {\n        const selection = window.getSelection();\n        if (selection) {\n            const range = document.createRange();\n            range.selectNodeContents(div);\n            selection.removeAllRanges();\n            selection.addRange(range);\n            selectionText = selection.toString();\n            selection.removeAllRanges();\n            range.detach();\n        }\n    }\n    finally {\n        body.removeChild(div);\n    }\n    return selectionText;\n}\nfunction isFormField(element) {\n    const name = element.nodeName.toLowerCase();\n    const type = (element.getAttribute('type') || '').toLowerCase();\n    return (name === 'select' ||\n        name === 'textarea' ||\n        (name === 'input' && type !== 'submit' && type !== 'reset') ||\n        element.isContentEditable);\n}\n\nexport { findContainer, findTextarea, install, quote, subscribe, uninstall };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst directives = new WeakMap();\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = (f) => ((...args) => {\n    const d = f(...args);\n    directives.set(d, true);\n    return d;\n});\nexport const isDirective = (o) => {\n    return typeof o === 'function' && directives.has(o);\n};\n//# sourceMappingURL=directive.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = window.customElements !== undefined &&\n    window.customElements.polyfillWrapFlushCallback !==\n        undefined;\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes = (container, start, end = null, before = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.insertBefore(start, before);\n        start = n;\n    }\n};\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes = (container, start, end = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.removeChild(start);\n        start = n;\n    }\n};\n//# sourceMappingURL=dom.js.map","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n//# sourceMappingURL=part.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        const nodesToRemove = [];\n        const stack = [];\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(element.content, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        // Keeps track of the last index associated with a part. We try to delete\n        // unnecessary nodes, but we never want to associate two different parts\n        // to the same index. They must have a constant node between.\n        let lastPartIndex = 0;\n        let index = -1;\n        let partIndex = 0;\n        const { strings, values: { length } } = result;\n        while (partIndex < length) {\n            const node = walker.nextNode();\n            if (node === null) {\n                // We've exhausted the content inside a nested template element.\n                // Because we still have parts (the outer for-loop), we know:\n                // - There is a template in the stack\n                // - The walker will find a nextNode outside the template\n                walker.currentNode = stack.pop();\n                continue;\n            }\n            index++;\n            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                if (node.hasAttributes()) {\n                    const attributes = node.attributes;\n                    const { length } = attributes;\n                    // Per\n                    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                    // attributes are not guaranteed to be returned in document order.\n                    // In particular, Edge/IE can return them out of order, so we cannot\n                    // assume a correspondence between part index and attribute index.\n                    let count = 0;\n                    for (let i = 0; i < length; i++) {\n                        if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n                            count++;\n                        }\n                    }\n                    while (count-- > 0) {\n                        // Get the template literal section leading up to the first\n                        // expression in this attribute\n                        const stringForPart = strings[partIndex];\n                        // Find the attribute name\n                        const name = lastAttributeNameRegex.exec(stringForPart)[2];\n                        // Find the corresponding attribute\n                        // All bound attributes have had a suffix added in\n                        // TemplateResult#getHTML to opt out of special attribute\n                        // handling. To look up the attribute value we also need to add\n                        // the suffix.\n                        const attributeLookupName = name.toLowerCase() + boundAttributeSuffix;\n                        const attributeValue = node.getAttribute(attributeLookupName);\n                        node.removeAttribute(attributeLookupName);\n                        const statics = attributeValue.split(markerRegex);\n                        this.parts.push({ type: 'attribute', index, name, strings: statics });\n                        partIndex += statics.length - 1;\n                    }\n                }\n                if (node.tagName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n            }\n            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                const data = node.data;\n                if (data.indexOf(marker) >= 0) {\n                    const parent = node.parentNode;\n                    const strings = data.split(markerRegex);\n                    const lastIndex = strings.length - 1;\n                    // Generate a new text node for each literal section\n                    // These nodes are also used as the markers for node parts\n                    for (let i = 0; i < lastIndex; i++) {\n                        let insert;\n                        let s = strings[i];\n                        if (s === '') {\n                            insert = createMarker();\n                        }\n                        else {\n                            const match = lastAttributeNameRegex.exec(s);\n                            if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                                s = s.slice(0, match.index) + match[1] +\n                                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n                            }\n                            insert = document.createTextNode(s);\n                        }\n                        parent.insertBefore(insert, node);\n                        this.parts.push({ type: 'node', index: ++index });\n                    }\n                    // If there's no text, we must insert a comment to mark our place.\n                    // Else, we can trust it will stick around after cloning.\n                    if (strings[lastIndex] === '') {\n                        parent.insertBefore(createMarker(), node);\n                        nodesToRemove.push(node);\n                    }\n                    else {\n                        node.data = strings[lastIndex];\n                    }\n                    // We have a part for each match found\n                    partIndex += lastIndex;\n                }\n            }\n            else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n                if (node.data === marker) {\n                    const parent = node.parentNode;\n                    // Add a new marker node to be the startNode of the Part if any of\n                    // the following are true:\n                    //  * We don't have a previousSibling\n                    //  * The previousSibling is already the start of a previous part\n                    if (node.previousSibling === null || index === lastPartIndex) {\n                        index++;\n                        parent.insertBefore(createMarker(), node);\n                    }\n                    lastPartIndex = index;\n                    this.parts.push({ type: 'node', index });\n                    // If we don't have a nextSibling, keep this node so we have an end.\n                    // Else, we can remove it to save future costs.\n                    if (node.nextSibling === null) {\n                        node.data = '';\n                    }\n                    else {\n                        nodesToRemove.push(node);\n                        index--;\n                    }\n                    partIndex++;\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        // TODO (justinfagnani): consider whether it's even worth it to\n                        // make bindings in comments work\n                        this.parts.push({ type: 'node', index: -1 });\n                        partIndex++;\n                    }\n                }\n            }\n        }\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\nconst endsWith = (str, suffix) => {\n    const index = str.length - suffix.length;\n    return index >= 0 && str.slice(index) === suffix;\n};\nexport const isTemplatePartActive = (part) => part.index !== -1;\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex = /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n//# sourceMappingURL=template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isCEPolyfill } from './dom.js';\nimport { isTemplatePartActive } from './template.js';\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n    constructor(template, processor, options) {\n        this.__parts = [];\n        this.template = template;\n        this.processor = processor;\n        this.options = options;\n    }\n    update(values) {\n        let i = 0;\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.setValue(values[i]);\n            }\n            i++;\n        }\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.commit();\n            }\n        }\n    }\n    _clone() {\n        // There are a number of steps in the lifecycle of a template instance's\n        // DOM fragment:\n        //  1. Clone - create the instance fragment\n        //  2. Adopt - adopt into the main document\n        //  3. Process - find part markers and create parts\n        //  4. Upgrade - upgrade custom elements\n        //  5. Update - set node, attribute, property, etc., values\n        //  6. Connect - connect to the document. Optional and outside of this\n        //     method.\n        //\n        // We have a few constraints on the ordering of these steps:\n        //  * We need to upgrade before updating, so that property values will pass\n        //    through any property setters.\n        //  * We would like to process before upgrading so that we're sure that the\n        //    cloned fragment is inert and not disturbed by self-modifying DOM.\n        //  * We want custom elements to upgrade even in disconnected fragments.\n        //\n        // Given these constraints, with full custom elements support we would\n        // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n        //\n        // But Safari dooes not implement CustomElementRegistry#upgrade, so we\n        // can not implement that order and still have upgrade-before-update and\n        // upgrade disconnected fragments. So we instead sacrifice the\n        // process-before-upgrade constraint, since in Custom Elements v1 elements\n        // must not modify their light DOM in the constructor. We still have issues\n        // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n        // that don't strictly adhere to the no-modification rule because shadow\n        // DOM, which may be created in the constructor, is emulated by being placed\n        // in the light DOM.\n        //\n        // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n        // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n        // in one step.\n        //\n        // The Custom Elements v1 polyfill supports upgrade(), so the order when\n        // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n        // Connect.\n        const fragment = isCEPolyfill ?\n            this.template.element.content.cloneNode(true) :\n            document.importNode(this.template.element.content, true);\n        const stack = [];\n        const parts = this.template.parts;\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        let partIndex = 0;\n        let nodeIndex = 0;\n        let part;\n        let node = walker.nextNode();\n        // Loop through all the nodes and parts of a template\n        while (partIndex < parts.length) {\n            part = parts[partIndex];\n            if (!isTemplatePartActive(part)) {\n                this.__parts.push(undefined);\n                partIndex++;\n                continue;\n            }\n            // Progress the tree walker until we find our next part's node.\n            // Note that multiple parts may share the same node (attribute parts\n            // on a single element), so this loop may not run at all.\n            while (nodeIndex < part.index) {\n                nodeIndex++;\n                if (node.nodeName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n                if ((node = walker.nextNode()) === null) {\n                    // We've exhausted the content inside a nested template element.\n                    // Because we still have parts (the outer for-loop), we know:\n                    // - There is a template in the stack\n                    // - The walker will find a nextNode outside the template\n                    walker.currentNode = stack.pop();\n                    node = walker.nextNode();\n                }\n            }\n            // We've arrived at our part's node.\n            if (part.type === 'node') {\n                const part = this.processor.handleTextExpression(this.options);\n                part.insertAfterNode(node.previousSibling);\n                this.__parts.push(part);\n            }\n            else {\n                this.__parts.push(...this.processor.handleAttributeExpressions(node, part.name, part.strings, this.options));\n            }\n            partIndex++;\n        }\n        if (isCEPolyfill) {\n            document.adoptNode(fragment);\n            customElements.upgrade(fragment);\n        }\n        return fragment;\n    }\n}\n//# sourceMappingURL=template-instance.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { reparentNodes } from './dom.js';\nimport { boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker } from './template.js';\nconst commentMarker = ` ${marker} `;\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n    constructor(strings, values, type, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.processor = processor;\n    }\n    /**\n     * Returns a string of HTML used to create a `<template>` element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isCommentBinding = false;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            // For each binding we want to determine the kind of marker to insert\n            // into the template source before it's parsed by the browser's HTML\n            // parser. The marker type is based on whether the expression is in an\n            // attribute, text, or comment poisition.\n            //   * For node-position bindings we insert a comment with the marker\n            //     sentinel as its text content, like <!--{{lit-guid}}-->.\n            //   * For attribute bindings we insert just the marker sentinel for the\n            //     first binding, so that we support unquoted attribute bindings.\n            //     Subsequent bindings can use a comment marker because multi-binding\n            //     attributes must be quoted.\n            //   * For comment bindings we insert just the marker sentinel so we don't\n            //     close the comment.\n            //\n            // The following code scans the template source, but is *not* an HTML\n            // parser. We don't need to track the tree structure of the HTML, only\n            // whether a binding is inside a comment, and if not, if it appears to be\n            // the first binding in an attribute.\n            const commentOpen = s.lastIndexOf('<!--');\n            // We're in comment position if we have a comment open with no following\n            // comment close. Because <-- can appear in an attribute value there can\n            // be false positives.\n            isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n                s.indexOf('-->', commentOpen + 1) === -1;\n            // Check to see if we have an attribute-like sequence preceeding the\n            // expression. This can match \"name=value\" like structures in text,\n            // comments, and attribute values, so there can be false-positives.\n            const attributeMatch = lastAttributeNameRegex.exec(s);\n            if (attributeMatch === null) {\n                // We're only in this branch if we don't have a attribute-like\n                // preceeding sequence. For comments, this guards against unusual\n                // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n                // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n                // below.\n                html += s + (isCommentBinding ? commentMarker : nodeMarker);\n            }\n            else {\n                // For attributes we use just a marker sentinel, and also append a\n                // $lit$ suffix to the name to opt-out of attribute-specific parsing\n                // that IE and Edge do for style and certain SVG attributes.\n                html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n                    attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n                    marker;\n            }\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = document.createElement('template');\n        template.innerHTML = this.getHTML();\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n//# sourceMappingURL=template-result.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isDirective } from './directive.js';\nimport { removeNodes } from './dom.js';\nimport { noChange, nothing } from './part.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { TemplateResult } from './template-result.js';\nimport { createMarker } from './template.js';\nexport const isPrimitive = (value) => {\n    return (value === null ||\n        !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value) => {\n    return Array.isArray(value) ||\n        // tslint:disable-next-line:no-any\n        !!(value && value[Symbol.iterator]);\n};\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attibute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n    constructor(element, name, strings) {\n        this.dirty = true;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.parts = [];\n        for (let i = 0; i < strings.length - 1; i++) {\n            this.parts[i] = this._createPart();\n        }\n    }\n    /**\n     * Creates a single part. Override this to create a differnt type of part.\n     */\n    _createPart() {\n        return new AttributePart(this);\n    }\n    _getValue() {\n        const strings = this.strings;\n        const l = strings.length - 1;\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const part = this.parts[i];\n            if (part !== undefined) {\n                const v = part.value;\n                if (isPrimitive(v) || !isIterable(v)) {\n                    text += typeof v === 'string' ? v : String(v);\n                }\n                else {\n                    for (const t of v) {\n                        text += typeof t === 'string' ? t : String(t);\n                    }\n                }\n            }\n        }\n        text += strings[l];\n        return text;\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            this.element.setAttribute(this.name, this._getValue());\n        }\n    }\n}\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart {\n    constructor(committer) {\n        this.value = undefined;\n        this.committer = committer;\n    }\n    setValue(value) {\n        if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n            this.value = value;\n            // If the value is a not a directive, dirty the committer so that it'll\n            // call setAttribute. If the value is a directive, it'll dirty the\n            // committer if it calls setValue().\n            if (!isDirective(value)) {\n                this.committer.dirty = true;\n            }\n        }\n    }\n    commit() {\n        while (isDirective(this.value)) {\n            const directive = this.value;\n            this.value = noChange;\n            directive(this);\n        }\n        if (this.value === noChange) {\n            return;\n        }\n        this.committer.commit();\n    }\n}\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart {\n    constructor(options) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.options = options;\n    }\n    /**\n     * Appends this part into a container.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendInto(container) {\n        this.startNode = container.appendChild(createMarker());\n        this.endNode = container.appendChild(createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n     * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n     * such as those that appear in a literal section of a template.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterNode(ref) {\n        this.startNode = ref;\n        this.endNode = ref.nextSibling;\n    }\n    /**\n     * Appends this part into a parent part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendIntoPart(part) {\n        part.__insert(this.startNode = createMarker());\n        part.__insert(this.endNode = createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterPart(ref) {\n        ref.__insert(this.startNode = createMarker());\n        this.endNode = ref.endNode;\n        ref.endNode = this.startNode;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        const value = this.__pendingValue;\n        if (value === noChange) {\n            return;\n        }\n        if (isPrimitive(value)) {\n            if (value !== this.value) {\n                this.__commitText(value);\n            }\n        }\n        else if (value instanceof TemplateResult) {\n            this.__commitTemplateResult(value);\n        }\n        else if (value instanceof Node) {\n            this.__commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this.__commitIterable(value);\n        }\n        else if (value === nothing) {\n            this.value = nothing;\n            this.clear();\n        }\n        else {\n            // Fallback, will render the string representation\n            this.__commitText(value);\n        }\n    }\n    __insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    __commitNode(value) {\n        if (this.value === value) {\n            return;\n        }\n        this.clear();\n        this.__insert(value);\n        this.value = value;\n    }\n    __commitText(value) {\n        const node = this.startNode.nextSibling;\n        value = value == null ? '' : value;\n        // If `value` isn't already a string, we explicitly convert it here in case\n        // it can't be implicitly converted - i.e. it's a symbol.\n        const valueAsString = typeof value === 'string' ? value : String(value);\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === 3 /* Node.TEXT_NODE */) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            // TODO(justinfagnani): Can we just check if this.value is primitive?\n            node.data = valueAsString;\n        }\n        else {\n            this.__commitNode(document.createTextNode(valueAsString));\n        }\n        this.value = value;\n    }\n    __commitTemplateResult(value) {\n        const template = this.options.templateFactory(value);\n        if (this.value instanceof TemplateInstance &&\n            this.value.template === template) {\n            this.value.update(value.values);\n        }\n        else {\n            // Make sure we propagate the template processor from the TemplateResult\n            // so that we use its syntax extension, etc. The template factory comes\n            // from the render function options so that it can control template\n            // caching and preprocessing.\n            const instance = new TemplateInstance(template, value.processor, this.options);\n            const fragment = instance._clone();\n            instance.update(value.values);\n            this.__commitNode(fragment);\n            this.value = instance;\n        }\n    }\n    __commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _value is an array, then the previous render was of an\n        // iterable and _value will contain the NodeParts from the previous\n        // render. If _value is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this.value)) {\n            this.value = [];\n            this.clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this.value;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            // Try to reuse an existing part\n            itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                itemPart = new NodePart(this.options);\n                itemParts.push(itemPart);\n                if (partIndex === 0) {\n                    itemPart.appendIntoPart(this);\n                }\n                else {\n                    itemPart.insertAfterPart(itemParts[partIndex - 1]);\n                }\n            }\n            itemPart.setValue(item);\n            itemPart.commit();\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n            this.clear(itemPart && itemPart.endNode);\n        }\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart {\n    constructor(element, name, strings) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n            throw new Error('Boolean attributes can only contain a single expression');\n        }\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const value = !!this.__pendingValue;\n        if (this.value !== value) {\n            if (value) {\n                this.element.setAttribute(this.name, '');\n            }\n            else {\n                this.element.removeAttribute(this.name);\n            }\n            this.value = value;\n        }\n        this.__pendingValue = noChange;\n    }\n}\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n    constructor(element, name, strings) {\n        super(element, name, strings);\n        this.single =\n            (strings.length === 2 && strings[0] === '' && strings[1] === '');\n    }\n    _createPart() {\n        return new PropertyPart(this);\n    }\n    _getValue() {\n        if (this.single) {\n            return this.parts[0].value;\n        }\n        return super._getValue();\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            // tslint:disable-next-line:no-any\n            this.element[this.name] = this._getValue();\n        }\n    }\n}\nexport class PropertyPart extends AttributePart {\n}\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the thrid\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\ntry {\n    const options = {\n        get capture() {\n            eventOptionsSupported = true;\n            return false;\n        }\n    };\n    // tslint:disable-next-line:no-any\n    window.addEventListener('test', options, options);\n    // tslint:disable-next-line:no-any\n    window.removeEventListener('test', options, options);\n}\ncatch (_e) {\n}\nexport class EventPart {\n    constructor(element, eventName, eventContext) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.element = element;\n        this.eventName = eventName;\n        this.eventContext = eventContext;\n        this.__boundHandleEvent = (e) => this.handleEvent(e);\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const newListener = this.__pendingValue;\n        const oldListener = this.value;\n        const shouldRemoveListener = newListener == null ||\n            oldListener != null &&\n                (newListener.capture !== oldListener.capture ||\n                    newListener.once !== oldListener.once ||\n                    newListener.passive !== oldListener.passive);\n        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        if (shouldAddListener) {\n            this.__options = getOptions(newListener);\n            this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        this.value = newListener;\n        this.__pendingValue = noChange;\n    }\n    handleEvent(event) {\n        if (typeof this.value === 'function') {\n            this.value.call(this.eventContext || this.element, event);\n        }\n        else {\n            this.value.handleEvent(event);\n        }\n    }\n}\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o) => o &&\n    (eventOptionsSupported ?\n        { capture: o.capture, passive: o.passive, once: o.once } :\n        o.capture);\n//# sourceMappingURL=parts.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter } from './parts.js';\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor {\n    /**\n     * Create parts for an attribute-position binding, given the event, attribute\n     * name, and string literals.\n     *\n     * @param element The element containing the binding\n     * @param name  The attribute name\n     * @param strings The string literals. There are always at least two strings,\n     *   event for fully-controlled bindings with a single expression.\n     */\n    handleAttributeExpressions(element, name, strings, options) {\n        const prefix = name[0];\n        if (prefix === '.') {\n            const committer = new PropertyCommitter(element, name.slice(1), strings);\n            return committer.parts;\n        }\n        if (prefix === '@') {\n            return [new EventPart(element, name.slice(1), options.eventContext)];\n        }\n        if (prefix === '?') {\n            return [new BooleanAttributePart(element, name.slice(1), strings)];\n        }\n        const committer = new AttributeCommitter(element, name, strings);\n        return committer.parts;\n    }\n    /**\n     * Create parts for a text-position binding.\n     * @param templateFactory\n     */\n    handleTextExpression(options) {\n        return new NodePart(options);\n    }\n}\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n//# sourceMappingURL=default-template-processor.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { marker, Template } from './template.js';\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result) {\n    let templateCache = templateCaches.get(result.type);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(result.type, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    // If the TemplateStringsArray is new, generate a key from the strings\n    // This key is shared between all templates with identical content\n    const key = result.strings.join(marker);\n    // Check if we already have a Template for this key\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        // If we have not seen this key before, create a new Template\n        template = new Template(result, result.getTemplateElement());\n        // Cache the Template for this key\n        templateCache.keyString.set(key, template);\n    }\n    // Cache all future queries for this TemplateStringsArray\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n}\nexport const templateCaches = new Map();\n//# sourceMappingURL=template-factory.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { removeNodes } from './dom.js';\nimport { NodePart } from './parts.js';\nimport { templateFactory } from './template-factory.js';\nexport const parts = new WeakMap();\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render = (result, container, options) => {\n    let part = parts.get(container);\n    if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart(Object.assign({ templateFactory }, options)));\n        part.appendInto(container);\n    }\n    part.setValue(result);\n    part.commit();\n};\n//# sourceMappingURL=render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @module lit-html\n * @preferred\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { defaultTemplateProcessor } from './lib/default-template-processor.js';\nimport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { DefaultTemplateProcessor, defaultTemplateProcessor } from './lib/default-template-processor.js';\nexport { directive, isDirective } from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport { removeNodes, reparentNodes } from './lib/dom.js';\nexport { noChange, nothing } from './lib/part.js';\nexport { AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart } from './lib/parts.js';\nexport { parts, render } from './lib/render.js';\nexport { templateCaches, templateFactory } from './lib/template-factory.js';\nexport { TemplateInstance } from './lib/template-instance.js';\nexport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { createMarker, isTemplatePartActive, Template } from './lib/template.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.1.2');\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings, ...values) => new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n//# sourceMappingURL=lit-html.js.map","// Public: Create a new SelectorSet.\nexport default function SelectorSet() {\n  // Construct new SelectorSet if called as a function.\n  if (!(this instanceof SelectorSet)) {\n    return new SelectorSet();\n  }\n\n  // Public: Number of selectors added to the set\n  this.size = 0;\n\n  // Internal: Incrementing ID counter\n  this.uid = 0;\n\n  // Internal: Array of String selectors in the set\n  this.selectors = [];\n\n  // Internal: All Object index String names mapping to Index objects.\n  this.indexes = Object.create(this.indexes);\n\n  // Internal: Used Object index String names mapping to Index objects.\n  this.activeIndexes = [];\n}\n\n// Detect prefixed Element#matches function.\nvar docElem = window.document.documentElement;\nvar matches = (docElem.matches ||\n                docElem.webkitMatchesSelector ||\n                docElem.mozMatchesSelector ||\n                docElem.oMatchesSelector ||\n                docElem.msMatchesSelector);\n\n// Public: Check if element matches selector.\n//\n// Maybe overridden with custom Element.matches function.\n//\n// el       - An Element\n// selector - String CSS selector\n//\n// Returns true or false.\nSelectorSet.prototype.matchesSelector = function(el, selector) {\n  return matches.call(el, selector);\n};\n\n// Public: Find all elements in the context that match the selector.\n//\n// Maybe overridden with custom querySelectorAll function.\n//\n// selectors - String CSS selectors.\n// context   - Element context\n//\n// Returns non-live list of Elements.\nSelectorSet.prototype.querySelectorAll = function(selectors, context) {\n  return context.querySelectorAll(selectors);\n};\n\n\n// Public: Array of indexes.\n//\n// name     - Unique String name\n// selector - Function that takes a String selector and returns a String key\n//            or undefined if it can't be used by the index.\n// element  - Function that takes an Element and returns an Array of String\n//            keys that point to indexed values.\n//\nSelectorSet.prototype.indexes = [];\n\n// Index by element id\nvar idRe = /^#((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'ID',\n  selector: function matchIdSelector(sel) {\n    var m;\n    if (m = sel.match(idRe)) {\n      return m[0].slice(1);\n    }\n  },\n  element: function getElementId(el) {\n    if (el.id) {\n      return [el.id];\n    }\n  }\n});\n\n// Index by all of its class names\nvar classRe = /^\\.((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'CLASS',\n  selector: function matchClassSelector(sel) {\n    var m;\n    if (m = sel.match(classRe)) {\n      return m[0].slice(1);\n    }\n  },\n  element: function getElementClassNames(el) {\n    var className = el.className;\n    if (className) {\n      if (typeof className === 'string') {\n        return className.split(/\\s/);\n      } else if (typeof className === 'object' && 'baseVal' in className) {\n        // className is a SVGAnimatedString\n        // global SVGAnimatedString is not an exposed global in Opera 12\n        return className.baseVal.split(/\\s/);\n      }\n    }\n  }\n});\n\n// Index by tag/node name: `DIV`, `FORM`, `A`\nvar tagRe = /^((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'TAG',\n  selector: function matchTagSelector(sel) {\n    var m;\n    if (m = sel.match(tagRe)) {\n      return m[0].toUpperCase();\n    }\n  },\n  element: function getElementTagName(el) {\n    return [el.nodeName.toUpperCase()];\n  }\n});\n\n// Default index just contains a single array of elements.\nSelectorSet.prototype.indexes['default'] = {\n  name: 'UNIVERSAL',\n  selector: function() {\n    return true;\n  },\n  element: function() {\n    return [true];\n  }\n};\n\n\n// Use ES Maps when supported\nvar Map;\nif (typeof window.Map === 'function') {\n  Map = window.Map;\n} else {\n  Map = (function() {\n    function Map() {\n      this.map = {};\n    }\n    Map.prototype.get = function(key) {\n      return this.map[key + ' '];\n    };\n    Map.prototype.set = function(key, value) {\n      this.map[key + ' '] = value;\n    };\n    return Map;\n  })();\n}\n\n\n// Regexps adopted from Sizzle\n//   https://github.com/jquery/sizzle/blob/1.7/sizzle.js\n//\nvar chunker = /((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g;\n\n// Internal: Get indexes for selector.\n//\n// selector - String CSS selector\n//\n// Returns Array of {index, key}.\nfunction parseSelectorIndexes(allIndexes, selector) {\n  allIndexes = allIndexes.slice(0).concat(allIndexes['default']);\n\n  var allIndexesLen = allIndexes.length,\n      i, j, m, dup, rest = selector,\n      key, index, indexes = [];\n\n  do {\n    chunker.exec('');\n    if (m = chunker.exec(rest)) {\n      rest = m[3];\n      if (m[2] || !rest) {\n        for (i = 0; i < allIndexesLen; i++) {\n          index = allIndexes[i];\n          if (key = index.selector(m[1])) {\n            j = indexes.length;\n            dup = false;\n            while (j--) {\n              if (indexes[j].index === index && indexes[j].key === key) {\n                dup = true;\n                break;\n              }\n            }\n            if (!dup) {\n              indexes.push({index: index, key: key});\n            }\n            break;\n          }\n        }\n      }\n    }\n  } while (m);\n\n  return indexes;\n}\n\n// Internal: Find first item in Array that is a prototype of `proto`.\n//\n// ary   - Array of objects\n// proto - Prototype of expected item in `ary`\n//\n// Returns object from `ary` if found. Otherwise returns undefined.\nfunction findByPrototype(ary, proto) {\n  var i, len, item;\n  for (i = 0, len = ary.length; i < len; i++) {\n    item = ary[i];\n    if (proto.isPrototypeOf(item)) {\n      return item;\n    }\n  }\n}\n\n// Public: Log when added selector falls under the default index.\n//\n// This API should not be considered stable. May change between\n// minor versions.\n//\n// obj - {selector, data} Object\n//\n//   SelectorSet.prototype.logDefaultIndexUsed = function(obj) {\n//     console.warn(obj.selector, \"could not be indexed\");\n//   };\n//\n// Returns nothing.\nSelectorSet.prototype.logDefaultIndexUsed = function() {};\n\n// Public: Add selector to set.\n//\n// selector - String CSS selector\n// data     - Optional data Object (default: undefined)\n//\n// Returns nothing.\nSelectorSet.prototype.add = function(selector, data) {\n  var obj, i, indexProto, key, index, objs,\n      selectorIndexes, selectorIndex,\n      indexes = this.activeIndexes,\n      selectors = this.selectors;\n\n  if (typeof selector !== 'string') {\n    return;\n  }\n\n  obj = {\n    id: this.uid++,\n    selector: selector,\n    data: data\n  };\n\n  selectorIndexes = parseSelectorIndexes(this.indexes, selector);\n  for (i = 0; i < selectorIndexes.length; i++) {\n    selectorIndex = selectorIndexes[i];\n    key = selectorIndex.key;\n    indexProto = selectorIndex.index;\n\n    index = findByPrototype(indexes, indexProto);\n    if (!index) {\n      index = Object.create(indexProto);\n      index.map = new Map();\n      indexes.push(index);\n    }\n\n    if (indexProto === this.indexes['default']) {\n      this.logDefaultIndexUsed(obj);\n    }\n    objs = index.map.get(key);\n    if (!objs) {\n      objs = [];\n      index.map.set(key, objs);\n    }\n    objs.push(obj);\n  }\n\n  this.size++;\n  selectors.push(selector);\n};\n\n// Public: Remove selector from set.\n//\n// selector - String CSS selector\n// data     - Optional data Object (default: undefined)\n//\n// Returns nothing.\nSelectorSet.prototype.remove = function(selector, data) {\n  if (typeof selector !== 'string') {\n    return;\n  }\n\n  var selectorIndexes, selectorIndex, i, j, k, selIndex, objs, obj;\n  var indexes = this.activeIndexes;\n  var removedIds = {};\n  var removeAll = arguments.length === 1;\n\n  selectorIndexes = parseSelectorIndexes(this.indexes, selector);\n  for (i = 0; i < selectorIndexes.length; i++) {\n    selectorIndex = selectorIndexes[i];\n\n    j = indexes.length;\n    while (j--) {\n      selIndex = indexes[j];\n      if (selectorIndex.index.isPrototypeOf(selIndex)) {\n        objs = selIndex.map.get(selectorIndex.key);\n        if (objs) {\n          k = objs.length;\n          while (k--) {\n            obj = objs[k];\n            if (obj.selector === selector && (removeAll || obj.data === data)) {\n              objs.splice(k, 1);\n              removedIds[obj.id] = true;\n            }\n          }\n        }\n        break;\n      }\n    }\n  }\n\n  this.size -= Object.keys(removedIds).length;\n};\n\n// Sort by id property handler.\n//\n// a - Selector obj.\n// b - Selector obj.\n//\n// Returns Number.\nfunction sortById(a, b) {\n  return a.id - b.id;\n}\n\n// Public: Find all matching decendants of the context element.\n//\n// context - An Element\n//\n// Returns Array of {selector, data, elements} matches.\nSelectorSet.prototype.queryAll = function(context) {\n  if (!this.selectors.length) {\n    return [];\n  }\n\n  var matches = {}, results = [];\n  var els = this.querySelectorAll(this.selectors.join(', '), context);\n\n  var i, j, len, len2, el, m, match, obj;\n  for (i = 0, len = els.length; i < len; i++) {\n    el = els[i];\n    m = this.matches(el);\n    for (j = 0, len2 = m.length; j < len2; j++) {\n      obj = m[j];\n      if (!matches[obj.id]) {\n        match = {\n          id: obj.id,\n          selector: obj.selector,\n          data: obj.data,\n          elements: []\n        };\n        matches[obj.id] = match;\n        results.push(match);\n      } else {\n        match = matches[obj.id];\n      }\n      match.elements.push(el);\n    }\n  }\n\n  return results.sort(sortById);\n};\n\n// Public: Match element against all selectors in set.\n//\n// el - An Element\n//\n// Returns Array of {selector, data} matches.\nSelectorSet.prototype.matches = function(el) {\n  if (!el) {\n    return [];\n  }\n\n  var i, j, k, len, len2, len3, index, keys, objs, obj, id;\n  var indexes = this.activeIndexes, matchedIds = {}, matches = [];\n\n  for (i = 0, len = indexes.length; i < len; i++) {\n    index = indexes[i];\n    keys = index.element(el);\n    if (keys) {\n      for (j = 0, len2 = keys.length; j < len2; j++) {\n        if (objs = index.map.get(keys[j])) {\n          for (k = 0, len3 = objs.length; k < len3; k++) {\n            obj = objs[k];\n            id = obj.id;\n            if (!matchedIds[id] && this.matchesSelector(el, obj.selector)) {\n              matchedIds[id] = true;\n              matches.push(obj);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return matches.sort(sortById);\n};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isPrimitive } from '../lib/parts.js';\nimport { directive } from '../lit-html.js';\nconst _state = new WeakMap();\n// Effectively infinity, but a SMI.\nconst _infinity = 0x7fffffff;\n/**\n * Renders one of a series of values, including Promises, to a Part.\n *\n * Values are rendered in priority order, with the first argument having the\n * highest priority and the last argument having the lowest priority. If a\n * value is a Promise, low-priority values will be rendered until it resolves.\n *\n * The priority of values can be used to create placeholder content for async\n * data. For example, a Promise with pending content can be the first,\n * highest-priority, argument, and a non_promise loading indicator template can\n * be used as the second, lower-priority, argument. The loading indicator will\n * render immediately, and the primary content will render when the Promise\n * resolves.\n *\n * Example:\n *\n *     const content = fetch('./content.txt').then(r => r.text());\n *     html`${until(content, html`<span>Loading...</span>`)}`\n */\nexport const until = directive((...args) => (part) => {\n    let state = _state.get(part);\n    if (state === undefined) {\n        state = {\n            lastRenderedIndex: _infinity,\n            values: [],\n        };\n        _state.set(part, state);\n    }\n    const previousValues = state.values;\n    let previousLength = previousValues.length;\n    state.values = args;\n    for (let i = 0; i < args.length; i++) {\n        // If we've rendered a higher-priority value already, stop.\n        if (i > state.lastRenderedIndex) {\n            break;\n        }\n        const value = args[i];\n        // Render non-Promise values immediately\n        if (isPrimitive(value) ||\n            typeof value.then !== 'function') {\n            part.setValue(value);\n            state.lastRenderedIndex = i;\n            // Since a lower-priority value will never overwrite a higher-priority\n            // synchronous value, we can stop processsing now.\n            break;\n        }\n        // If this is a Promise we've already handled, skip it.\n        if (i < previousLength && value === previousValues[i]) {\n            continue;\n        }\n        // We have a Promise that we haven't seen before, so priorities may have\n        // changed. Forget what we rendered before.\n        state.lastRenderedIndex = _infinity;\n        previousLength = 0;\n        Promise.resolve(value).then((resolvedValue) => {\n            const index = state.values.indexOf(value);\n            // If state.values doesn't contain the value, we've re-rendered without\n            // the value, so don't render it. Then, only render if the value is\n            // higher-priority than what's already been rendered.\n            if (index > -1 && index < state.lastRenderedIndex) {\n                state.lastRenderedIndex = index;\n                part.setValue(resolvedValue);\n                part.commit();\n            }\n        });\n    }\n});\n//# sourceMappingURL=until.js.map","export function throttle(callback, wait = 0, { start = true, middle = true, once = false } = {}) {\n    let last = 0;\n    let timer;\n    let cancelled = false;\n    function fn(...args) {\n        if (cancelled)\n            return;\n        const delta = Date.now() - last;\n        last = Date.now();\n        if (start) {\n            start = false;\n            callback.apply(this, args);\n            if (once)\n                fn.cancel();\n        }\n        else if ((middle && delta < wait) || !middle) {\n            clearTimeout(timer);\n            timer = setTimeout(() => {\n                last = Date.now();\n                callback.apply(this, args);\n                if (once)\n                    fn.cancel();\n            }, !middle ? wait : wait - delta);\n        }\n    }\n    fn.cancel = () => {\n        clearTimeout(timer);\n        cancelled = true;\n    };\n    return fn;\n}\nexport function debounce(callback, wait = 0, { start = false, middle = false, once = false } = {}) {\n    return throttle(callback, wait, { start, middle, once });\n}\n","const CLOSE_ATTR = 'data-close-dialog';\nconst CLOSE_SELECTOR = `[${CLOSE_ATTR}]`;\nfunction autofocus(el) {\n    let autofocusElement = Array.from(el.querySelectorAll('[autofocus]')).filter(focusable)[0];\n    if (!autofocusElement) {\n        autofocusElement = el;\n        el.setAttribute('tabindex', '-1');\n    }\n    autofocusElement.focus();\n}\nfunction keydown(event) {\n    const details = event.currentTarget;\n    if (!(details instanceof Element))\n        return;\n    if (event.key === 'Escape' || event.key === 'Esc') {\n        toggleDetails(details, false);\n        event.stopPropagation();\n    }\n    else if (event.key === 'Tab') {\n        restrictTabBehavior(event);\n    }\n}\nfunction focusable(el) {\n    return el.tabIndex >= 0 && !el.disabled && visible(el);\n}\nfunction visible(el) {\n    return (!el.hidden &&\n        (!el.type || el.type !== 'hidden') &&\n        (el.offsetWidth > 0 || el.offsetHeight > 0));\n}\nfunction restrictTabBehavior(event) {\n    if (!(event.currentTarget instanceof Element))\n        return;\n    const dialog = event.currentTarget.querySelector('details-dialog');\n    if (!dialog)\n        return;\n    event.preventDefault();\n    const elements = Array.from(dialog.querySelectorAll('*')).filter(focusable);\n    if (elements.length === 0)\n        return;\n    const movement = event.shiftKey ? -1 : 1;\n    const root = dialog.getRootNode();\n    const currentFocus = dialog.contains(root.activeElement) ? root.activeElement : null;\n    let targetIndex = movement === -1 ? -1 : 0;\n    if (currentFocus instanceof HTMLElement) {\n        const currentIndex = elements.indexOf(currentFocus);\n        if (currentIndex !== -1) {\n            targetIndex = currentIndex + movement;\n        }\n    }\n    if (targetIndex < 0) {\n        targetIndex = elements.length - 1;\n    }\n    else {\n        targetIndex = targetIndex % elements.length;\n    }\n    elements[targetIndex].focus();\n}\nfunction allowClosingDialog(details) {\n    const dialog = details.querySelector('details-dialog');\n    if (!(dialog instanceof DetailsDialogElement))\n        return true;\n    return dialog.dispatchEvent(new CustomEvent('details-dialog-close', {\n        bubbles: true,\n        cancelable: true\n    }));\n}\nfunction onSummaryClick(event) {\n    if (!(event.currentTarget instanceof Element))\n        return;\n    const details = event.currentTarget.closest('details');\n    if (!details || !details.hasAttribute('open'))\n        return;\n    if (!allowClosingDialog(details)) {\n        event.preventDefault();\n        event.stopPropagation();\n    }\n}\nfunction toggle(event) {\n    const details = event.currentTarget;\n    if (!(details instanceof Element))\n        return;\n    const dialog = details.querySelector('details-dialog');\n    if (!(dialog instanceof DetailsDialogElement))\n        return;\n    if (details.hasAttribute('open')) {\n        const root = 'getRootNode' in dialog ? dialog.getRootNode() : document;\n        if (root.activeElement instanceof HTMLElement) {\n            initialized.set(dialog, { details, activeElement: root.activeElement });\n        }\n        autofocus(dialog);\n        details.addEventListener('keydown', keydown);\n    }\n    else {\n        for (const form of dialog.querySelectorAll('form')) {\n            form.reset();\n        }\n        const focusElement = findFocusElement(details, dialog);\n        if (focusElement)\n            focusElement.focus();\n        details.removeEventListener('keydown', keydown);\n    }\n}\nfunction findFocusElement(details, dialog) {\n    const state = initialized.get(dialog);\n    if (state && state.activeElement instanceof HTMLElement) {\n        return state.activeElement;\n    }\n    else {\n        return details.querySelector('summary');\n    }\n}\nfunction toggleDetails(details, open) {\n    if (open === details.hasAttribute('open'))\n        return;\n    if (open) {\n        details.setAttribute('open', '');\n    }\n    else if (allowClosingDialog(details)) {\n        details.removeAttribute('open');\n    }\n}\nfunction loadIncludeFragment(event) {\n    const details = event.currentTarget;\n    if (!(details instanceof Element))\n        return;\n    const dialog = details.querySelector('details-dialog');\n    if (!(dialog instanceof DetailsDialogElement))\n        return;\n    const loader = dialog.querySelector('include-fragment:not([src])');\n    if (!loader)\n        return;\n    const src = dialog.src;\n    if (src === null)\n        return;\n    loader.addEventListener('loadend', () => {\n        if (details.hasAttribute('open'))\n            autofocus(dialog);\n    });\n    loader.setAttribute('src', src);\n    removeIncludeFragmentEventListeners(details);\n}\nfunction updateIncludeFragmentEventListeners(details, src, preload) {\n    removeIncludeFragmentEventListeners(details);\n    if (src) {\n        details.addEventListener('toggle', loadIncludeFragment, { once: true });\n    }\n    if (src && preload) {\n        details.addEventListener('mouseover', loadIncludeFragment, { once: true });\n    }\n}\nfunction removeIncludeFragmentEventListeners(details) {\n    details.removeEventListener('toggle', loadIncludeFragment);\n    details.removeEventListener('mouseover', loadIncludeFragment);\n}\nconst initialized = new WeakMap();\nclass DetailsDialogElement extends HTMLElement {\n    static get CLOSE_ATTR() {\n        return CLOSE_ATTR;\n    }\n    static get CLOSE_SELECTOR() {\n        return CLOSE_SELECTOR;\n    }\n    constructor() {\n        super();\n        initialized.set(this, { details: null, activeElement: null });\n        this.addEventListener('click', function ({ target }) {\n            if (!(target instanceof Element))\n                return;\n            const details = target.closest('details');\n            if (details && target.closest(CLOSE_SELECTOR)) {\n                toggleDetails(details, false);\n            }\n        });\n    }\n    get src() {\n        return this.getAttribute('src');\n    }\n    set src(value) {\n        this.setAttribute('src', value || '');\n    }\n    get preload() {\n        return this.hasAttribute('preload');\n    }\n    set preload(value) {\n        value ? this.setAttribute('preload', '') : this.removeAttribute('preload');\n    }\n    connectedCallback() {\n        this.setAttribute('role', 'dialog');\n        this.setAttribute('aria-modal', 'true');\n        const state = initialized.get(this);\n        if (!state)\n            return;\n        const details = this.parentElement;\n        if (!details)\n            return;\n        const summary = details.querySelector('summary');\n        if (summary) {\n            if (!summary.hasAttribute('role'))\n                summary.setAttribute('role', 'button');\n            summary.addEventListener('click', onSummaryClick, { capture: true });\n        }\n        details.addEventListener('toggle', toggle);\n        state.details = details;\n        updateIncludeFragmentEventListeners(details, this.src, this.preload);\n    }\n    disconnectedCallback() {\n        const state = initialized.get(this);\n        if (!state)\n            return;\n        const { details } = state;\n        if (!details)\n            return;\n        details.removeEventListener('toggle', toggle);\n        removeIncludeFragmentEventListeners(details);\n        const summary = details.querySelector('summary');\n        if (summary) {\n            summary.removeEventListener('click', onSummaryClick, { capture: true });\n        }\n        state.details = null;\n    }\n    toggle(open) {\n        const state = initialized.get(this);\n        if (!state)\n            return;\n        const { details } = state;\n        if (!details)\n            return;\n        toggleDetails(details, open);\n    }\n    static get observedAttributes() {\n        return ['src', 'preload'];\n    }\n    attributeChangedCallback() {\n        const state = initialized.get(this);\n        if (!state)\n            return;\n        const { details } = state;\n        if (!details)\n            return;\n        updateIncludeFragmentEventListeners(details, this.src, this.preload);\n    }\n}\nexport default DetailsDialogElement;\nif (!window.customElements.get('details-dialog')) {\n    window.DetailsDialogElement = DetailsDialogElement;\n    window.customElements.define('details-dialog', DetailsDialogElement);\n}\n","function throttle(callback, wait = 0, {\n  start = true,\n  middle = true,\n  once = false\n} = {}) {\n  var last = 0;\n  var timer;\n  var cancelled = false;\n\n  var fn = function fn(...args) {\n    if (cancelled) return;\n    var delta = Date.now() - last;\n    last = Date.now();\n\n    if (start) {\n      //eslint-disable-next-line flowtype/no-flow-fix-me-comments\n      // $FlowFixMe this isn't a const\n      start = false;\n      callback(...args);\n      if (once) fn.cancel();\n    } else if (middle && delta < wait || !middle) {\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        last = Date.now();\n        callback(...args);\n        if (once) fn.cancel();\n      }, !middle ? wait : wait - delta);\n    }\n  };\n\n  fn.cancel = function () {\n    clearTimeout(timer);\n    cancelled = true;\n  };\n\n  return fn;\n}\nfunction debounce(callback, wait = 0, {\n  start = false,\n  middle = false,\n  once = false\n} = {}) {\n  return throttle(callback, wait, {\n    start: start,\n    middle: middle,\n    once: once\n  });\n}\n\nconst states = new WeakMap();\nclass AutoCheckElement extends HTMLElement {\n    connectedCallback() {\n        const input = this.input;\n        if (!input)\n            return;\n        const checker = debounce(check.bind(null, this), 300);\n        const state = { check: checker, controller: null };\n        states.set(this, state);\n        input.addEventListener('input', setLoadingState);\n        input.addEventListener('input', checker);\n        input.autocomplete = 'off';\n        input.spellcheck = false;\n    }\n    disconnectedCallback() {\n        const input = this.input;\n        if (!input)\n            return;\n        const state = states.get(this);\n        if (!state)\n            return;\n        states.delete(this);\n        input.removeEventListener('input', setLoadingState);\n        input.removeEventListener('input', state.check);\n        input.setCustomValidity('');\n    }\n    attributeChangedCallback(name) {\n        if (name === 'required') {\n            const input = this.input;\n            if (!input)\n                return;\n            input.required = this.required;\n        }\n    }\n    static get observedAttributes() {\n        return ['required'];\n    }\n    get input() {\n        return this.querySelector('input');\n    }\n    get src() {\n        const src = this.getAttribute('src');\n        if (!src)\n            return '';\n        const link = this.ownerDocument.createElement('a');\n        link.href = src;\n        return link.href;\n    }\n    set src(value) {\n        this.setAttribute('src', value);\n    }\n    get csrf() {\n        const csrfElement = this.querySelector('[data-csrf]');\n        return this.getAttribute('csrf') || (csrfElement instanceof HTMLInputElement && csrfElement.value) || '';\n    }\n    set csrf(value) {\n        this.setAttribute('csrf', value);\n    }\n    get required() {\n        return this.hasAttribute('required');\n    }\n    set required(required) {\n        if (required) {\n            this.setAttribute('required', '');\n        }\n        else {\n            this.removeAttribute('required');\n        }\n    }\n}\nfunction setLoadingState(event) {\n    const input = event.currentTarget;\n    if (!(input instanceof HTMLInputElement))\n        return;\n    const autoCheckElement = input.closest('auto-check');\n    if (!(autoCheckElement instanceof AutoCheckElement))\n        return;\n    const src = autoCheckElement.src;\n    const csrf = autoCheckElement.csrf;\n    const state = states.get(autoCheckElement);\n    if (!src || !csrf || !state) {\n        return;\n    }\n    let message = 'Verifying…';\n    const setValidity = (text) => (message = text);\n    input.dispatchEvent(new CustomEvent('auto-check-start', {\n        bubbles: true,\n        detail: { setValidity }\n    }));\n    if (autoCheckElement.required) {\n        input.setCustomValidity(message);\n    }\n}\nfunction makeAbortController() {\n    if ('AbortController' in window) {\n        return new AbortController();\n    }\n    return {\n        signal: null,\n        abort() {\n        }\n    };\n}\nasync function fetchWithNetworkEvents(el, url, options) {\n    try {\n        const response = await fetch(url, options);\n        el.dispatchEvent(new CustomEvent('load'));\n        el.dispatchEvent(new CustomEvent('loadend'));\n        return response;\n    }\n    catch (error) {\n        if (error.name !== 'AbortError') {\n            el.dispatchEvent(new CustomEvent('error'));\n            el.dispatchEvent(new CustomEvent('loadend'));\n        }\n        throw error;\n    }\n}\nasync function check(autoCheckElement) {\n    const input = autoCheckElement.input;\n    if (!input) {\n        return;\n    }\n    const src = autoCheckElement.src;\n    const csrf = autoCheckElement.csrf;\n    const state = states.get(autoCheckElement);\n    if (!src || !csrf || !state) {\n        if (autoCheckElement.required) {\n            input.setCustomValidity('');\n        }\n        return;\n    }\n    if (!input.value.trim()) {\n        if (autoCheckElement.required) {\n            input.setCustomValidity('');\n        }\n        return;\n    }\n    const body = new FormData();\n    body.append('authenticity_token', csrf);\n    body.append('value', input.value);\n    input.dispatchEvent(new CustomEvent('auto-check-send', {\n        bubbles: true,\n        detail: { body }\n    }));\n    if (state.controller) {\n        state.controller.abort();\n    }\n    else {\n        autoCheckElement.dispatchEvent(new CustomEvent('loadstart'));\n    }\n    state.controller = makeAbortController();\n    try {\n        const response = await fetchWithNetworkEvents(autoCheckElement, src, {\n            credentials: 'same-origin',\n            signal: state.controller.signal,\n            method: 'POST',\n            body\n        });\n        if (response.ok) {\n            processSuccess(response, input, autoCheckElement.required);\n        }\n        else {\n            processFailure(response, input, autoCheckElement.required);\n        }\n        state.controller = null;\n        input.dispatchEvent(new CustomEvent('auto-check-complete', { bubbles: true }));\n    }\n    catch (error) {\n        if (error.name !== 'AbortError') {\n            state.controller = null;\n            input.dispatchEvent(new CustomEvent('auto-check-complete', { bubbles: true }));\n        }\n    }\n}\nfunction processSuccess(response, input, required) {\n    if (required) {\n        input.setCustomValidity('');\n    }\n    input.dispatchEvent(new CustomEvent('auto-check-success', {\n        bubbles: true,\n        detail: {\n            response: response.clone()\n        }\n    }));\n}\nfunction processFailure(response, input, required) {\n    let message = 'Validation failed';\n    const setValidity = (text) => (message = text);\n    input.dispatchEvent(new CustomEvent('auto-check-error', {\n        bubbles: true,\n        detail: {\n            response: response.clone(),\n            setValidity\n        }\n    }));\n    if (required) {\n        input.setCustomValidity(message);\n    }\n}\nif (!window.customElements.get('auto-check')) {\n    window.AutoCheckElement = AutoCheckElement;\n    window.customElements.define('auto-check', AutoCheckElement);\n}\n\nexport default AutoCheckElement;\n","function createNode(text) {\n  const node = document.createElement('pre');\n  node.style.width = '1px';\n  node.style.height = '1px';\n  node.style.position = 'fixed';\n  node.style.top = '5px';\n  node.textContent = text;\n  return node;\n}\n\nfunction copyNode(node) {\n  if ('clipboard' in navigator) {\n    // eslint-disable-next-line flowtype/no-flow-fix-me-comments\n    // $FlowFixMe Clipboard is not defined in Flow yet.\n    return navigator.clipboard.writeText(node.textContent);\n  }\n\n  const selection = getSelection();\n\n  if (selection == null) {\n    return Promise.reject(new Error());\n  }\n\n  selection.removeAllRanges();\n  const range = document.createRange();\n  range.selectNodeContents(node);\n  selection.addRange(range);\n  document.execCommand('copy');\n  selection.removeAllRanges();\n  return Promise.resolve();\n}\nfunction copyText(text) {\n  if ('clipboard' in navigator) {\n    // eslint-disable-next-line flowtype/no-flow-fix-me-comments\n    // $FlowFixMe Clipboard is not defined in Flow yet.\n    return navigator.clipboard.writeText(text);\n  }\n\n  const body = document.body;\n\n  if (!body) {\n    return Promise.reject(new Error());\n  }\n\n  const node = createNode(text);\n  body.appendChild(node);\n  copyNode(node);\n  body.removeChild(node);\n  return Promise.resolve();\n}\n\nfunction copy(button) {\n  const id = button.getAttribute('for');\n  const text = button.getAttribute('value');\n\n  function trigger() {\n    button.dispatchEvent(new CustomEvent('clipboard-copy', {\n      bubbles: true\n    }));\n  }\n\n  if (text) {\n    copyText(text).then(trigger);\n  } else if (id) {\n    const root = 'getRootNode' in Element.prototype ? button.getRootNode() : button.ownerDocument;\n    if (!(root instanceof Document || 'ShadowRoot' in window && root instanceof ShadowRoot)) return;\n    const node = root.getElementById(id);\n    if (node) copyTarget(node).then(trigger);\n  }\n}\n\nfunction copyTarget(content) {\n  if (content instanceof HTMLInputElement || content instanceof HTMLTextAreaElement) {\n    return copyText(content.value);\n  } else if (content instanceof HTMLAnchorElement && content.hasAttribute('href')) {\n    return copyText(content.href);\n  } else {\n    return copyNode(content);\n  }\n}\n\nfunction clicked(event) {\n  const button = event.currentTarget;\n\n  if (button instanceof HTMLElement) {\n    copy(button);\n  }\n}\n\nfunction keydown(event) {\n  if (event.key === ' ' || event.key === 'Enter') {\n    const button = event.currentTarget;\n\n    if (button instanceof HTMLElement) {\n      event.preventDefault();\n      copy(button);\n    }\n  }\n}\n\nfunction focused(event) {\n  event.currentTarget.addEventListener('keydown', keydown);\n}\n\nfunction blurred(event) {\n  event.currentTarget.removeEventListener('keydown', keydown);\n}\n\nclass ClipboardCopyElement extends HTMLElement {\n  constructor() {\n    super();\n    this.addEventListener('click', clicked);\n    this.addEventListener('focus', focused);\n    this.addEventListener('blur', blurred);\n  }\n\n  connectedCallback() {\n    if (!this.hasAttribute('tabindex')) {\n      this.setAttribute('tabindex', '0');\n    }\n\n    if (!this.hasAttribute('role')) {\n      this.setAttribute('role', 'button');\n    }\n  }\n\n  get value() {\n    return this.getAttribute('value') || '';\n  }\n\n  set value(text) {\n    this.setAttribute('value', text);\n  }\n\n}\n\nif (!window.customElements.get('clipboard-copy')) {\n  window.ClipboardCopyElement = ClipboardCopyElement;\n  window.customElements.define('clipboard-copy', ClipboardCopyElement);\n}\n\nexport default ClipboardCopyElement;\n","class DetailsMenuElement extends HTMLElement {\n    constructor() {\n        super();\n    }\n    get preload() {\n        return this.hasAttribute('preload');\n    }\n    set preload(value) {\n        if (value) {\n            this.setAttribute('preload', '');\n        }\n        else {\n            this.removeAttribute('preload');\n        }\n    }\n    get src() {\n        return this.getAttribute('src') || '';\n    }\n    set src(value) {\n        this.setAttribute('src', value);\n    }\n    connectedCallback() {\n        if (!this.hasAttribute('role'))\n            this.setAttribute('role', 'menu');\n        const details = this.parentElement;\n        if (!details)\n            return;\n        const summary = details.querySelector('summary');\n        if (summary) {\n            summary.setAttribute('aria-haspopup', 'menu');\n            if (!summary.hasAttribute('role'))\n                summary.setAttribute('role', 'button');\n        }\n        const subscriptions = [\n            fromEvent(details, 'compositionstart', e => trackComposition(this, e)),\n            fromEvent(details, 'compositionend', e => trackComposition(this, e)),\n            fromEvent(details, 'click', e => shouldCommit(details, this, e)),\n            fromEvent(details, 'change', e => shouldCommit(details, this, e)),\n            fromEvent(details, 'keydown', e => keydown(details, this, e)),\n            fromEvent(details, 'toggle', () => loadFragment(details, this), { once: true }),\n            fromEvent(details, 'toggle', () => closeCurrentMenu(details)),\n            this.preload\n                ? fromEvent(details, 'mouseover', () => loadFragment(details, this), { once: true })\n                : NullSubscription,\n            ...focusOnOpen(details)\n        ];\n        states.set(this, { subscriptions, loaded: false, isComposing: false });\n    }\n    disconnectedCallback() {\n        const state = states.get(this);\n        if (!state)\n            return;\n        states.delete(this);\n        for (const sub of state.subscriptions) {\n            sub.unsubscribe();\n        }\n    }\n}\nconst states = new WeakMap();\nconst NullSubscription = {\n    unsubscribe() {\n    }\n};\nfunction fromEvent(target, eventName, onNext, options = false) {\n    target.addEventListener(eventName, onNext, options);\n    return {\n        unsubscribe: () => {\n            target.removeEventListener(eventName, onNext, options);\n        }\n    };\n}\nfunction loadFragment(details, menu) {\n    const src = menu.getAttribute('src');\n    if (!src)\n        return;\n    const state = states.get(menu);\n    if (!state)\n        return;\n    if (state.loaded)\n        return;\n    state.loaded = true;\n    const loader = menu.querySelector('include-fragment');\n    if (loader && !loader.hasAttribute('src')) {\n        loader.addEventListener('loadend', () => autofocus(details));\n        loader.setAttribute('src', src);\n    }\n}\nfunction focusOnOpen(details) {\n    let isMouse = false;\n    const onmousedown = () => (isMouse = true);\n    const onkeydown = () => (isMouse = false);\n    const ontoggle = () => {\n        if (!details.hasAttribute('open'))\n            return;\n        if (autofocus(details))\n            return;\n        if (!isMouse)\n            focusFirstItem(details);\n    };\n    return [\n        fromEvent(details, 'mousedown', onmousedown),\n        fromEvent(details, 'keydown', onkeydown),\n        fromEvent(details, 'toggle', ontoggle)\n    ];\n}\nfunction closeCurrentMenu(details) {\n    if (!details.hasAttribute('open'))\n        return;\n    for (const menu of document.querySelectorAll('details[open] > details-menu')) {\n        const opened = menu.closest('details');\n        if (opened && opened !== details && !opened.contains(details)) {\n            opened.removeAttribute('open');\n        }\n    }\n}\nfunction autofocus(details) {\n    if (!details.hasAttribute('open'))\n        return false;\n    const input = details.querySelector('[autofocus]');\n    if (input) {\n        input.focus();\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction focusFirstItem(details) {\n    const selected = document.activeElement;\n    if (selected && isMenuItem(selected) && details.contains(selected))\n        return;\n    const target = sibling(details, true);\n    if (target)\n        target.focus();\n}\nfunction sibling(details, next) {\n    const options = Array.from(details.querySelectorAll('[role^=\"menuitem\"]:not([hidden]):not([disabled]):not([aria-disabled=\"true\"])'));\n    const selected = document.activeElement;\n    const index = selected instanceof HTMLElement ? options.indexOf(selected) : -1;\n    const found = next ? options[index + 1] : options[index - 1];\n    const def = next ? options[0] : options[options.length - 1];\n    return found || def;\n}\nconst ctrlBindings = navigator.userAgent.match(/Macintosh/);\nfunction shouldCommit(details, menu, event) {\n    const target = event.target;\n    if (!(target instanceof Element))\n        return;\n    if (target.closest('details') !== details)\n        return;\n    if (event.type === 'click') {\n        const menuitem = target.closest('[role=\"menuitem\"], [role=\"menuitemradio\"]');\n        const onlyCommitOnChangeEvent = menuitem && menuitem.tagName === 'LABEL' && menuitem.querySelector('input');\n        if (menuitem && !onlyCommitOnChangeEvent) {\n            commit(menuitem, details);\n        }\n    }\n    else if (event.type === 'change') {\n        const menuitem = target.closest('[role=\"menuitemradio\"], [role=\"menuitemcheckbox\"]');\n        if (menuitem)\n            commit(menuitem, details);\n    }\n}\nfunction updateChecked(selected, details) {\n    for (const el of details.querySelectorAll('[role=\"menuitemradio\"], [role=\"menuitemcheckbox\"]')) {\n        const input = el.querySelector('input[type=\"radio\"], input[type=\"checkbox\"]');\n        let checkState = (el === selected).toString();\n        if (input instanceof HTMLInputElement) {\n            checkState = input.indeterminate ? 'mixed' : input.checked.toString();\n        }\n        el.setAttribute('aria-checked', checkState);\n    }\n}\nfunction commit(selected, details) {\n    if (selected.hasAttribute('disabled') || selected.getAttribute('aria-disabled') === 'true')\n        return;\n    const menu = selected.closest('details-menu');\n    if (!menu)\n        return;\n    const dispatched = menu.dispatchEvent(new CustomEvent('details-menu-select', {\n        cancelable: true,\n        detail: { relatedTarget: selected }\n    }));\n    if (!dispatched)\n        return;\n    updateLabel(selected, details);\n    updateChecked(selected, details);\n    if (selected.getAttribute('role') !== 'menuitemcheckbox')\n        close(details);\n    menu.dispatchEvent(new CustomEvent('details-menu-selected', {\n        detail: { relatedTarget: selected }\n    }));\n}\nfunction keydown(details, menu, event) {\n    if (!(event instanceof KeyboardEvent))\n        return;\n    if (details.querySelector('details[open]'))\n        return;\n    const state = states.get(menu);\n    if (!state || state.isComposing)\n        return;\n    const isSummaryFocused = event.target instanceof Element && event.target.tagName === 'SUMMARY';\n    switch (event.key) {\n        case 'Escape':\n            if (details.hasAttribute('open')) {\n                close(details);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            break;\n        case 'ArrowDown':\n            {\n                if (isSummaryFocused && !details.hasAttribute('open')) {\n                    details.setAttribute('open', '');\n                }\n                const target = sibling(details, true);\n                if (target)\n                    target.focus();\n                event.preventDefault();\n            }\n            break;\n        case 'ArrowUp':\n            {\n                if (isSummaryFocused && !details.hasAttribute('open')) {\n                    details.setAttribute('open', '');\n                }\n                const target = sibling(details, false);\n                if (target)\n                    target.focus();\n                event.preventDefault();\n            }\n            break;\n        case 'n':\n            {\n                if (ctrlBindings && event.ctrlKey) {\n                    const target = sibling(details, true);\n                    if (target)\n                        target.focus();\n                    event.preventDefault();\n                }\n            }\n            break;\n        case 'p':\n            {\n                if (ctrlBindings && event.ctrlKey) {\n                    const target = sibling(details, false);\n                    if (target)\n                        target.focus();\n                    event.preventDefault();\n                }\n            }\n            break;\n        case ' ':\n        case 'Enter':\n            {\n                const selected = document.activeElement;\n                if (selected instanceof HTMLElement && isMenuItem(selected) && selected.closest('details') === details) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    selected.click();\n                }\n            }\n            break;\n    }\n}\nfunction isMenuItem(el) {\n    const role = el.getAttribute('role');\n    return role === 'menuitem' || role === 'menuitemcheckbox' || role === 'menuitemradio';\n}\nfunction close(details) {\n    const wasOpen = details.hasAttribute('open');\n    if (!wasOpen)\n        return;\n    details.removeAttribute('open');\n    const summary = details.querySelector('summary');\n    if (summary)\n        summary.focus();\n}\nfunction updateLabel(item, details) {\n    const button = details.querySelector('[data-menu-button]');\n    if (!button)\n        return;\n    const text = labelText(item);\n    if (text) {\n        button.textContent = text;\n    }\n    else {\n        const html = labelHTML(item);\n        if (html)\n            button.innerHTML = html;\n    }\n}\nfunction labelText(el) {\n    if (!el)\n        return null;\n    const textEl = el.hasAttribute('data-menu-button-text') ? el : el.querySelector('[data-menu-button-text]');\n    if (!textEl)\n        return null;\n    return textEl.getAttribute('data-menu-button-text') || textEl.textContent;\n}\nfunction labelHTML(el) {\n    if (!el)\n        return null;\n    const contentsEl = el.hasAttribute('data-menu-button-contents') ? el : el.querySelector('[data-menu-button-contents]');\n    return contentsEl ? contentsEl.innerHTML : null;\n}\nfunction trackComposition(menu, event) {\n    const state = states.get(menu);\n    if (!state)\n        return;\n    state.isComposing = event.type === 'compositionstart';\n}\nexport default DetailsMenuElement;\nif (!window.customElements.get('details-menu')) {\n    window.DetailsMenuElement = DetailsMenuElement;\n    window.customElements.define('details-menu', DetailsMenuElement);\n}\n","class Attachment {\n    constructor(file, directory) {\n        this.file = file;\n        this.directory = directory;\n        this.state = 'pending';\n        this.id = null;\n        this.href = null;\n        this.name = null;\n        this.percent = 0;\n    }\n    static traverse(transfer, directory) {\n        return transferredFiles(transfer, directory);\n    }\n    static from(files) {\n        const result = [];\n        for (const file of files) {\n            if (file instanceof File) {\n                result.push(new Attachment(file));\n            }\n            else if (file instanceof Attachment) {\n                result.push(file);\n            }\n            else {\n                throw new Error('Unexpected type');\n            }\n        }\n        return result;\n    }\n    get fullPath() {\n        return this.directory ? `${this.directory}/${this.file.name}` : this.file.name;\n    }\n    isImage() {\n        return ['image/gif', 'image/png', 'image/jpg', 'image/jpeg'].indexOf(this.file.type) > -1;\n    }\n    saving(percent) {\n        if (this.state !== 'pending' && this.state !== 'saving') {\n            throw new Error(`Unexpected transition from ${this.state} to saving`);\n        }\n        this.state = 'saving';\n        this.percent = percent;\n    }\n    saved(attributes) {\n        var _a, _b, _c;\n        if (this.state !== 'pending' && this.state !== 'saving') {\n            throw new Error(`Unexpected transition from ${this.state} to saved`);\n        }\n        this.state = 'saved';\n        this.id = (_a = attributes === null || attributes === void 0 ? void 0 : attributes.id) !== null && _a !== void 0 ? _a : null;\n        this.href = (_b = attributes === null || attributes === void 0 ? void 0 : attributes.href) !== null && _b !== void 0 ? _b : null;\n        this.name = (_c = attributes === null || attributes === void 0 ? void 0 : attributes.name) !== null && _c !== void 0 ? _c : null;\n    }\n    isPending() {\n        return this.state === 'pending';\n    }\n    isSaving() {\n        return this.state === 'saving';\n    }\n    isSaved() {\n        return this.state === 'saved';\n    }\n}\nfunction transferredFiles(transfer, directory) {\n    if (directory && isDirectory(transfer)) {\n        return traverse('', roots(transfer));\n    }\n    return Promise.resolve(visible(Array.from(transfer.files || [])).map(f => new Attachment(f)));\n}\nfunction hidden(file) {\n    return file.name.startsWith('.');\n}\nfunction visible(files) {\n    return Array.from(files).filter(file => !hidden(file));\n}\nfunction getFile(entry) {\n    return new Promise(function (resolve, reject) {\n        entry.file(resolve, reject);\n    });\n}\nfunction getEntries(entry) {\n    return new Promise(function (resolve, reject) {\n        const result = [];\n        const reader = entry.createReader();\n        const read = () => {\n            reader.readEntries(entries => {\n                if (entries.length > 0) {\n                    result.push(...entries);\n                    read();\n                }\n                else {\n                    resolve(result);\n                }\n            }, reject);\n        };\n        read();\n    });\n}\nasync function traverse(path, entries) {\n    const results = [];\n    for (const entry of visible(entries)) {\n        if (entry.isDirectory) {\n            results.push(...(await traverse(entry.fullPath, await getEntries(entry))));\n        }\n        else {\n            const file = await getFile(entry);\n            results.push(new Attachment(file, path));\n        }\n    }\n    return results;\n}\nfunction isDirectory(transfer) {\n    return (transfer.items &&\n        Array.from(transfer.items).some((item) => {\n            const entry = item.webkitGetAsEntry && item.webkitGetAsEntry();\n            return entry && entry.isDirectory;\n        }));\n}\nfunction roots(transfer) {\n    return Array.from(transfer.items)\n        .map((item) => item.webkitGetAsEntry())\n        .filter(entry => entry != null);\n}\n\nclass FileAttachmentElement extends HTMLElement {\n    constructor() {\n        super();\n        this.addEventListener('dragenter', onDragenter);\n        this.addEventListener('dragover', onDragenter);\n        this.addEventListener('dragleave', onDragleave);\n        this.addEventListener('drop', onDrop);\n        this.addEventListener('paste', onPaste);\n        this.addEventListener('change', onChange);\n    }\n    get directory() {\n        return this.hasAttribute('directory');\n    }\n    set directory(value) {\n        if (value) {\n            this.setAttribute('directory', '');\n        }\n        else {\n            this.removeAttribute('directory');\n        }\n    }\n    async attach(transferred) {\n        const attachments = transferred instanceof DataTransfer\n            ? await Attachment.traverse(transferred, this.directory)\n            : Attachment.from(transferred);\n        const accepted = this.dispatchEvent(new CustomEvent('file-attachment-accept', {\n            bubbles: true,\n            cancelable: true,\n            detail: { attachments }\n        }));\n        if (accepted && attachments.length) {\n            this.dispatchEvent(new CustomEvent('file-attachment-accepted', {\n                bubbles: true,\n                detail: { attachments }\n            }));\n        }\n    }\n}\nfunction hasFile(transfer) {\n    return Array.from(transfer.types).indexOf('Files') >= 0;\n}\nlet dragging = null;\nfunction onDragenter(event) {\n    const target = event.currentTarget;\n    if (dragging) {\n        clearTimeout(dragging);\n    }\n    dragging = window.setTimeout(() => target.removeAttribute('hover'), 200);\n    const transfer = event.dataTransfer;\n    if (!transfer || !hasFile(transfer))\n        return;\n    transfer.dropEffect = 'copy';\n    target.setAttribute('hover', '');\n    event.stopPropagation();\n    event.preventDefault();\n}\nfunction onDragleave(event) {\n    if (event.dataTransfer) {\n        event.dataTransfer.dropEffect = 'none';\n    }\n    const target = event.currentTarget;\n    target.removeAttribute('hover');\n    event.stopPropagation();\n    event.preventDefault();\n}\nfunction onDrop(event) {\n    const container = event.currentTarget;\n    if (!(container instanceof FileAttachmentElement))\n        return;\n    container.removeAttribute('hover');\n    const transfer = event.dataTransfer;\n    if (!transfer || !hasFile(transfer))\n        return;\n    container.attach(transfer);\n    event.stopPropagation();\n    event.preventDefault();\n}\nconst images = /^image\\/(gif|png|jpeg)$/;\nfunction pastedFile(items) {\n    for (const item of items) {\n        if (images.test(item.type)) {\n            return item.getAsFile();\n        }\n    }\n    return null;\n}\nfunction onPaste(event) {\n    if (!event.clipboardData)\n        return;\n    if (!event.clipboardData.items)\n        return;\n    const container = event.currentTarget;\n    if (!(container instanceof FileAttachmentElement))\n        return;\n    const file = pastedFile(event.clipboardData.items);\n    if (!file)\n        return;\n    const files = [file];\n    container.attach(files);\n    event.preventDefault();\n}\nfunction onChange(event) {\n    const container = event.currentTarget;\n    if (!(container instanceof FileAttachmentElement))\n        return;\n    const input = event.target;\n    if (!(input instanceof HTMLInputElement))\n        return;\n    const id = container.getAttribute('input');\n    if (!id || input.id !== id)\n        return;\n    const files = input.files;\n    if (!files || files.length === 0)\n        return;\n    container.attach(files);\n    input.value = '';\n}\n\nif (!window.customElements.get('file-attachment')) {\n    window.FileAttachmentElement = FileAttachmentElement;\n    window.customElements.define('file-attachment', FileAttachmentElement);\n}\n\nexport default FileAttachmentElement;\nexport { Attachment };\n","class FilterInputElement extends HTMLElement {\n    constructor() {\n        super();\n        this.currentQuery = null;\n        this.filter = null;\n        this.debounceInputChange = debounce(() => filterResults(this, true));\n        this.boundFilterResults = () => {\n            filterResults(this, false);\n        };\n    }\n    static get observedAttributes() {\n        return ['aria-owns'];\n    }\n    attributeChangedCallback(name, oldValue) {\n        if (oldValue && name === 'aria-owns') {\n            filterResults(this, false);\n        }\n    }\n    connectedCallback() {\n        const input = this.input;\n        if (!input)\n            return;\n        input.setAttribute('autocomplete', 'off');\n        input.setAttribute('spellcheck', 'false');\n        input.addEventListener('focus', this.boundFilterResults);\n        input.addEventListener('change', this.boundFilterResults);\n        input.addEventListener('input', this.debounceInputChange);\n    }\n    disconnectedCallback() {\n        const input = this.input;\n        if (!input)\n            return;\n        input.removeEventListener('focus', this.boundFilterResults);\n        input.removeEventListener('change', this.boundFilterResults);\n        input.removeEventListener('input', this.debounceInputChange);\n    }\n    get input() {\n        const input = this.querySelector('input');\n        return input instanceof HTMLInputElement ? input : null;\n    }\n    reset() {\n        const input = this.input;\n        if (input) {\n            input.value = '';\n            input.dispatchEvent(new Event('change', { bubbles: true }));\n        }\n    }\n}\nasync function filterResults(filterInput, checkCurrentQuery = false) {\n    const input = filterInput.input;\n    if (!input)\n        return;\n    const query = input.value.trim();\n    const id = filterInput.getAttribute('aria-owns');\n    if (!id)\n        return;\n    const container = document.getElementById(id);\n    if (!container)\n        return;\n    const list = container.hasAttribute('data-filter-list') ? container : container.querySelector('[data-filter-list]');\n    if (!list)\n        return;\n    filterInput.dispatchEvent(new CustomEvent('filter-input-start', {\n        bubbles: true\n    }));\n    if (checkCurrentQuery && filterInput.currentQuery === query)\n        return;\n    filterInput.currentQuery = query;\n    const filter = filterInput.filter || matchSubstring;\n    const total = list.childElementCount;\n    let count = 0;\n    let hideNew = false;\n    for (const item of Array.from(list.children)) {\n        if (!(item instanceof HTMLElement))\n            continue;\n        const itemText = getText(item);\n        const result = filter(item, itemText, query);\n        if (result.hideNew === true)\n            hideNew = result.hideNew;\n        item.hidden = !result.match;\n        if (result.match)\n            count++;\n    }\n    const newItem = container.querySelector('[data-filter-new-item]');\n    const showCreateOption = !!newItem && query.length > 0 && !hideNew;\n    if (newItem instanceof HTMLElement) {\n        newItem.hidden = !showCreateOption;\n        if (showCreateOption)\n            updateNewItem(newItem, query);\n    }\n    toggleBlankslate(container, count > 0 || showCreateOption);\n    filterInput.dispatchEvent(new CustomEvent('filter-input-updated', {\n        bubbles: true,\n        detail: {\n            count,\n            total\n        }\n    }));\n}\nfunction matchSubstring(_item, itemText, query) {\n    const match = itemText.toLowerCase().indexOf(query.toLowerCase()) !== -1;\n    return {\n        match,\n        hideNew: itemText === query\n    };\n}\nfunction getText(filterableItem) {\n    const target = filterableItem.querySelector('[data-filter-item-text]') || filterableItem;\n    return (target.textContent || '').trim();\n}\nfunction updateNewItem(newItem, query) {\n    const newItemText = newItem.querySelector('[data-filter-new-item-text]');\n    if (newItemText)\n        newItemText.textContent = query;\n    const newItemValue = newItem.querySelector('[data-filter-new-item-value]');\n    if (newItemValue instanceof HTMLInputElement || newItemValue instanceof HTMLButtonElement) {\n        newItemValue.value = query;\n    }\n}\nfunction toggleBlankslate(container, force) {\n    const emptyState = container.querySelector('[data-filter-empty-state]');\n    if (emptyState instanceof HTMLElement)\n        emptyState.hidden = force;\n}\nfunction debounce(callback) {\n    let timeout;\n    return function () {\n        clearTimeout(timeout);\n        timeout = setTimeout(() => {\n            clearTimeout(timeout);\n            callback();\n        }, 300);\n    };\n}\nexport default FilterInputElement;\nif (!window.customElements.get('filter-input')) {\n    window.FilterInputElement = FilterInputElement;\n    window.customElements.define('filter-input', FilterInputElement);\n}\n","function isEmojiSupported() {\n    const onWindows7 = /\\bWindows NT 6.1\\b/.test(navigator.userAgent);\n    const onWindows8 = /\\bWindows NT 6.2\\b/.test(navigator.userAgent);\n    const onWindows81 = /\\bWindows NT 6.3\\b/.test(navigator.userAgent);\n    const onFreeBSD = /\\bFreeBSD\\b/.test(navigator.userAgent);\n    const onLinux = /\\bLinux\\b/.test(navigator.userAgent) && !/\\bAndroid\\b/.test(navigator.userAgent);\n    return !(onWindows7 || onWindows8 || onWindows81 || onLinux || onFreeBSD);\n}\n\nconst supported = new Set([\n    '👋',\n    '🤚',\n    '🖐️',\n    '✋',\n    '🖖',\n    '👌',\n    '🤏',\n    '✌️',\n    '🤞',\n    '🤟',\n    '🤘',\n    '🤙',\n    '👈',\n    '👉',\n    '👆',\n    '🖕',\n    '👇',\n    '☝️',\n    '👍',\n    '👎',\n    '✊',\n    '👊',\n    '🤛',\n    '🤜',\n    '👏',\n    '🙌',\n    '👐',\n    '🤲',\n    '🙏',\n    '✍️',\n    '💅',\n    '🤳',\n    '💪',\n    '🦵',\n    '🦶',\n    '👂',\n    '🦻',\n    '👃',\n    '👶',\n    '🧒',\n    '👦',\n    '👧',\n    '🧑',\n    '👱',\n    '👨',\n    '🧔',\n    '👱‍♂️',\n    '👨‍🦰',\n    '👨‍🦱',\n    '👨‍🦳',\n    '👨‍🦲',\n    '👩',\n    '👱‍♀️',\n    '👩‍🦰',\n    '👩‍🦱',\n    '👩‍🦳',\n    '👩‍🦲',\n    '🧓',\n    '👴',\n    '👵',\n    '🙍',\n    '🙍‍♂️',\n    '🙍‍♀️',\n    '🙎',\n    '🙎‍♂️',\n    '🙎‍♀️',\n    '🙅',\n    '🙅‍♂️',\n    '🙅‍♀️',\n    '🙆',\n    '🙆‍♂️',\n    '🙆‍♀️',\n    '💁',\n    '💁‍♂️',\n    '💁‍♀️',\n    '🙋',\n    '🙋‍♂️',\n    '🙋‍♀️',\n    '🧏',\n    '🧏‍♂️',\n    '🧏‍♀️',\n    '🙇',\n    '🙇‍♂️',\n    '🙇‍♀️',\n    '🤦',\n    '🤦‍♂️',\n    '🤦‍♀️',\n    '🤷',\n    '🤷‍♂️',\n    '🤷‍♀️',\n    '👨‍⚕️',\n    '👩‍⚕️',\n    '👨‍🎓',\n    '👩‍🎓',\n    '👨‍🏫',\n    '👩‍🏫',\n    '👨‍⚖️',\n    '👩‍⚖️',\n    '👨‍🌾',\n    '👩‍🌾',\n    '👨‍🍳',\n    '👩‍🍳',\n    '👨‍🔧',\n    '👩‍🔧',\n    '👨‍🏭',\n    '👩‍🏭',\n    '👨‍💼',\n    '👩‍💼',\n    '👨‍🔬',\n    '👩‍🔬',\n    '👨‍💻',\n    '👩‍💻',\n    '👨‍🎤',\n    '👩‍🎤',\n    '👨‍🎨',\n    '👩‍🎨',\n    '👨‍✈️',\n    '👩‍✈️',\n    '👨‍🚀',\n    '👩‍🚀',\n    '👨‍🚒',\n    '👩‍🚒',\n    '👮',\n    '👮‍♂️',\n    '👮‍♀️',\n    '🕵️',\n    '🕵️‍♂️',\n    '🕵️‍♀️',\n    '💂',\n    '💂‍♂️',\n    '💂‍♀️',\n    '👷',\n    '👷‍♂️',\n    '👷‍♀️',\n    '🤴',\n    '👸',\n    '👳',\n    '👳‍♂️',\n    '👳‍♀️',\n    '👲',\n    '🧕',\n    '🤵',\n    '👰',\n    '🤰',\n    '🤱',\n    '👼',\n    '🎅',\n    '🤶',\n    '🦸',\n    '🦸‍♂️',\n    '🦸‍♀️',\n    '🦹',\n    '🦹‍♂️',\n    '🦹‍♀️',\n    '🧙',\n    '🧙‍♂️',\n    '🧙‍♀️',\n    '🧚',\n    '🧚‍♂️',\n    '🧚‍♀️',\n    '🧛',\n    '🧛‍♂️',\n    '🧛‍♀️',\n    '🧜',\n    '🧜‍♂️',\n    '🧜‍♀️',\n    '🧝',\n    '🧝‍♂️',\n    '🧝‍♀️',\n    '💆',\n    '💆‍♂️',\n    '💆‍♀️',\n    '💇',\n    '💇‍♂️',\n    '💇‍♀️',\n    '🚶',\n    '🚶‍♂️',\n    '🚶‍♀️',\n    '🧍',\n    '🧍‍♂️',\n    '🧍‍♀️',\n    '🧎',\n    '🧎‍♂️',\n    '🧎‍♀️',\n    '👨‍🦯',\n    '👩‍🦯',\n    '👨‍🦼',\n    '👩‍🦼',\n    '👨‍🦽',\n    '👩‍🦽',\n    '🏃',\n    '🏃‍♂️',\n    '🏃‍♀️',\n    '💃',\n    '🕺',\n    '🕴️',\n    '🧖',\n    '🧖‍♂️',\n    '🧖‍♀️',\n    '🧗',\n    '🧗‍♂️',\n    '🧗‍♀️',\n    '🏇',\n    '🏂',\n    '🏌️',\n    '🏌️‍♂️',\n    '🏌️‍♀️',\n    '🏄',\n    '🏄‍♂️',\n    '🏄‍♀️',\n    '🚣',\n    '🚣‍♂️',\n    '🚣‍♀️',\n    '🏊',\n    '🏊‍♂️',\n    '🏊‍♀️',\n    '⛹️',\n    '⛹️‍♂️',\n    '⛹️‍♀️',\n    '🏋️',\n    '🏋️‍♂️',\n    '🏋️‍♀️',\n    '🚴',\n    '🚴‍♂️',\n    '🚴‍♀️',\n    '🚵',\n    '🚵‍♂️',\n    '🚵‍♀️',\n    '🤸',\n    '🤸‍♂️',\n    '🤸‍♀️',\n    '🤽',\n    '🤽‍♂️',\n    '🤽‍♀️',\n    '🤾',\n    '🤾‍♂️',\n    '🤾‍♀️',\n    '🤹',\n    '🤹‍♂️',\n    '🤹‍♀️',\n    '🧘',\n    '🧘‍♂️',\n    '🧘‍♀️',\n    '🛀',\n    '🛌',\n    '🧑‍🤝‍🧑',\n    '👭',\n    '👫',\n    '👬'\n]);\nfunction isModifiable(emoji) {\n    return supported.has(emoji);\n}\n\nconst ZERO_WIDTH_JOINER = '\\u{200d}';\nconst VARIATION_16 = 0xfe0f;\nfunction applyTone(sequence, tone) {\n    const sequenceWithToneRemoved = removeTone(sequence);\n    if (!isModifiable(sequenceWithToneRemoved))\n        return sequence;\n    const modifier = toneModifier(tone);\n    if (!modifier)\n        return sequence;\n    return sequenceWithToneRemoved\n        .split(ZERO_WIDTH_JOINER)\n        .map(emoji => (isModifiable(emoji) ? tint(emoji, modifier) : emoji))\n        .join(ZERO_WIDTH_JOINER);\n}\nfunction applyTones(sequence, tones) {\n    const sequenceWithToneRemoved = removeTone(sequence);\n    if (!isModifiable(sequenceWithToneRemoved))\n        return sequence;\n    const modifiers = tones.map(t => toneModifier(t));\n    return sequenceWithToneRemoved\n        .split(ZERO_WIDTH_JOINER)\n        .map(emoji => {\n        if (!isModifiable(emoji))\n            return emoji;\n        const modifier = modifiers.shift();\n        return modifier ? tint(emoji, modifier) : emoji;\n    })\n        .join(ZERO_WIDTH_JOINER);\n}\nfunction removeTone(emoji) {\n    return [...emoji].filter(ch => !isTone(ch.codePointAt(0))).join('');\n}\nfunction tint(emoji, tone) {\n    const points = [...emoji].map(p => p.codePointAt(0));\n    if (points[1] && (isTone(points[1]) || points[1] === VARIATION_16)) {\n        points[1] = tone;\n    }\n    else {\n        points.splice(1, 0, tone);\n    }\n    return String.fromCodePoint(...points);\n}\nfunction isTone(point) {\n    return point >= 0x1f3fb && point <= 0x1f3ff;\n}\nfunction toneModifier(id) {\n    switch (id) {\n        case 1:\n            return 0x1f3fb;\n        case 2:\n            return 0x1f3fc;\n        case 3:\n            return 0x1f3fd;\n        case 4:\n            return 0x1f3fe;\n        case 5:\n            return 0x1f3ff;\n        default:\n            return null;\n    }\n}\n\nclass GEmojiElement extends HTMLElement {\n    get image() {\n        if (this.firstElementChild instanceof HTMLImageElement) {\n            return this.firstElementChild;\n        }\n        else {\n            return null;\n        }\n    }\n    get tone() {\n        return (this.getAttribute('tone') || '')\n            .split(' ')\n            .map(value => {\n            const tone = parseInt(value, 10);\n            return tone >= 0 && tone <= 5 ? tone : 0;\n        })\n            .join(' ');\n    }\n    set tone(modifiers) {\n        this.setAttribute('tone', modifiers);\n    }\n    connectedCallback() {\n        if (this.image === null && !isEmojiSupported()) {\n            const src = this.getAttribute('fallback-src');\n            if (src) {\n                this.textContent = '';\n                const image = emojiImage(this);\n                image.src = src;\n                this.appendChild(image);\n            }\n        }\n        if (this.hasAttribute('tone')) {\n            updateTone(this);\n        }\n    }\n    static get observedAttributes() {\n        return ['tone'];\n    }\n    attributeChangedCallback(name) {\n        switch (name) {\n            case 'tone':\n                updateTone(this);\n                break;\n        }\n    }\n}\nfunction updateTone(el) {\n    if (el.image)\n        return;\n    const tones = el.tone.split(' ').map(x => parseInt(x, 10));\n    if (tones.length === 0) {\n        el.textContent = removeTone(el.textContent || '');\n    }\n    else if (tones.length === 1) {\n        const tone = tones[0];\n        el.textContent = tone === 0 ? removeTone(el.textContent || '') : applyTone(el.textContent || '', tone);\n    }\n    else {\n        el.textContent = applyTones(el.textContent || '', tones);\n    }\n}\nfunction emojiImage(el) {\n    const image = document.createElement('img');\n    image.className = 'emoji';\n    image.alt = el.getAttribute('alias') || '';\n    image.height = 20;\n    image.width = 20;\n    return image;\n}\nif (!window.customElements.get('g-emoji')) {\n    window.GEmojiElement = GEmojiElement;\n    window.customElements.define('g-emoji', GEmojiElement);\n}\n\nexport default GEmojiElement;\n","const privateData = new WeakMap();\nfunction fire(name, target) {\n    setTimeout(function () {\n        target.dispatchEvent(new Event(name));\n    }, 0);\n}\nasync function handleData(el) {\n    return getData(el).then(function (html) {\n        const template = document.createElement('template');\n        template.innerHTML = html;\n        const fragment = document.importNode(template.content, true);\n        const canceled = !el.dispatchEvent(new CustomEvent('include-fragment-replace', { cancelable: true, detail: { fragment } }));\n        if (canceled)\n            return;\n        el.replaceWith(fragment);\n        el.dispatchEvent(new CustomEvent('include-fragment-replaced'));\n    }, function () {\n        el.classList.add('is-error');\n    });\n}\nfunction getData(el) {\n    const src = el.src;\n    let data = privateData.get(el);\n    if (data && data.src === src) {\n        return data.data;\n    }\n    else {\n        if (src) {\n            data = el.load();\n        }\n        else {\n            data = Promise.reject(new Error('missing src'));\n        }\n        privateData.set(el, { src, data });\n        return data;\n    }\n}\nfunction isWildcard(accept) {\n    return accept && !!accept.split(',').find(x => x.match(/^\\s*\\*\\/\\*/));\n}\nexport default class IncludeFragmentElement extends HTMLElement {\n    constructor() {\n        super();\n        this._attached = false;\n    }\n    static get observedAttributes() {\n        return ['src'];\n    }\n    get src() {\n        const src = this.getAttribute('src');\n        if (src) {\n            const link = this.ownerDocument.createElement('a');\n            link.href = src;\n            return link.href;\n        }\n        else {\n            return '';\n        }\n    }\n    set src(val) {\n        this.setAttribute('src', val);\n    }\n    get accept() {\n        return this.getAttribute('accept') || '';\n    }\n    set accept(val) {\n        this.setAttribute('accept', val);\n    }\n    get data() {\n        return getData(this);\n    }\n    attributeChangedCallback(attribute) {\n        if (attribute === 'src') {\n            if (this._attached) {\n                handleData(this);\n            }\n        }\n    }\n    connectedCallback() {\n        this._attached = true;\n        if (this.src) {\n            handleData(this);\n        }\n    }\n    disconnectedCallback() {\n        this._attached = false;\n    }\n    request() {\n        const src = this.src;\n        if (!src) {\n            throw new Error('missing src');\n        }\n        return new Request(src, {\n            method: 'GET',\n            credentials: 'same-origin',\n            headers: {\n                Accept: this.accept || 'text/html'\n            }\n        });\n    }\n    load() {\n        return Promise.resolve()\n            .then(() => {\n            fire('loadstart', this);\n            return this.fetch(this.request());\n        })\n            .then(response => {\n            if (response.status !== 200) {\n                throw new Error(`Failed to load resource: the server responded with a status of ${response.status}`);\n            }\n            const ct = response.headers.get('Content-Type');\n            if (!isWildcard(this.accept) && (!ct || !ct.includes(this.accept ? this.accept : 'text/html'))) {\n                throw new Error(`Failed to load resource: expected ${this.accept || 'text/html'} but was ${ct}`);\n            }\n            return response;\n        })\n            .then(response => response.text())\n            .then(data => {\n            fire('load', this);\n            fire('loadend', this);\n            return data;\n        }, error => {\n            fire('error', this);\n            fire('loadend', this);\n            throw error;\n        });\n    }\n    fetch(request) {\n        return fetch(request);\n    }\n}\nif (!window.customElements.get('include-fragment')) {\n    window.IncludeFragmentElement = IncludeFragmentElement;\n    window.customElements.define('include-fragment', IncludeFragmentElement);\n}\n","const tmpl = document.createElement('template');\ntmpl.innerHTML = `\n  <div class=\"crop-wrapper\">\n    <img width=\"100%\" class=\"crop-image\" alt=\"\">\n    <div class=\"crop-container\">\n      <div data-crop-box class=\"crop-box\">\n        <div class=\"crop-outline\"></div>\n        <div data-direction=\"nw\" class=\"handle nw\"></div>\n        <div data-direction=\"ne\" class=\"handle ne\"></div>\n        <div data-direction=\"sw\" class=\"handle sw\"></div>\n        <div data-direction=\"se\" class=\"handle se\"></div>\n      </div>\n    </div>\n  </div>\n`;\nconst startPositions = new WeakMap();\nconst dragStartPositions = new WeakMap();\nconst constructedElements = new WeakMap();\nfunction moveCropArea(event) {\n    const el = event.currentTarget;\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box, image } = constructedElements.get(el) || {};\n    if (!box || !image)\n        return;\n    let deltaX = 0;\n    let deltaY = 0;\n    if (event instanceof KeyboardEvent) {\n        if (event.key === 'ArrowUp') {\n            deltaY = -1;\n        }\n        else if (event.key === 'ArrowDown') {\n            deltaY = 1;\n        }\n        else if (event.key === 'ArrowLeft') {\n            deltaX = -1;\n        }\n        else if (event.key === 'ArrowRight') {\n            deltaX = 1;\n        }\n    }\n    else if (dragStartPositions.has(el) && event instanceof MouseEvent) {\n        const pos = dragStartPositions.get(el);\n        deltaX = event.pageX - pos.dragStartX;\n        deltaY = event.pageY - pos.dragStartY;\n    }\n    else if (dragStartPositions.has(el) && event instanceof TouchEvent) {\n        const { pageX, pageY } = event.changedTouches[0];\n        const { dragStartX, dragStartY } = dragStartPositions.get(el);\n        deltaX = pageX - dragStartX;\n        deltaY = pageY - dragStartY;\n    }\n    if (deltaX !== 0 || deltaY !== 0) {\n        const x = Math.min(Math.max(0, box.offsetLeft + deltaX), image.width - box.offsetWidth);\n        const y = Math.min(Math.max(0, box.offsetTop + deltaY), image.height - box.offsetHeight);\n        box.style.left = `${x}px`;\n        box.style.top = `${y}px`;\n        fireChangeEvent(el, { x, y, width: box.offsetWidth, height: box.offsetHeight });\n    }\n    if (event instanceof MouseEvent) {\n        dragStartPositions.set(el, {\n            dragStartX: event.pageX,\n            dragStartY: event.pageY\n        });\n    }\n    else if (event instanceof TouchEvent) {\n        const { pageX, pageY } = event.changedTouches[0];\n        dragStartPositions.set(el, {\n            dragStartX: pageX,\n            dragStartY: pageY\n        });\n    }\n}\nfunction updateCropArea(event) {\n    const target = event.target;\n    if (!(target instanceof HTMLElement))\n        return;\n    const el = target.closest('image-crop');\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box } = constructedElements.get(el) || {};\n    if (!box)\n        return;\n    const rect = el.getBoundingClientRect();\n    let deltaX, deltaY, delta;\n    if (event instanceof KeyboardEvent) {\n        if (event.key === 'Escape')\n            return setInitialPosition(el);\n        if (event.key === '-')\n            delta = -10;\n        if (event.key === '=')\n            delta = +10;\n        if (!delta)\n            return;\n        deltaX = box.offsetWidth + delta;\n        deltaY = box.offsetHeight + delta;\n        startPositions.set(el, { startX: box.offsetLeft, startY: box.offsetTop });\n    }\n    else if (event instanceof MouseEvent) {\n        const pos = startPositions.get(el);\n        if (!pos)\n            return;\n        deltaX = event.pageX - pos.startX - rect.left - window.pageXOffset;\n        deltaY = event.pageY - pos.startY - rect.top - window.pageYOffset;\n    }\n    else if (event instanceof TouchEvent) {\n        const pos = startPositions.get(el);\n        if (!pos)\n            return;\n        deltaX = event.changedTouches[0].pageX - pos.startX - rect.left - window.pageXOffset;\n        deltaY = event.changedTouches[0].pageY - pos.startY - rect.top - window.pageYOffset;\n    }\n    if (deltaX && deltaY)\n        updateDimensions(el, deltaX, deltaY, !(event instanceof KeyboardEvent));\n}\nfunction startUpdate(event) {\n    const currentTarget = event.currentTarget;\n    if (!(currentTarget instanceof HTMLElement))\n        return;\n    const el = currentTarget.closest('image-crop');\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box } = constructedElements.get(el) || {};\n    if (!box)\n        return;\n    const target = event.target;\n    if (!(target instanceof HTMLElement))\n        return;\n    if (target.hasAttribute('data-direction')) {\n        const direction = target.getAttribute('data-direction') || '';\n        el.addEventListener('mousemove', updateCropArea);\n        el.addEventListener('touchmove', updateCropArea);\n        if (['nw', 'se'].indexOf(direction) >= 0)\n            el.classList.add('nwse');\n        if (['ne', 'sw'].indexOf(direction) >= 0)\n            el.classList.add('nesw');\n        startPositions.set(el, {\n            startX: box.offsetLeft + (['se', 'ne'].indexOf(direction) >= 0 ? 0 : box.offsetWidth),\n            startY: box.offsetTop + (['se', 'sw'].indexOf(direction) >= 0 ? 0 : box.offsetHeight)\n        });\n        updateCropArea(event);\n    }\n    else {\n        el.addEventListener('mousemove', moveCropArea);\n        el.addEventListener('touchmove', moveCropArea);\n    }\n}\nfunction updateDimensions(target, deltaX, deltaY, reposition = true) {\n    let newSide = Math.max(Math.abs(deltaX), Math.abs(deltaY), 10);\n    const pos = startPositions.get(target);\n    if (!pos)\n        return;\n    const { box, image } = constructedElements.get(target) || {};\n    if (!box || !image)\n        return;\n    newSide = Math.min(newSide, deltaY > 0 ? image.height - pos.startY : pos.startY, deltaX > 0 ? image.width - pos.startX : pos.startX);\n    const x = reposition ? Math.round(Math.max(0, deltaX > 0 ? pos.startX : pos.startX - newSide)) : box.offsetLeft;\n    const y = reposition ? Math.round(Math.max(0, deltaY > 0 ? pos.startY : pos.startY - newSide)) : box.offsetTop;\n    box.style.left = `${x}px`;\n    box.style.top = `${y}px`;\n    box.style.width = `${newSide}px`;\n    box.style.height = `${newSide}px`;\n    fireChangeEvent(target, { x, y, width: newSide, height: newSide });\n}\nfunction imageReady(event) {\n    const currentTarget = event.currentTarget;\n    if (!(currentTarget instanceof HTMLElement))\n        return;\n    const el = currentTarget.closest('image-crop');\n    if (!(el instanceof ImageCropElement))\n        return;\n    el.loaded = true;\n    setInitialPosition(el);\n}\nfunction setInitialPosition(el) {\n    const { image } = constructedElements.get(el) || {};\n    if (!image)\n        return;\n    const side = Math.round(image.clientWidth > image.clientHeight ? image.clientHeight : image.clientWidth);\n    startPositions.set(el, {\n        startX: (image.clientWidth - side) / 2,\n        startY: (image.clientHeight - side) / 2\n    });\n    updateDimensions(el, side, side);\n}\nfunction stopUpdate(event) {\n    const el = event.currentTarget;\n    if (!(el instanceof ImageCropElement))\n        return;\n    dragStartPositions.delete(el);\n    el.classList.remove('nwse', 'nesw');\n    el.removeEventListener('mousemove', updateCropArea);\n    el.removeEventListener('mousemove', moveCropArea);\n    el.removeEventListener('touchmove', updateCropArea);\n    el.removeEventListener('touchmove', moveCropArea);\n}\nfunction fireChangeEvent(target, result) {\n    const { image } = constructedElements.get(target) || {};\n    if (!image)\n        return;\n    const ratio = image.naturalWidth / image.width;\n    for (const key in result) {\n        const value = Math.round(result[key] * ratio);\n        result[key] = value;\n        const slottedInput = target.querySelector(`[data-image-crop-input='${key}']`);\n        if (slottedInput instanceof HTMLInputElement)\n            slottedInput.value = value.toString();\n    }\n    target.dispatchEvent(new CustomEvent('image-crop-change', { bubbles: true, detail: result }));\n}\nclass ImageCropElement extends HTMLElement {\n    connectedCallback() {\n        if (constructedElements.has(this))\n            return;\n        this.appendChild(document.importNode(tmpl.content, true));\n        const box = this.querySelector('[data-crop-box]');\n        if (!(box instanceof HTMLElement))\n            return;\n        const image = this.querySelector('img');\n        if (!(image instanceof HTMLImageElement))\n            return;\n        constructedElements.set(this, { box, image });\n        image.addEventListener('load', imageReady);\n        this.addEventListener('mouseleave', stopUpdate);\n        this.addEventListener('touchend', stopUpdate);\n        this.addEventListener('mouseup', stopUpdate);\n        box.addEventListener('mousedown', startUpdate);\n        box.addEventListener('touchstart', startUpdate);\n        this.addEventListener('keydown', moveCropArea);\n        this.addEventListener('keydown', updateCropArea);\n        if (this.src)\n            image.src = this.src;\n    }\n    static get observedAttributes() {\n        return ['src'];\n    }\n    get src() {\n        return this.getAttribute('src');\n    }\n    set src(val) {\n        if (val) {\n            this.setAttribute('src', val);\n        }\n        else {\n            this.removeAttribute('src');\n        }\n    }\n    get loaded() {\n        return this.hasAttribute('loaded');\n    }\n    set loaded(val) {\n        if (val) {\n            this.setAttribute('loaded', '');\n        }\n        else {\n            this.removeAttribute('loaded');\n        }\n    }\n    attributeChangedCallback(attribute, oldValue, newValue) {\n        const { image } = constructedElements.get(this) || {};\n        if (attribute === 'src') {\n            this.loaded = false;\n            if (image)\n                image.src = newValue;\n        }\n    }\n}\nexport default ImageCropElement;\nif (!window.customElements.get('image-crop')) {\n    window.ImageCropElement = ImageCropElement;\n    window.customElements.define('image-crop', ImageCropElement);\n}\n","const buttonSelectors = [\n    '[data-md-button]',\n    'md-header',\n    'md-bold',\n    'md-italic',\n    'md-quote',\n    'md-code',\n    'md-link',\n    'md-image',\n    'md-unordered-list',\n    'md-ordered-list',\n    'md-task-list',\n    'md-mention',\n    'md-ref',\n    'md-strikethrough'\n];\nfunction getButtons(toolbar) {\n    const els = [];\n    for (const button of toolbar.querySelectorAll(buttonSelectors.join(', '))) {\n        if (button.hidden || (button.offsetWidth <= 0 && button.offsetHeight <= 0))\n            continue;\n        if (button.closest('markdown-toolbar') === toolbar)\n            els.push(button);\n    }\n    return els;\n}\nfunction keydown(fn) {\n    return function (event) {\n        if (event.key === ' ' || event.key === 'Enter') {\n            event.preventDefault();\n            fn(event);\n        }\n    };\n}\nconst styles = new WeakMap();\nclass MarkdownButtonElement extends HTMLElement {\n    constructor() {\n        super();\n        const apply = () => {\n            const style = styles.get(this);\n            if (!style)\n                return;\n            applyStyle(this, style);\n        };\n        this.addEventListener('keydown', keydown(apply));\n        this.addEventListener('click', apply);\n    }\n    connectedCallback() {\n        if (!this.hasAttribute('role')) {\n            this.setAttribute('role', 'button');\n        }\n    }\n    click() {\n        const style = styles.get(this);\n        if (!style)\n            return;\n        applyStyle(this, style);\n    }\n}\nclass MarkdownHeaderButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        const level = parseInt(this.getAttribute('level') || '3', 10);\n        if (level < 1 || level > 6) {\n            return;\n        }\n        const prefix = `${'#'.repeat(level)} `;\n        styles.set(this, {\n            prefix\n        });\n    }\n}\nif (!window.customElements.get('md-header')) {\n    window.MarkdownHeaderButtonElement = MarkdownHeaderButtonElement;\n    window.customElements.define('md-header', MarkdownHeaderButtonElement);\n}\nclass MarkdownBoldButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '**', suffix: '**', trimFirst: true });\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.setAttribute('hotkey', 'b');\n    }\n}\nif (!window.customElements.get('md-bold')) {\n    window.MarkdownBoldButtonElement = MarkdownBoldButtonElement;\n    window.customElements.define('md-bold', MarkdownBoldButtonElement);\n}\nclass MarkdownItalicButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '_', suffix: '_', trimFirst: true });\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.setAttribute('hotkey', 'i');\n    }\n}\nif (!window.customElements.get('md-italic')) {\n    window.MarkdownItalicButtonElement = MarkdownItalicButtonElement;\n    window.customElements.define('md-italic', MarkdownItalicButtonElement);\n}\nclass MarkdownQuoteButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '> ', multiline: true, surroundWithNewlines: true });\n    }\n}\nif (!window.customElements.get('md-quote')) {\n    window.MarkdownQuoteButtonElement = MarkdownQuoteButtonElement;\n    window.customElements.define('md-quote', MarkdownQuoteButtonElement);\n}\nclass MarkdownCodeButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '`', suffix: '`', blockPrefix: '```', blockSuffix: '```' });\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.setAttribute('hotkey', 'e');\n    }\n}\nif (!window.customElements.get('md-code')) {\n    window.MarkdownCodeButtonElement = MarkdownCodeButtonElement;\n    window.customElements.define('md-code', MarkdownCodeButtonElement);\n}\nclass MarkdownLinkButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '[', suffix: '](url)', replaceNext: 'url', scanFor: 'https?://' });\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.setAttribute('hotkey', 'k');\n    }\n}\nif (!window.customElements.get('md-link')) {\n    window.MarkdownLinkButtonElement = MarkdownLinkButtonElement;\n    window.customElements.define('md-link', MarkdownLinkButtonElement);\n}\nclass MarkdownImageButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '![', suffix: '](url)', replaceNext: 'url', scanFor: 'https?://' });\n    }\n}\nif (!window.customElements.get('md-image')) {\n    window.MarkdownImageButtonElement = MarkdownImageButtonElement;\n    window.customElements.define('md-image', MarkdownImageButtonElement);\n}\nclass MarkdownUnorderedListButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '- ', multiline: true, surroundWithNewlines: true });\n    }\n}\nif (!window.customElements.get('md-unordered-list')) {\n    window.MarkdownUnorderedListButtonElement = MarkdownUnorderedListButtonElement;\n    window.customElements.define('md-unordered-list', MarkdownUnorderedListButtonElement);\n}\nclass MarkdownOrderedListButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '1. ', multiline: true, orderedList: true });\n    }\n}\nif (!window.customElements.get('md-ordered-list')) {\n    window.MarkdownOrderedListButtonElement = MarkdownOrderedListButtonElement;\n    window.customElements.define('md-ordered-list', MarkdownOrderedListButtonElement);\n}\nclass MarkdownTaskListButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '- [ ] ', multiline: true, surroundWithNewlines: true });\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.setAttribute('hotkey', 'L');\n    }\n}\nif (!window.customElements.get('md-task-list')) {\n    window.MarkdownTaskListButtonElement = MarkdownTaskListButtonElement;\n    window.customElements.define('md-task-list', MarkdownTaskListButtonElement);\n}\nclass MarkdownMentionButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '@', prefixSpace: true });\n    }\n}\nif (!window.customElements.get('md-mention')) {\n    window.MarkdownMentionButtonElement = MarkdownMentionButtonElement;\n    window.customElements.define('md-mention', MarkdownMentionButtonElement);\n}\nclass MarkdownRefButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '#', prefixSpace: true });\n    }\n}\nif (!window.customElements.get('md-ref')) {\n    window.MarkdownRefButtonElement = MarkdownRefButtonElement;\n    window.customElements.define('md-ref', MarkdownRefButtonElement);\n}\nclass MarkdownStrikethroughButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '~~', suffix: '~~', trimFirst: true });\n    }\n}\nif (!window.customElements.get('md-strikethrough')) {\n    window.MarkdownStrikethroughButtonElement = MarkdownStrikethroughButtonElement;\n    window.customElements.define('md-strikethrough', MarkdownStrikethroughButtonElement);\n}\nconst modifierKey = navigator.userAgent.match(/Macintosh/) ? 'Meta' : 'Control';\nclass MarkdownToolbarElement extends HTMLElement {\n    constructor() {\n        super();\n    }\n    connectedCallback() {\n        if (!this.hasAttribute('role')) {\n            this.setAttribute('role', 'toolbar');\n        }\n        this.addEventListener('keydown', focusKeydown);\n        const fn = shortcut.bind(null, this);\n        if (this.field) {\n            this.field.addEventListener('keydown', fn);\n            shortcutListeners.set(this, fn);\n        }\n        this.setAttribute('tabindex', '0');\n        this.addEventListener('focus', onToolbarFocus, { once: true });\n    }\n    disconnectedCallback() {\n        const fn = shortcutListeners.get(this);\n        if (fn && this.field) {\n            this.field.removeEventListener('keydown', fn);\n            shortcutListeners.delete(this);\n        }\n        this.removeEventListener('keydown', focusKeydown);\n    }\n    get field() {\n        const id = this.getAttribute('for');\n        if (!id)\n            return null;\n        const root = 'getRootNode' in this ? this.getRootNode() : document;\n        let field;\n        if (root instanceof Document || root instanceof ShadowRoot) {\n            field = root.getElementById(id);\n        }\n        return field instanceof HTMLTextAreaElement ? field : null;\n    }\n}\nfunction onToolbarFocus({ target }) {\n    if (!(target instanceof Element))\n        return;\n    target.removeAttribute('tabindex');\n    let tabindex = '0';\n    for (const button of getButtons(target)) {\n        button.setAttribute('tabindex', tabindex);\n        if (tabindex === '0') {\n            button.focus();\n            tabindex = '-1';\n        }\n    }\n}\nfunction focusKeydown(event) {\n    const key = event.key;\n    if (key !== 'ArrowRight' && key !== 'ArrowLeft' && key !== 'Home' && key !== 'End')\n        return;\n    const toolbar = event.currentTarget;\n    if (!(toolbar instanceof HTMLElement))\n        return;\n    const buttons = getButtons(toolbar);\n    const index = buttons.indexOf(event.target);\n    const length = buttons.length;\n    if (index === -1)\n        return;\n    let n = 0;\n    if (key === 'ArrowLeft')\n        n = index - 1;\n    if (key === 'ArrowRight')\n        n = index + 1;\n    if (key === 'End')\n        n = length - 1;\n    if (n < 0)\n        n = length - 1;\n    if (n > length - 1)\n        n = 0;\n    for (let i = 0; i < length; i += 1) {\n        buttons[i].setAttribute('tabindex', i === n ? '0' : '-1');\n    }\n    event.preventDefault();\n    buttons[n].focus();\n}\nconst shortcutListeners = new WeakMap();\nfunction findHotkey(toolbar, key) {\n    for (const el of toolbar.querySelectorAll('[hotkey]')) {\n        if (el.getAttribute('hotkey') === key) {\n            return el;\n        }\n    }\n    return null;\n}\nfunction shortcut(toolbar, event) {\n    if ((event.metaKey && modifierKey === 'Meta') || (event.ctrlKey && modifierKey === 'Control')) {\n        const key = event.shiftKey ? event.key.toUpperCase() : event.key;\n        const button = findHotkey(toolbar, key);\n        if (button) {\n            button.click();\n            event.preventDefault();\n        }\n    }\n}\nif (!window.customElements.get('markdown-toolbar')) {\n    window.MarkdownToolbarElement = MarkdownToolbarElement;\n    window.customElements.define('markdown-toolbar', MarkdownToolbarElement);\n}\nfunction isMultipleLines(string) {\n    return string.trim().split('\\n').length > 1;\n}\nfunction repeat(string, n) {\n    return Array(n + 1).join(string);\n}\nfunction wordSelectionStart(text, i) {\n    let index = i;\n    while (text[index] && text[index - 1] != null && !text[index - 1].match(/\\s/)) {\n        index--;\n    }\n    return index;\n}\nfunction wordSelectionEnd(text, i, multiline) {\n    let index = i;\n    const breakpoint = multiline ? /\\n/ : /\\s/;\n    while (text[index] && !text[index].match(breakpoint)) {\n        index++;\n    }\n    return index;\n}\nlet canInsertText = null;\nfunction insertText(textarea, { text, selectionStart, selectionEnd }) {\n    const originalSelectionStart = textarea.selectionStart;\n    const before = textarea.value.slice(0, originalSelectionStart);\n    const after = textarea.value.slice(textarea.selectionEnd);\n    if (canInsertText === null || canInsertText === true) {\n        textarea.contentEditable = 'true';\n        try {\n            canInsertText = document.execCommand('insertText', false, text);\n        }\n        catch (error) {\n            canInsertText = false;\n        }\n        textarea.contentEditable = 'false';\n    }\n    if (canInsertText && !textarea.value.slice(0, textarea.selectionStart).endsWith(text)) {\n        canInsertText = false;\n    }\n    if (!canInsertText) {\n        try {\n            document.execCommand('ms-beginUndoUnit');\n        }\n        catch (e) {\n        }\n        textarea.value = before + text + after;\n        try {\n            document.execCommand('ms-endUndoUnit');\n        }\n        catch (e) {\n        }\n        textarea.dispatchEvent(new CustomEvent('input', { bubbles: true, cancelable: true }));\n    }\n    if (selectionStart != null && selectionEnd != null) {\n        textarea.setSelectionRange(selectionStart, selectionEnd);\n    }\n    else {\n        textarea.setSelectionRange(originalSelectionStart, textarea.selectionEnd);\n    }\n}\nfunction styleSelectedText(textarea, styleArgs) {\n    const text = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n    let result;\n    if (styleArgs.orderedList) {\n        result = orderedList(textarea);\n    }\n    else if (styleArgs.multiline && isMultipleLines(text)) {\n        result = multilineStyle(textarea, styleArgs);\n    }\n    else {\n        result = blockStyle(textarea, styleArgs);\n    }\n    insertText(textarea, result);\n}\nfunction expandSelectedText(textarea, prefixToUse, suffixToUse, multiline = false) {\n    if (textarea.selectionStart === textarea.selectionEnd) {\n        textarea.selectionStart = wordSelectionStart(textarea.value, textarea.selectionStart);\n        textarea.selectionEnd = wordSelectionEnd(textarea.value, textarea.selectionEnd, multiline);\n    }\n    else {\n        const expandedSelectionStart = textarea.selectionStart - prefixToUse.length;\n        const expandedSelectionEnd = textarea.selectionEnd + suffixToUse.length;\n        const beginsWithPrefix = textarea.value.slice(expandedSelectionStart, textarea.selectionStart) === prefixToUse;\n        const endsWithSuffix = textarea.value.slice(textarea.selectionEnd, expandedSelectionEnd) === suffixToUse;\n        if (beginsWithPrefix && endsWithSuffix) {\n            textarea.selectionStart = expandedSelectionStart;\n            textarea.selectionEnd = expandedSelectionEnd;\n        }\n    }\n    return textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n}\nfunction newlinesToSurroundSelectedText(textarea) {\n    const beforeSelection = textarea.value.slice(0, textarea.selectionStart);\n    const afterSelection = textarea.value.slice(textarea.selectionEnd);\n    const breaksBefore = beforeSelection.match(/\\n*$/);\n    const breaksAfter = afterSelection.match(/^\\n*/);\n    const newlinesBeforeSelection = breaksBefore ? breaksBefore[0].length : 0;\n    const newlinesAfterSelection = breaksAfter ? breaksAfter[0].length : 0;\n    let newlinesToAppend;\n    let newlinesToPrepend;\n    if (beforeSelection.match(/\\S/) && newlinesBeforeSelection < 2) {\n        newlinesToAppend = repeat('\\n', 2 - newlinesBeforeSelection);\n    }\n    if (afterSelection.match(/\\S/) && newlinesAfterSelection < 2) {\n        newlinesToPrepend = repeat('\\n', 2 - newlinesAfterSelection);\n    }\n    if (newlinesToAppend == null) {\n        newlinesToAppend = '';\n    }\n    if (newlinesToPrepend == null) {\n        newlinesToPrepend = '';\n    }\n    return { newlinesToAppend, newlinesToPrepend };\n}\nfunction blockStyle(textarea, arg) {\n    let newlinesToAppend;\n    let newlinesToPrepend;\n    const { prefix, suffix, blockPrefix, blockSuffix, replaceNext, prefixSpace, scanFor, surroundWithNewlines } = arg;\n    const originalSelectionStart = textarea.selectionStart;\n    const originalSelectionEnd = textarea.selectionEnd;\n    let selectedText = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n    let prefixToUse = isMultipleLines(selectedText) && blockPrefix.length > 0 ? `${blockPrefix}\\n` : prefix;\n    let suffixToUse = isMultipleLines(selectedText) && blockSuffix.length > 0 ? `\\n${blockSuffix}` : suffix;\n    if (prefixSpace) {\n        const beforeSelection = textarea.value[textarea.selectionStart - 1];\n        if (textarea.selectionStart !== 0 && beforeSelection != null && !beforeSelection.match(/\\s/)) {\n            prefixToUse = ` ${prefixToUse}`;\n        }\n    }\n    selectedText = expandSelectedText(textarea, prefixToUse, suffixToUse, arg.multiline);\n    let selectionStart = textarea.selectionStart;\n    let selectionEnd = textarea.selectionEnd;\n    const hasReplaceNext = replaceNext.length > 0 && suffixToUse.indexOf(replaceNext) > -1 && selectedText.length > 0;\n    if (surroundWithNewlines) {\n        const ref = newlinesToSurroundSelectedText(textarea);\n        newlinesToAppend = ref.newlinesToAppend;\n        newlinesToPrepend = ref.newlinesToPrepend;\n        prefixToUse = newlinesToAppend + prefix;\n        suffixToUse += newlinesToPrepend;\n    }\n    if (selectedText.startsWith(prefixToUse) && selectedText.endsWith(suffixToUse)) {\n        const replacementText = selectedText.slice(prefixToUse.length, selectedText.length - suffixToUse.length);\n        if (originalSelectionStart === originalSelectionEnd) {\n            let position = originalSelectionStart - prefixToUse.length;\n            position = Math.max(position, selectionStart);\n            position = Math.min(position, selectionStart + replacementText.length);\n            selectionStart = selectionEnd = position;\n        }\n        else {\n            selectionEnd = selectionStart + replacementText.length;\n        }\n        return { text: replacementText, selectionStart, selectionEnd };\n    }\n    else if (!hasReplaceNext) {\n        let replacementText = prefixToUse + selectedText + suffixToUse;\n        selectionStart = originalSelectionStart + prefixToUse.length;\n        selectionEnd = originalSelectionEnd + prefixToUse.length;\n        const whitespaceEdges = selectedText.match(/^\\s*|\\s*$/g);\n        if (arg.trimFirst && whitespaceEdges) {\n            const leadingWhitespace = whitespaceEdges[0] || '';\n            const trailingWhitespace = whitespaceEdges[1] || '';\n            replacementText = leadingWhitespace + prefixToUse + selectedText.trim() + suffixToUse + trailingWhitespace;\n            selectionStart += leadingWhitespace.length;\n            selectionEnd -= trailingWhitespace.length;\n        }\n        return { text: replacementText, selectionStart, selectionEnd };\n    }\n    else if (scanFor.length > 0 && selectedText.match(scanFor)) {\n        suffixToUse = suffixToUse.replace(replaceNext, selectedText);\n        const replacementText = prefixToUse + suffixToUse;\n        selectionStart = selectionEnd = selectionStart + prefixToUse.length;\n        return { text: replacementText, selectionStart, selectionEnd };\n    }\n    else {\n        const replacementText = prefixToUse + selectedText + suffixToUse;\n        selectionStart = selectionStart + prefixToUse.length + selectedText.length + suffixToUse.indexOf(replaceNext);\n        selectionEnd = selectionStart + replaceNext.length;\n        return { text: replacementText, selectionStart, selectionEnd };\n    }\n}\nfunction multilineStyle(textarea, arg) {\n    const { prefix, suffix, surroundWithNewlines } = arg;\n    let text = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n    let selectionStart = textarea.selectionStart;\n    let selectionEnd = textarea.selectionEnd;\n    const lines = text.split('\\n');\n    const undoStyle = lines.every(line => line.startsWith(prefix) && line.endsWith(suffix));\n    if (undoStyle) {\n        text = lines.map(line => line.slice(prefix.length, line.length - suffix.length)).join('\\n');\n        selectionEnd = selectionStart + text.length;\n    }\n    else {\n        text = lines.map(line => prefix + line + suffix).join('\\n');\n        if (surroundWithNewlines) {\n            const { newlinesToAppend, newlinesToPrepend } = newlinesToSurroundSelectedText(textarea);\n            selectionStart += newlinesToAppend.length;\n            selectionEnd = selectionStart + text.length;\n            text = newlinesToAppend + text + newlinesToPrepend;\n        }\n    }\n    return { text, selectionStart, selectionEnd };\n}\nfunction orderedList(textarea) {\n    const orderedListRegex = /^\\d+\\.\\s+/;\n    const noInitialSelection = textarea.selectionStart === textarea.selectionEnd;\n    let selectionEnd;\n    let selectionStart;\n    let text = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n    let textToUnstyle = text;\n    let lines = text.split('\\n');\n    let startOfLine, endOfLine;\n    if (noInitialSelection) {\n        const linesBefore = textarea.value.slice(0, textarea.selectionStart).split(/\\n/);\n        startOfLine = textarea.selectionStart - linesBefore[linesBefore.length - 1].length;\n        endOfLine = wordSelectionEnd(textarea.value, textarea.selectionStart, true);\n        textToUnstyle = textarea.value.slice(startOfLine, endOfLine);\n    }\n    const linesToUnstyle = textToUnstyle.split('\\n');\n    const undoStyling = linesToUnstyle.every(line => orderedListRegex.test(line));\n    if (undoStyling) {\n        lines = linesToUnstyle.map(line => line.replace(orderedListRegex, ''));\n        text = lines.join('\\n');\n        if (noInitialSelection && startOfLine && endOfLine) {\n            const lengthDiff = linesToUnstyle[0].length - lines[0].length;\n            selectionStart = selectionEnd = textarea.selectionStart - lengthDiff;\n            textarea.selectionStart = startOfLine;\n            textarea.selectionEnd = endOfLine;\n        }\n    }\n    else {\n        lines = numberedLines(lines);\n        text = lines.join('\\n');\n        const { newlinesToAppend, newlinesToPrepend } = newlinesToSurroundSelectedText(textarea);\n        selectionStart = textarea.selectionStart + newlinesToAppend.length;\n        selectionEnd = selectionStart + text.length;\n        if (noInitialSelection)\n            selectionStart = selectionEnd;\n        text = newlinesToAppend + text + newlinesToPrepend;\n    }\n    return { text, selectionStart, selectionEnd };\n}\nfunction numberedLines(lines) {\n    let i;\n    let len;\n    let index;\n    const results = [];\n    for (index = i = 0, len = lines.length; i < len; index = ++i) {\n        const line = lines[index];\n        results.push(`${index + 1}. ${line}`);\n    }\n    return results;\n}\nfunction applyStyle(button, stylesToApply) {\n    const toolbar = button.closest('markdown-toolbar');\n    if (!(toolbar instanceof MarkdownToolbarElement))\n        return;\n    const defaults = {\n        prefix: '',\n        suffix: '',\n        blockPrefix: '',\n        blockSuffix: '',\n        multiline: false,\n        replaceNext: '',\n        prefixSpace: false,\n        scanFor: '',\n        surroundWithNewlines: false,\n        orderedList: false,\n        trimFirst: false\n    };\n    const style = Object.assign(Object.assign({}, defaults), stylesToApply);\n    const field = toolbar.field;\n    if (field) {\n        field.focus();\n        styleSelectedText(field, style);\n    }\n}\nexport default MarkdownToolbarElement;\n","const states = new WeakMap();\nclass RemoteInputElement extends HTMLElement {\n    constructor() {\n        super();\n        const fetch = fetchResults.bind(null, this, true);\n        const state = { currentQuery: null, oninput: debounce(fetch), fetch, controller: null };\n        states.set(this, state);\n    }\n    static get observedAttributes() {\n        return ['src'];\n    }\n    attributeChangedCallback(name, oldValue) {\n        if (oldValue && name === 'src') {\n            fetchResults(this, false);\n        }\n    }\n    connectedCallback() {\n        const input = this.input;\n        if (!input)\n            return;\n        input.setAttribute('autocomplete', 'off');\n        input.setAttribute('spellcheck', 'false');\n        const state = states.get(this);\n        if (!state)\n            return;\n        input.addEventListener('focus', state.fetch);\n        input.addEventListener('change', state.fetch);\n        input.addEventListener('input', state.oninput);\n    }\n    disconnectedCallback() {\n        const input = this.input;\n        if (!input)\n            return;\n        const state = states.get(this);\n        if (!state)\n            return;\n        input.removeEventListener('focus', state.fetch);\n        input.removeEventListener('change', state.fetch);\n        input.removeEventListener('input', state.oninput);\n    }\n    get input() {\n        const input = this.querySelector('input, textarea');\n        return input instanceof HTMLInputElement || input instanceof HTMLTextAreaElement ? input : null;\n    }\n    get src() {\n        return this.getAttribute('src') || '';\n    }\n    set src(url) {\n        this.setAttribute('src', url);\n    }\n}\nfunction makeAbortController() {\n    if ('AbortController' in window) {\n        return new AbortController();\n    }\n    return { signal: null, abort() { } };\n}\nasync function fetchResults(remoteInput, checkCurrentQuery) {\n    const input = remoteInput.input;\n    if (!input)\n        return;\n    const state = states.get(remoteInput);\n    if (!state)\n        return;\n    const query = input.value;\n    if (checkCurrentQuery && state.currentQuery === query)\n        return;\n    state.currentQuery = query;\n    const src = remoteInput.src;\n    if (!src)\n        return;\n    const resultsContainer = document.getElementById(remoteInput.getAttribute('aria-owns') || '');\n    if (!resultsContainer)\n        return;\n    const url = new URL(src, window.location.href);\n    const params = new URLSearchParams(url.search);\n    params.append(remoteInput.getAttribute('param') || 'q', query);\n    url.search = params.toString();\n    if (state.controller) {\n        state.controller.abort();\n    }\n    else {\n        remoteInput.dispatchEvent(new CustomEvent('loadstart'));\n        remoteInput.setAttribute('loading', '');\n    }\n    state.controller = makeAbortController();\n    let response;\n    let html = '';\n    try {\n        response = await fetchWithNetworkEvents(remoteInput, url.toString(), {\n            signal: state.controller.signal,\n            credentials: 'same-origin',\n            headers: { accept: 'text/fragment+html' }\n        });\n        html = await response.text();\n        remoteInput.removeAttribute('loading');\n        state.controller = null;\n    }\n    catch (error) {\n        if (error.name !== 'AbortError') {\n            remoteInput.removeAttribute('loading');\n            state.controller = null;\n        }\n        return;\n    }\n    if (response && response.ok) {\n        resultsContainer.innerHTML = html;\n        remoteInput.dispatchEvent(new CustomEvent('remote-input-success', { bubbles: true }));\n    }\n    else {\n        remoteInput.dispatchEvent(new CustomEvent('remote-input-error', { bubbles: true }));\n    }\n}\nasync function fetchWithNetworkEvents(el, url, options) {\n    try {\n        const response = await fetch(url, options);\n        el.dispatchEvent(new CustomEvent('load'));\n        el.dispatchEvent(new CustomEvent('loadend'));\n        return response;\n    }\n    catch (error) {\n        if (error.name !== 'AbortError') {\n            el.dispatchEvent(new CustomEvent('error'));\n            el.dispatchEvent(new CustomEvent('loadend'));\n        }\n        throw error;\n    }\n}\nfunction debounce(callback) {\n    let timeout;\n    return function () {\n        clearTimeout(timeout);\n        timeout = setTimeout(() => {\n            clearTimeout(timeout);\n            callback();\n        }, 300);\n    };\n}\nexport default RemoteInputElement;\nif (!window.customElements.get('remote-input')) {\n    window.RemoteInputElement = RemoteInputElement;\n    window.customElements.define('remote-input', RemoteInputElement);\n}\n","const sortHandlers = new WeakMap();\nlet state = null;\nfunction isDragging() {\n    return !!state;\n}\nfunction sortable(el, sortStarted, sortFinished) {\n    sortHandlers.set(el, { sortStarted, sortFinished });\n    el.addEventListener('dragstart', onDragStart);\n    el.addEventListener('dragenter', onDragEnter);\n    el.addEventListener('dragend', onDragEnd);\n    el.addEventListener('drop', onDrop);\n    el.addEventListener('dragover', onDragOver);\n}\nfunction isBefore(item1, item2) {\n    if (item1.parentNode === item2.parentNode) {\n        let node = item1;\n        while (node) {\n            if (node === item2)\n                return true;\n            node = node.previousElementSibling;\n        }\n    }\n    return false;\n}\nfunction isSameContainer(item1, item2) {\n    return item1.closest('task-lists') === item2.closest('task-lists');\n}\nfunction onDragStart(event) {\n    if (event.currentTarget !== event.target)\n        return;\n    const target = event.currentTarget;\n    if (!(target instanceof Element))\n        return;\n    const sourceList = target.closest('.contains-task-list');\n    if (!sourceList)\n        return;\n    target.classList.add('is-ghost');\n    if (event.dataTransfer) {\n        event.dataTransfer.setData('text/plain', (target.textContent || '').trim());\n    }\n    if (!target.parentElement)\n        return;\n    const siblings = Array.from(target.parentElement.children);\n    const sourceIndex = siblings.indexOf(target);\n    const handlers = sortHandlers.get(target);\n    if (handlers) {\n        handlers.sortStarted(sourceList);\n    }\n    state = {\n        didDrop: false,\n        dragging: target,\n        dropzone: target,\n        sourceList,\n        sourceSibling: siblings[sourceIndex + 1] || null,\n        sourceIndex\n    };\n}\nfunction onDragEnter(event) {\n    if (!state)\n        return;\n    const dropzone = event.currentTarget;\n    if (!(dropzone instanceof Element))\n        return;\n    if (!isSameContainer(state.dragging, dropzone)) {\n        event.stopPropagation();\n        return;\n    }\n    event.preventDefault();\n    if (event.dataTransfer) {\n        event.dataTransfer.dropEffect = 'move';\n    }\n    if (state.dropzone === dropzone)\n        return;\n    state.dragging.classList.add('is-dragging');\n    state.dropzone = dropzone;\n    if (isBefore(state.dragging, dropzone)) {\n        dropzone.before(state.dragging);\n    }\n    else {\n        dropzone.after(state.dragging);\n    }\n}\nfunction onDrop(event) {\n    if (!state)\n        return;\n    event.preventDefault();\n    event.stopPropagation();\n    const dropzone = event.currentTarget;\n    if (!(dropzone instanceof Element))\n        return;\n    state.didDrop = true;\n    if (!state.dragging.parentElement)\n        return;\n    let newIndex = Array.from(state.dragging.parentElement.children).indexOf(state.dragging);\n    const currentList = dropzone.closest('.contains-task-list');\n    if (!currentList)\n        return;\n    if (state.sourceIndex === newIndex && state.sourceList === currentList)\n        return;\n    if (state.sourceList === currentList && state.sourceIndex < newIndex) {\n        newIndex++;\n    }\n    const src = { list: state.sourceList, index: state.sourceIndex };\n    const dst = { list: currentList, index: newIndex };\n    const handlers = sortHandlers.get(state.dragging);\n    if (handlers) {\n        handlers.sortFinished({ src, dst });\n    }\n}\nfunction onDragEnd() {\n    if (!state)\n        return;\n    state.dragging.classList.remove('is-dragging');\n    state.dragging.classList.remove('is-ghost');\n    if (!state.didDrop) {\n        state.sourceList.insertBefore(state.dragging, state.sourceSibling);\n    }\n    state = null;\n}\nfunction onDragOver(event) {\n    if (!state)\n        return;\n    const dropzone = event.currentTarget;\n    if (!(dropzone instanceof Element))\n        return;\n    if (!isSameContainer(state.dragging, dropzone)) {\n        event.stopPropagation();\n        return;\n    }\n    event.preventDefault();\n    if (event.dataTransfer) {\n        event.dataTransfer.dropEffect = 'move';\n    }\n}\n\nconst observers = new WeakMap();\nclass TaskListsElement extends HTMLElement {\n    constructor() {\n        super();\n        this.addEventListener('change', (event) => {\n            const checkbox = event.target;\n            if (!(checkbox instanceof HTMLInputElement))\n                return;\n            if (!checkbox.classList.contains('task-list-item-checkbox'))\n                return;\n            this.dispatchEvent(new CustomEvent('task-lists-check', {\n                bubbles: true,\n                detail: {\n                    position: position(checkbox),\n                    checked: checkbox.checked\n                }\n            }));\n        });\n        observers.set(this, new MutationObserver(syncState.bind(null, this)));\n    }\n    connectedCallback() {\n        const observer = observers.get(this);\n        if (observer) {\n            observer.observe(this, { childList: true, subtree: true });\n        }\n        syncState(this);\n    }\n    disconnectedCallback() {\n        const observer = observers.get(this);\n        if (observer) {\n            observer.disconnect();\n        }\n    }\n    get disabled() {\n        return this.hasAttribute('disabled');\n    }\n    set disabled(value) {\n        if (value) {\n            this.setAttribute('disabled', '');\n        }\n        else {\n            this.removeAttribute('disabled');\n        }\n    }\n    get sortable() {\n        return this.hasAttribute('sortable');\n    }\n    set sortable(value) {\n        if (value) {\n            this.setAttribute('sortable', '');\n        }\n        else {\n            this.removeAttribute('sortable');\n        }\n    }\n    static get observedAttributes() {\n        return ['disabled'];\n    }\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (oldValue === newValue)\n            return;\n        switch (name) {\n            case 'disabled':\n                syncDisabled(this);\n                break;\n        }\n    }\n}\nconst handleTemplate = document.createElement('template');\nhandleTemplate.innerHTML = `\n  <span class=\"handle\">\n    <svg class=\"drag-handle\" aria-hidden=\"true\" width=\"16\" height=\"16\">\n      <path d=\"M10 13a1 1 0 100-2 1 1 0 000 2zm-4 0a1 1 0 100-2 1 1 0 000 2zm1-5a1 1 0 11-2 0 1 1 0 012 0zm3 1a1 1 0 100-2 1 1 0 000 2zm1-5a1 1 0 11-2 0 1 1 0 012 0zM6 5a1 1 0 100-2 1 1 0 000 2z\"/>\n    </svg>\n  </span>`;\nconst initialized = new WeakMap();\nfunction initItem(el) {\n    if (initialized.get(el))\n        return;\n    initialized.set(el, true);\n    const currentTaskList = el.closest('task-lists');\n    if (!(currentTaskList instanceof TaskListsElement))\n        return;\n    if (currentTaskList.querySelectorAll('.task-list-item').length <= 1)\n        return;\n    const fragment = handleTemplate.content.cloneNode(true);\n    const handle = fragment.querySelector('.handle');\n    el.prepend(fragment);\n    if (!handle)\n        throw new Error('handle not found');\n    handle.addEventListener('mouseenter', onHandleMouseOver);\n    handle.addEventListener('mouseleave', onHandleMouseOut);\n    sortable(el, onSortStart, onSorted);\n    el.addEventListener('mouseenter', onListItemMouseOver);\n    el.addEventListener('mouseleave', onListItemMouseOut);\n}\nfunction onListItemMouseOver(event) {\n    const item = event.currentTarget;\n    if (!(item instanceof Element))\n        return;\n    const list = item.closest('task-lists');\n    if (!(list instanceof TaskListsElement))\n        return;\n    if (list.sortable && !list.disabled) {\n        item.classList.add('hovered');\n    }\n}\nfunction onListItemMouseOut(event) {\n    const item = event.currentTarget;\n    if (!(item instanceof Element))\n        return;\n    item.classList.remove('hovered');\n}\nfunction position(checkbox) {\n    const list = taskList(checkbox);\n    if (!list)\n        throw new Error('.contains-task-list not found');\n    const item = checkbox.closest('.task-list-item');\n    const index = item ? Array.from(list.children).indexOf(item) : -1;\n    return [listIndex(list), index];\n}\nfunction taskList(el) {\n    const parent = el.parentElement;\n    return parent ? parent.closest('.contains-task-list') : null;\n}\nfunction isRootTaskList(el) {\n    return taskList(el) === rootTaskList(el);\n}\nfunction rootTaskList(node) {\n    const list = taskList(node);\n    return list ? rootTaskList(list) || list : null;\n}\nfunction syncState(list) {\n    const items = list.querySelectorAll('.contains-task-list > .task-list-item');\n    for (const el of items) {\n        if (isRootTaskList(el)) {\n            initItem(el);\n        }\n    }\n    syncDisabled(list);\n}\nfunction syncDisabled(list) {\n    for (const el of list.querySelectorAll('.task-list-item')) {\n        el.classList.toggle('enabled', !list.disabled);\n    }\n    for (const el of list.querySelectorAll('.task-list-item-checkbox')) {\n        if (el instanceof HTMLInputElement) {\n            el.disabled = list.disabled;\n        }\n    }\n}\nfunction listIndex(list) {\n    const container = list.closest('task-lists');\n    if (!container)\n        throw new Error('parent not found');\n    return Array.from(container.querySelectorAll('ol, ul')).indexOf(list);\n}\nconst originalLists = new WeakMap();\nfunction onSortStart(srcList) {\n    const container = srcList.closest('task-lists');\n    if (!container)\n        throw new Error('parent not found');\n    originalLists.set(container, Array.from(container.querySelectorAll('ol, ul')));\n}\nfunction onSorted({ src, dst }) {\n    const container = src.list.closest('task-lists');\n    if (!container)\n        return;\n    const lists = originalLists.get(container);\n    if (!lists)\n        return;\n    originalLists.delete(container);\n    container.dispatchEvent(new CustomEvent('task-lists-move', {\n        bubbles: true,\n        detail: {\n            src: [lists.indexOf(src.list), src.index],\n            dst: [lists.indexOf(dst.list), dst.index]\n        }\n    }));\n}\nfunction onHandleMouseOver(event) {\n    const target = event.currentTarget;\n    if (!(target instanceof Element))\n        return;\n    const item = target.closest('.task-list-item');\n    if (!item)\n        return;\n    const list = item.closest('task-lists');\n    if (!(list instanceof TaskListsElement))\n        return;\n    if (list.sortable && !list.disabled) {\n        item.setAttribute('draggable', 'true');\n    }\n}\nfunction onHandleMouseOut(event) {\n    if (isDragging())\n        return;\n    const target = event.currentTarget;\n    if (!(target instanceof Element))\n        return;\n    const item = target.closest('.task-list-item');\n    if (!item)\n        return;\n    item.setAttribute('draggable', 'false');\n}\n\nif (!window.customElements.get('task-lists')) {\n    window.TaskListsElement = TaskListsElement;\n    window.customElements.define('task-lists', TaskListsElement);\n}\n\nexport default TaskListsElement;\n","const ctrlBindings = !!navigator.userAgent.match(/Macintosh/);\nexport default class Combobox {\n    constructor(input, list) {\n        this.input = input;\n        this.list = list;\n        this.isComposing = false;\n        if (!list.id) {\n            list.id = `combobox-${Math.random()\n                .toString()\n                .slice(2, 6)}`;\n        }\n        this.keyboardEventHandler = event => keyboardBindings(event, this);\n        this.compositionEventHandler = event => trackComposition(event, this);\n        this.inputHandler = this.clearSelection.bind(this);\n        input.setAttribute('role', 'combobox');\n        input.setAttribute('aria-controls', list.id);\n        input.setAttribute('aria-expanded', 'false');\n        input.setAttribute('aria-autocomplete', 'list');\n        input.setAttribute('aria-haspopup', 'listbox');\n    }\n    destroy() {\n        this.clearSelection();\n        this.stop();\n        this.input.removeAttribute('role');\n        this.input.removeAttribute('aria-controls');\n        this.input.removeAttribute('aria-expanded');\n        this.input.removeAttribute('aria-autocomplete');\n        this.input.removeAttribute('aria-haspopup');\n    }\n    start() {\n        this.input.setAttribute('aria-expanded', 'true');\n        this.input.addEventListener('compositionstart', this.compositionEventHandler);\n        this.input.addEventListener('compositionend', this.compositionEventHandler);\n        this.input.addEventListener('input', this.inputHandler);\n        this.input.addEventListener('keydown', this.keyboardEventHandler);\n        this.list.addEventListener('click', commitWithElement);\n    }\n    stop() {\n        this.clearSelection();\n        this.input.setAttribute('aria-expanded', 'false');\n        this.input.removeEventListener('compositionstart', this.compositionEventHandler);\n        this.input.removeEventListener('compositionend', this.compositionEventHandler);\n        this.input.removeEventListener('input', this.inputHandler);\n        this.input.removeEventListener('keydown', this.keyboardEventHandler);\n        this.list.removeEventListener('click', commitWithElement);\n    }\n    navigate(indexDiff = 1) {\n        const focusEl = Array.from(this.list.querySelectorAll('[aria-selected=\"true\"]')).filter(visible)[0];\n        const els = Array.from(this.list.querySelectorAll('[role=\"option\"]')).filter(visible);\n        const focusIndex = els.indexOf(focusEl);\n        if ((focusIndex === els.length - 1 && indexDiff === 1) || (focusIndex === 0 && indexDiff === -1)) {\n            this.clearSelection();\n            this.input.focus();\n            return;\n        }\n        let indexOfItem = indexDiff === 1 ? 0 : els.length - 1;\n        if (focusEl && focusIndex >= 0) {\n            const newIndex = focusIndex + indexDiff;\n            if (newIndex >= 0 && newIndex < els.length)\n                indexOfItem = newIndex;\n        }\n        const target = els[indexOfItem];\n        if (!target)\n            return;\n        for (const el of els) {\n            if (target === el) {\n                this.input.setAttribute('aria-activedescendant', target.id);\n                target.setAttribute('aria-selected', 'true');\n                scrollTo(this.list, target);\n            }\n            else {\n                el.setAttribute('aria-selected', 'false');\n            }\n        }\n    }\n    clearSelection() {\n        this.input.removeAttribute('aria-activedescendant');\n        for (const el of this.list.querySelectorAll('[aria-selected=\"true\"]')) {\n            el.setAttribute('aria-selected', 'false');\n        }\n    }\n}\nfunction keyboardBindings(event, combobox) {\n    if (event.shiftKey || event.metaKey || event.altKey)\n        return;\n    if (!ctrlBindings && event.ctrlKey)\n        return;\n    if (combobox.isComposing)\n        return;\n    switch (event.key) {\n        case 'Enter':\n        case 'Tab':\n            if (commit(combobox.input, combobox.list)) {\n                event.preventDefault();\n            }\n            break;\n        case 'Escape':\n            combobox.clearSelection();\n            break;\n        case 'ArrowDown':\n            combobox.navigate(1);\n            event.preventDefault();\n            break;\n        case 'ArrowUp':\n            combobox.navigate(-1);\n            event.preventDefault();\n            break;\n        case 'n':\n            if (ctrlBindings && event.ctrlKey) {\n                combobox.navigate(1);\n                event.preventDefault();\n            }\n            break;\n        case 'p':\n            if (ctrlBindings && event.ctrlKey) {\n                combobox.navigate(-1);\n                event.preventDefault();\n            }\n            break;\n        default:\n            if (event.ctrlKey)\n                break;\n            combobox.clearSelection();\n    }\n}\nfunction commitWithElement(event) {\n    if (!(event.target instanceof Element))\n        return;\n    const target = event.target.closest('[role=\"option\"]');\n    if (!target)\n        return;\n    if (target.getAttribute('aria-disabled') === 'true')\n        return;\n    fireCommitEvent(target);\n}\nfunction commit(input, list) {\n    const target = list.querySelector('[aria-selected=\"true\"]');\n    if (!target)\n        return false;\n    if (target.getAttribute('aria-disabled') === 'true')\n        return true;\n    target.click();\n    return true;\n}\nfunction fireCommitEvent(target) {\n    target.dispatchEvent(new CustomEvent('combobox-commit', { bubbles: true }));\n}\nfunction visible(el) {\n    return (!el.hidden &&\n        !(el instanceof HTMLInputElement && el.type === 'hidden') &&\n        (el.offsetWidth > 0 || el.offsetHeight > 0));\n}\nfunction trackComposition(event, combobox) {\n    combobox.isComposing = event.type === 'compositionstart';\n    const list = document.getElementById(combobox.input.getAttribute('aria-controls') || '');\n    if (!list)\n        return;\n    combobox.clearSelection();\n}\nfunction scrollTo(container, target) {\n    if (!inViewport(container, target)) {\n        container.scrollTop = target.offsetTop;\n    }\n}\nfunction inViewport(container, element) {\n    const scrollTop = container.scrollTop;\n    const containerBottom = scrollTop + container.clientHeight;\n    const top = element.offsetTop;\n    const bottom = top + element.clientHeight;\n    return top >= scrollTop && bottom <= containerBottom;\n}\n","import Combobox from '@github/combobox-nav';\n\nconst boundary = /\\s|\\(|\\[/;\nfunction query(text, key, cursor, { multiWord, lookBackIndex, lastMatchPosition } = {\n    multiWord: false,\n    lookBackIndex: 0,\n    lastMatchPosition: null\n}) {\n    let keyIndex = text.lastIndexOf(key, cursor - 1);\n    if (keyIndex === -1)\n        return;\n    if (keyIndex < lookBackIndex)\n        return;\n    if (multiWord) {\n        if (lastMatchPosition != null) {\n            if (lastMatchPosition === keyIndex)\n                return;\n            keyIndex = lastMatchPosition - 1;\n        }\n        const charAfterKey = text[keyIndex + 1];\n        if (charAfterKey === ' ' && cursor >= keyIndex + 2)\n            return;\n        const newLineIndex = text.lastIndexOf('\\n', cursor - 1);\n        if (newLineIndex > keyIndex)\n            return;\n        const dotIndex = text.lastIndexOf('.', cursor - 1);\n        if (dotIndex > keyIndex)\n            return;\n    }\n    else {\n        const spaceIndex = text.lastIndexOf(' ', cursor - 1);\n        if (spaceIndex > keyIndex)\n            return;\n    }\n    const pre = text[keyIndex - 1];\n    if (pre && !boundary.test(pre))\n        return;\n    const queryString = text.substring(keyIndex + key.length, cursor);\n    return {\n        text: queryString,\n        position: keyIndex + key.length\n    };\n}\n\nconst properties = ['position:absolute;', 'overflow:auto;', 'word-wrap:break-word;', 'top:0px;', 'left:-9999px;'];\nconst propertyNamesToCopy = [\n    'box-sizing',\n    'font-family',\n    'font-size',\n    'font-style',\n    'font-variant',\n    'font-weight',\n    'height',\n    'letter-spacing',\n    'line-height',\n    'max-height',\n    'min-height',\n    'padding-bottom',\n    'padding-left',\n    'padding-right',\n    'padding-top',\n    'border-bottom',\n    'border-left',\n    'border-right',\n    'border-top',\n    'text-decoration',\n    'text-indent',\n    'text-transform',\n    'width',\n    'word-spacing'\n];\nconst mirrorMap = new WeakMap();\nfunction textFieldMirror(textField, markerPosition) {\n    const nodeName = textField.nodeName.toLowerCase();\n    if (nodeName !== 'textarea' && nodeName !== 'input') {\n        throw new Error('expected textField to a textarea or input');\n    }\n    let mirror = mirrorMap.get(textField);\n    if (mirror && mirror.parentElement === textField.parentElement) {\n        mirror.innerHTML = '';\n    }\n    else {\n        mirror = document.createElement('div');\n        mirrorMap.set(textField, mirror);\n        const style = window.getComputedStyle(textField);\n        const props = properties.slice(0);\n        if (nodeName === 'textarea') {\n            props.push('white-space:pre-wrap;');\n        }\n        else {\n            props.push('white-space:nowrap;');\n        }\n        for (let i = 0, len = propertyNamesToCopy.length; i < len; i++) {\n            const name = propertyNamesToCopy[i];\n            props.push(`${name}:${style.getPropertyValue(name)};`);\n        }\n        mirror.style.cssText = props.join(' ');\n    }\n    const marker = document.createElement('span');\n    marker.style.cssText = 'position: absolute;';\n    marker.innerHTML = '&nbsp;';\n    let before;\n    let after;\n    if (typeof markerPosition === 'number') {\n        let text = textField.value.substring(0, markerPosition);\n        if (text) {\n            before = document.createTextNode(text);\n        }\n        text = textField.value.substring(markerPosition);\n        if (text) {\n            after = document.createTextNode(text);\n        }\n    }\n    else {\n        const text = textField.value;\n        if (text) {\n            before = document.createTextNode(text);\n        }\n    }\n    if (before) {\n        mirror.appendChild(before);\n    }\n    mirror.appendChild(marker);\n    if (after) {\n        mirror.appendChild(after);\n    }\n    if (!mirror.parentElement) {\n        if (!textField.parentElement) {\n            throw new Error('textField must have a parentElement to mirror');\n        }\n        textField.parentElement.insertBefore(mirror, textField);\n    }\n    mirror.scrollTop = textField.scrollTop;\n    mirror.scrollLeft = textField.scrollLeft;\n    return { mirror, marker };\n}\n\nfunction textFieldSelectionPosition(field, index = field.selectionEnd) {\n    const { mirror, marker } = textFieldMirror(field, index);\n    const mirrorRect = mirror.getBoundingClientRect();\n    const markerRect = marker.getBoundingClientRect();\n    setTimeout(() => {\n        mirror.remove();\n    }, 5000);\n    return {\n        top: markerRect.top - mirrorRect.top,\n        left: markerRect.left - mirrorRect.left\n    };\n}\n\nconst states = new WeakMap();\nclass TextExpander {\n    constructor(expander, input) {\n        this.expander = expander;\n        this.input = input;\n        this.combobox = null;\n        this.menu = null;\n        this.match = null;\n        this.justPasted = false;\n        this.lookBackIndex = 0;\n        this.oninput = this.onInput.bind(this);\n        this.onpaste = this.onPaste.bind(this);\n        this.onkeydown = this.onKeydown.bind(this);\n        this.oncommit = this.onCommit.bind(this);\n        this.onmousedown = this.onMousedown.bind(this);\n        this.onblur = this.onBlur.bind(this);\n        this.interactingWithList = false;\n        input.addEventListener('paste', this.onpaste);\n        input.addEventListener('input', this.oninput);\n        input.addEventListener('keydown', this.onkeydown);\n        input.addEventListener('blur', this.onblur);\n    }\n    destroy() {\n        this.input.removeEventListener('paste', this.onpaste);\n        this.input.removeEventListener('input', this.oninput);\n        this.input.removeEventListener('keydown', this.onkeydown);\n        this.input.removeEventListener('blur', this.onblur);\n    }\n    dismissMenu() {\n        if (this.deactivate()) {\n            this.lookBackIndex = this.input.selectionEnd || this.lookBackIndex;\n        }\n    }\n    activate(match, menu) {\n        if (this.input !== document.activeElement)\n            return;\n        this.deactivate();\n        this.menu = menu;\n        if (!menu.id)\n            menu.id = `text-expander-${Math.floor(Math.random() * 100000).toString()}`;\n        this.expander.append(menu);\n        this.combobox = new Combobox(this.input, menu);\n        const { top, left } = textFieldSelectionPosition(this.input, match.position);\n        menu.style.top = `${top}px`;\n        menu.style.left = `${left}px`;\n        this.combobox.start();\n        menu.addEventListener('combobox-commit', this.oncommit);\n        menu.addEventListener('mousedown', this.onmousedown);\n        this.combobox.navigate(1);\n    }\n    deactivate() {\n        const menu = this.menu;\n        if (!menu || !this.combobox)\n            return false;\n        this.menu = null;\n        menu.removeEventListener('combobox-commit', this.oncommit);\n        menu.removeEventListener('mousedown', this.onmousedown);\n        this.combobox.destroy();\n        this.combobox = null;\n        menu.remove();\n        return true;\n    }\n    onCommit({ target }) {\n        const item = target;\n        if (!(item instanceof HTMLElement))\n            return;\n        if (!this.combobox)\n            return;\n        const match = this.match;\n        if (!match)\n            return;\n        const beginning = this.input.value.substring(0, match.position - match.key.length);\n        const remaining = this.input.value.substring(match.position + match.text.length);\n        const detail = { item, key: match.key, value: null };\n        const canceled = !this.expander.dispatchEvent(new CustomEvent('text-expander-value', { cancelable: true, detail }));\n        if (canceled)\n            return;\n        if (!detail.value)\n            return;\n        const value = `${detail.value} `;\n        this.input.value = beginning + value + remaining;\n        const cursor = beginning.length + value.length;\n        this.deactivate();\n        this.input.focus();\n        this.input.selectionStart = cursor;\n        this.input.selectionEnd = cursor;\n        this.lookBackIndex = cursor;\n        this.match = null;\n    }\n    onBlur() {\n        if (this.interactingWithList) {\n            this.interactingWithList = false;\n            return;\n        }\n        this.deactivate();\n    }\n    onPaste() {\n        this.justPasted = true;\n    }\n    async onInput() {\n        if (this.justPasted) {\n            this.justPasted = false;\n            return;\n        }\n        const match = this.findMatch();\n        if (match) {\n            this.match = match;\n            const menu = await this.notifyProviders(match);\n            if (!this.match)\n                return;\n            if (menu) {\n                this.activate(match, menu);\n            }\n            else {\n                this.deactivate();\n            }\n        }\n        else {\n            this.match = null;\n            this.deactivate();\n        }\n    }\n    findMatch() {\n        const cursor = this.input.selectionEnd || 0;\n        const text = this.input.value;\n        if (cursor <= this.lookBackIndex) {\n            this.lookBackIndex = cursor - 1;\n        }\n        for (const { key, multiWord } of this.expander.keys) {\n            const found = query(text, key, cursor, {\n                multiWord,\n                lookBackIndex: this.lookBackIndex,\n                lastMatchPosition: this.match ? this.match.position : null\n            });\n            if (found) {\n                return { text: found.text, key, position: found.position };\n            }\n        }\n    }\n    async notifyProviders(match) {\n        const providers = [];\n        const provide = (result) => providers.push(result);\n        const canceled = !this.expander.dispatchEvent(new CustomEvent('text-expander-change', { cancelable: true, detail: { provide, text: match.text, key: match.key } }));\n        if (canceled)\n            return;\n        const all = await Promise.all(providers);\n        const fragments = all.filter(x => x.matched).map(x => x.fragment);\n        return fragments[0];\n    }\n    onMousedown() {\n        this.interactingWithList = true;\n    }\n    onKeydown(event) {\n        if (event.key === 'Escape') {\n            this.match = null;\n            if (this.deactivate()) {\n                this.lookBackIndex = this.input.selectionEnd || this.lookBackIndex;\n                event.stopImmediatePropagation();\n                event.preventDefault();\n            }\n        }\n    }\n}\nclass TextExpanderElement extends HTMLElement {\n    get keys() {\n        const keysAttr = this.getAttribute('keys');\n        const keys = keysAttr ? keysAttr.split(' ') : [];\n        const multiWordAttr = this.getAttribute('multiword');\n        const multiWord = multiWordAttr ? multiWordAttr.split(' ') : [];\n        const globalMultiWord = multiWord.length === 0 && this.hasAttribute('multiword');\n        return keys.map(key => ({ key, multiWord: globalMultiWord || multiWord.includes(key) }));\n    }\n    connectedCallback() {\n        const input = this.querySelector('input[type=\"text\"], textarea');\n        if (!(input instanceof HTMLInputElement || input instanceof HTMLTextAreaElement))\n            return;\n        const state = new TextExpander(this, input);\n        states.set(this, state);\n    }\n    disconnectedCallback() {\n        const state = states.get(this);\n        if (!state)\n            return;\n        state.destroy();\n        states.delete(this);\n    }\n    dismiss() {\n        const state = states.get(this);\n        if (!state)\n            return;\n        state.dismissMenu();\n    }\n}\n\nif (!window.customElements.get('text-expander')) {\n    window.TextExpanderElement = TextExpanderElement;\n    window.customElements.define('text-expander', TextExpanderElement);\n}\n\nexport default TextExpanderElement;\n","const weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nconst months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\nfunction pad(num) {\n  return \"0\".concat(num).slice(-2);\n}\n\nfunction strftime(time, formatString) {\n  const day = time.getDay();\n  const date = time.getDate();\n  const month = time.getMonth();\n  const year = time.getFullYear();\n  const hour = time.getHours();\n  const minute = time.getMinutes();\n  const second = time.getSeconds();\n  return formatString.replace(/%([%aAbBcdeHIlmMpPSwyYZz])/g, function (_arg) {\n    let match;\n    const modifier = _arg[1];\n\n    switch (modifier) {\n      case '%':\n        return '%';\n\n      case 'a':\n        return weekdays[day].slice(0, 3);\n\n      case 'A':\n        return weekdays[day];\n\n      case 'b':\n        return months[month].slice(0, 3);\n\n      case 'B':\n        return months[month];\n\n      case 'c':\n        return time.toString();\n\n      case 'd':\n        return pad(date);\n\n      case 'e':\n        return String(date);\n\n      case 'H':\n        return pad(hour);\n\n      case 'I':\n        return pad(strftime(time, '%l'));\n\n      case 'l':\n        if (hour === 0 || hour === 12) {\n          return String(12);\n        } else {\n          return String((hour + 12) % 12);\n        }\n\n      case 'm':\n        return pad(month + 1);\n\n      case 'M':\n        return pad(minute);\n\n      case 'p':\n        if (hour > 11) {\n          return 'PM';\n        } else {\n          return 'AM';\n        }\n\n      case 'P':\n        if (hour > 11) {\n          return 'pm';\n        } else {\n          return 'am';\n        }\n\n      case 'S':\n        return pad(second);\n\n      case 'w':\n        return String(day);\n\n      case 'y':\n        return pad(year % 100);\n\n      case 'Y':\n        return String(year);\n\n      case 'Z':\n        match = time.toString().match(/\\((\\w+)\\)$/);\n        return match ? match[1] : '';\n\n      case 'z':\n        match = time.toString().match(/\\w([+-]\\d\\d\\d\\d) /);\n        return match ? match[1] : '';\n    }\n\n    return '';\n  });\n}\nfunction makeFormatter(options) {\n  let format;\n  return function () {\n    if (format) return format;\n\n    if ('Intl' in window) {\n      try {\n        format = new Intl.DateTimeFormat(undefined, options);\n        return format;\n      } catch (e) {\n        if (!(e instanceof RangeError)) {\n          throw e;\n        }\n      }\n    }\n  };\n}\nlet dayFirst = null;\nconst dayFirstFormatter = makeFormatter({\n  day: 'numeric',\n  month: 'short'\n}); // Private: Determine if the day should be formatted before the month name in\n// the user's current locale. For example, `9 Jun` for en-GB and `Jun 9`\n// for en-US.\n//\n// Returns true if the day appears before the month.\n\nfunction isDayFirst() {\n  if (dayFirst !== null) {\n    return dayFirst;\n  }\n\n  const formatter = dayFirstFormatter();\n\n  if (formatter) {\n    const output = formatter.format(new Date(0));\n    dayFirst = !!output.match(/^\\d/);\n    return dayFirst;\n  } else {\n    return false;\n  }\n}\nlet yearSeparator = null;\nconst yearFormatter = makeFormatter({\n  day: 'numeric',\n  month: 'short',\n  year: 'numeric'\n}); // Private: Determine if the year should be separated from the month and day\n// with a comma. For example, `9 Jun 2014` in en-GB and `Jun 9, 2014` in en-US.\n//\n// Returns true if the date needs a separator.\n\nfunction isYearSeparator() {\n  if (yearSeparator !== null) {\n    return yearSeparator;\n  }\n\n  const formatter = yearFormatter();\n\n  if (formatter) {\n    const output = formatter.format(new Date(0));\n    yearSeparator = !!output.match(/\\d,/);\n    return yearSeparator;\n  } else {\n    return true;\n  }\n} // Private: Determine if the date occurs in the same year as today's date.\n//\n// date - The Date to test.\n//\n// Returns true if it's this year.\n\nfunction isThisYear(date) {\n  const now = new Date();\n  return now.getUTCFullYear() === date.getUTCFullYear();\n}\nfunction makeRelativeFormat(locale, options) {\n  if ('Intl' in window && 'RelativeTimeFormat' in window.Intl) {\n    try {\n      // eslint-disable-next-line flowtype/no-flow-fix-me-comments\n      // $FlowFixMe: missing RelativeTimeFormat type\n      return new Intl.RelativeTimeFormat(locale, options);\n    } catch (e) {\n      if (!(e instanceof RangeError)) {\n        throw e;\n      }\n    }\n  }\n} // Private: Get preferred Intl locale for a target element.\n//\n// Traverses parents until it finds an explicit `lang` other returns \"default\".\n\nfunction localeFromElement(el) {\n  const container = el.closest('[lang]');\n\n  if (container instanceof HTMLElement && container.lang) {\n    return container.lang;\n  }\n\n  return 'default';\n}\n\nconst datetimes = new WeakMap();\nclass ExtendedTimeElement extends HTMLElement {\n  static get observedAttributes() {\n    return ['datetime', 'day', 'format', 'lang', 'hour', 'minute', 'month', 'second', 'title', 'weekday', 'year'];\n  }\n\n  connectedCallback() {\n    const title = this.getFormattedTitle();\n\n    if (title && !this.hasAttribute('title')) {\n      this.setAttribute('title', title);\n    }\n\n    const text = this.getFormattedDate();\n\n    if (text) {\n      this.textContent = text;\n    }\n  } // Internal: Refresh the time element's formatted date when an attribute changes.\n\n\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    const oldTitle = this.getFormattedTitle();\n\n    if (attrName === 'datetime') {\n      const millis = Date.parse(newValue);\n\n      if (isNaN(millis)) {\n        datetimes.delete(this);\n      } else {\n        datetimes.set(this, new Date(millis));\n      }\n    }\n\n    const title = this.getFormattedTitle();\n    const currentTitle = this.getAttribute('title');\n\n    if (attrName !== 'title' && title && (!currentTitle || currentTitle === oldTitle)) {\n      this.setAttribute('title', title);\n    }\n\n    const text = this.getFormattedDate();\n\n    if (text) {\n      this.textContent = text;\n    }\n  }\n\n  get date() {\n    return datetimes.get(this);\n  } // Internal: Format the ISO 8601 timestamp according to the user agent's\n  // locale-aware formatting rules. The element's existing `title` attribute\n  // value takes precedence over this custom format.\n  //\n  // Returns a formatted time String.\n\n\n  getFormattedTitle() {\n    const date = this.date;\n    if (!date) return;\n    const formatter = titleFormatter();\n\n    if (formatter) {\n      return formatter.format(date);\n    } else {\n      try {\n        return date.toLocaleString();\n      } catch (e) {\n        if (e instanceof RangeError) {\n          return date.toString();\n        } else {\n          throw e;\n        }\n      }\n    }\n  }\n\n  getFormattedDate() {}\n\n}\nconst titleFormatter = makeFormatter({\n  day: 'numeric',\n  month: 'short',\n  year: 'numeric',\n  hour: 'numeric',\n  minute: '2-digit',\n  timeZoneName: 'short'\n});\n\nconst formatters = new WeakMap();\nclass LocalTimeElement extends ExtendedTimeElement {\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    if (attrName === 'hour' || attrName === 'minute' || attrName === 'second' || attrName === 'time-zone-name') {\n      formatters.delete(this);\n    }\n\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n  } // Formats the element's date, in the user's current locale, according to\n  // the formatting attribute values. Values are not passed straight through to\n  // an Intl.DateTimeFormat instance so that weekday and month names are always\n  // displayed in English, for now.\n  //\n  // Supported attributes are:\n  //\n  //   weekday - \"short\", \"long\"\n  //   year    - \"numeric\", \"2-digit\"\n  //   month   - \"short\", \"long\"\n  //   day     - \"numeric\", \"2-digit\"\n  //   hour    - \"numeric\", \"2-digit\"\n  //   minute  - \"numeric\", \"2-digit\"\n  //   second  - \"numeric\", \"2-digit\"\n  //\n  // Returns a formatted time String.\n\n\n  getFormattedDate() {\n    const d = this.date;\n    if (!d) return;\n    const date = formatDate(this, d) || '';\n    const time = formatTime(this, d) || '';\n    return \"\".concat(date, \" \").concat(time).trim();\n  }\n\n} // Private: Format a date according to the `weekday`, `day`, `month`,\n// and `year` attribute values.\n//\n// This doesn't use Intl.DateTimeFormat to avoid creating text in the user's\n// language when the majority of the surrounding text is in English. There's\n// currently no way to separate the language from the format in Intl.\n//\n// el - The local-time element to format.\n//\n// Returns a date String or null if no date formats are provided.\n\nfunction formatDate(el, date) {\n  // map attribute values to strftime\n  const props = {\n    weekday: {\n      short: '%a',\n      long: '%A'\n    },\n    day: {\n      numeric: '%e',\n      '2-digit': '%d'\n    },\n    month: {\n      short: '%b',\n      long: '%B'\n    },\n    year: {\n      numeric: '%Y',\n      '2-digit': '%y'\n    }\n  }; // build a strftime format string\n\n  let format = isDayFirst() ? 'weekday day month year' : 'weekday month day, year';\n\n  for (const prop in props) {\n    const value = props[prop][el.getAttribute(prop)];\n    format = format.replace(prop, value || '');\n  } // clean up year separator comma\n\n\n  format = format.replace(/(\\s,)|(,\\s$)/, ''); // squeeze spaces from final string\n\n  return strftime(date, format).replace(/\\s+/, ' ').trim();\n} // Private: Format a time according to the `hour`, `minute`, and `second`\n// attribute values.\n//\n// el - The local-time element to format.\n//\n// Returns a time String or null if no time formats are provided.\n\n\nfunction formatTime(el, date) {\n  const options = {}; // retrieve format settings from attributes\n\n  const hour = el.getAttribute('hour');\n  if (hour === 'numeric' || hour === '2-digit') options.hour = hour;\n  const minute = el.getAttribute('minute');\n  if (minute === 'numeric' || minute === '2-digit') options.minute = minute;\n  const second = el.getAttribute('second');\n  if (second === 'numeric' || second === '2-digit') options.second = second;\n  const tz = el.getAttribute('time-zone-name');\n  if (tz === 'short' || tz === 'long') options.timeZoneName = tz; // No time format attributes provided.\n\n  if (Object.keys(options).length === 0) {\n    return;\n  }\n\n  let factory = formatters.get(el);\n\n  if (!factory) {\n    factory = makeFormatter(options);\n    formatters.set(el, factory);\n  }\n\n  const formatter = factory();\n\n  if (formatter) {\n    // locale-aware formatting of 24 or 12 hour times\n    return formatter.format(date);\n  } else {\n    // fall back to strftime for non-Intl browsers\n    const timef = options.second ? '%H:%M:%S' : '%H:%M';\n    return strftime(date, timef);\n  }\n} // Public: LocalTimeElement constructor.\n//\n//   var time = new LocalTimeElement()\n//   # => <local-time></local-time>\n//\n\n\nif (!window.customElements.get('local-time')) {\n  window.LocalTimeElement = LocalTimeElement;\n  window.customElements.define('local-time', LocalTimeElement);\n}\n\nclass RelativeTime {\n  constructor(date, locale) {\n    this.date = date;\n    this.locale = locale;\n  }\n\n  toString() {\n    const ago = this.timeElapsed();\n\n    if (ago) {\n      return ago;\n    } else {\n      const ahead = this.timeAhead();\n\n      if (ahead) {\n        return ahead;\n      } else {\n        return \"on \".concat(this.formatDate());\n      }\n    }\n  }\n\n  timeElapsed() {\n    const ms = new Date().getTime() - this.date.getTime();\n    const sec = Math.round(ms / 1000);\n    const min = Math.round(sec / 60);\n    const hr = Math.round(min / 60);\n    const day = Math.round(hr / 24);\n\n    if (ms >= 0 && day < 30) {\n      return this.timeAgoFromMs(ms);\n    } else {\n      return null;\n    }\n  }\n\n  timeAhead() {\n    const ms = this.date.getTime() - new Date().getTime();\n    const sec = Math.round(ms / 1000);\n    const min = Math.round(sec / 60);\n    const hr = Math.round(min / 60);\n    const day = Math.round(hr / 24);\n\n    if (ms >= 0 && day < 30) {\n      return this.timeUntil();\n    } else {\n      return null;\n    }\n  }\n\n  timeAgo() {\n    const ms = new Date().getTime() - this.date.getTime();\n    return this.timeAgoFromMs(ms);\n  }\n\n  timeAgoFromMs(ms) {\n    const sec = Math.round(ms / 1000);\n    const min = Math.round(sec / 60);\n    const hr = Math.round(min / 60);\n    const day = Math.round(hr / 24);\n    const month = Math.round(day / 30);\n    const year = Math.round(month / 12);\n\n    if (ms < 0) {\n      return formatRelativeTime(this.locale, 0, 'second');\n    } else if (sec < 10) {\n      return formatRelativeTime(this.locale, 0, 'second');\n    } else if (sec < 45) {\n      return formatRelativeTime(this.locale, -sec, 'second');\n    } else if (sec < 90) {\n      return formatRelativeTime(this.locale, -min, 'minute');\n    } else if (min < 45) {\n      return formatRelativeTime(this.locale, -min, 'minute');\n    } else if (min < 90) {\n      return formatRelativeTime(this.locale, -hr, 'hour');\n    } else if (hr < 24) {\n      return formatRelativeTime(this.locale, -hr, 'hour');\n    } else if (hr < 36) {\n      return formatRelativeTime(this.locale, -day, 'day');\n    } else if (day < 30) {\n      return formatRelativeTime(this.locale, -day, 'day');\n    } else if (month < 18) {\n      return formatRelativeTime(this.locale, -month, 'month');\n    } else {\n      return formatRelativeTime(this.locale, -year, 'year');\n    }\n  }\n\n  microTimeAgo() {\n    const ms = new Date().getTime() - this.date.getTime();\n    const sec = Math.round(ms / 1000);\n    const min = Math.round(sec / 60);\n    const hr = Math.round(min / 60);\n    const day = Math.round(hr / 24);\n    const month = Math.round(day / 30);\n    const year = Math.round(month / 12);\n\n    if (min < 1) {\n      return '1m';\n    } else if (min < 60) {\n      return \"\".concat(min, \"m\");\n    } else if (hr < 24) {\n      return \"\".concat(hr, \"h\");\n    } else if (day < 365) {\n      return \"\".concat(day, \"d\");\n    } else {\n      return \"\".concat(year, \"y\");\n    }\n  }\n\n  timeUntil() {\n    const ms = this.date.getTime() - new Date().getTime();\n    return this.timeUntilFromMs(ms);\n  }\n\n  timeUntilFromMs(ms) {\n    const sec = Math.round(ms / 1000);\n    const min = Math.round(sec / 60);\n    const hr = Math.round(min / 60);\n    const day = Math.round(hr / 24);\n    const month = Math.round(day / 30);\n    const year = Math.round(month / 12);\n\n    if (month >= 18) {\n      return formatRelativeTime(this.locale, year, 'year');\n    } else if (month >= 12) {\n      return formatRelativeTime(this.locale, year, 'year');\n    } else if (day >= 45) {\n      return formatRelativeTime(this.locale, month, 'month');\n    } else if (day >= 30) {\n      return formatRelativeTime(this.locale, month, 'month');\n    } else if (hr >= 36) {\n      return formatRelativeTime(this.locale, day, 'day');\n    } else if (hr >= 24) {\n      return formatRelativeTime(this.locale, day, 'day');\n    } else if (min >= 90) {\n      return formatRelativeTime(this.locale, hr, 'hour');\n    } else if (min >= 45) {\n      return formatRelativeTime(this.locale, hr, 'hour');\n    } else if (sec >= 90) {\n      return formatRelativeTime(this.locale, min, 'minute');\n    } else if (sec >= 45) {\n      return formatRelativeTime(this.locale, min, 'minute');\n    } else if (sec >= 10) {\n      return formatRelativeTime(this.locale, sec, 'second');\n    } else {\n      return formatRelativeTime(this.locale, 0, 'second');\n    }\n  }\n\n  microTimeUntil() {\n    const ms = this.date.getTime() - new Date().getTime();\n    const sec = Math.round(ms / 1000);\n    const min = Math.round(sec / 60);\n    const hr = Math.round(min / 60);\n    const day = Math.round(hr / 24);\n    const month = Math.round(day / 30);\n    const year = Math.round(month / 12);\n\n    if (day >= 365) {\n      return \"\".concat(year, \"y\");\n    } else if (hr >= 24) {\n      return \"\".concat(day, \"d\");\n    } else if (min >= 60) {\n      return \"\".concat(hr, \"h\");\n    } else if (min > 1) {\n      return \"\".concat(min, \"m\");\n    } else {\n      return '1m';\n    }\n  }\n\n  formatDate() {\n    let format = isDayFirst() ? '%e %b' : '%b %e';\n\n    if (!isThisYear(this.date)) {\n      format += isYearSeparator() ? ', %Y' : ' %Y';\n    }\n\n    return strftime(this.date, format);\n  }\n\n  formatTime() {\n    const formatter = timeFormatter();\n\n    if (formatter) {\n      return formatter.format(this.date);\n    } else {\n      return strftime(this.date, '%l:%M%P');\n    }\n  }\n\n}\n\nfunction formatRelativeTime(locale, value, unit) {\n  const formatter = makeRelativeFormat(locale, {\n    numeric: 'auto'\n  });\n\n  if (formatter) {\n    return formatter.format(value, unit);\n  } else {\n    return formatEnRelativeTime(value, unit);\n  }\n} // Simplified \"en\" RelativeTimeFormat.format function\n//\n// Values should roughly match\n//   new Intl.RelativeTimeFormat('en', {numeric: 'auto'}).format(value, unit)\n//\n\n\nfunction formatEnRelativeTime(value, unit) {\n  if (value === 0) {\n    switch (unit) {\n      case 'year':\n      case 'quarter':\n      case 'month':\n      case 'week':\n        return \"this \".concat(unit);\n\n      case 'day':\n        return 'today';\n\n      case 'hour':\n      case 'minute':\n        return \"in 0 \".concat(unit, \"s\");\n\n      case 'second':\n        return 'now';\n    }\n  } else if (value === 1) {\n    switch (unit) {\n      case 'year':\n      case 'quarter':\n      case 'month':\n      case 'week':\n        return \"next \".concat(unit);\n\n      case 'day':\n        return 'tomorrow';\n\n      case 'hour':\n      case 'minute':\n      case 'second':\n        return \"in 1 \".concat(unit);\n    }\n  } else if (value === -1) {\n    switch (unit) {\n      case 'year':\n      case 'quarter':\n      case 'month':\n      case 'week':\n        return \"last \".concat(unit);\n\n      case 'day':\n        return 'yesterday';\n\n      case 'hour':\n      case 'minute':\n      case 'second':\n        return \"1 \".concat(unit, \" ago\");\n    }\n  } else if (value > 1) {\n    switch (unit) {\n      case 'year':\n      case 'quarter':\n      case 'month':\n      case 'week':\n      case 'day':\n      case 'hour':\n      case 'minute':\n      case 'second':\n        return \"in \".concat(value, \" \").concat(unit, \"s\");\n    }\n  } else if (value < -1) {\n    switch (unit) {\n      case 'year':\n      case 'quarter':\n      case 'month':\n      case 'week':\n      case 'day':\n      case 'hour':\n      case 'minute':\n      case 'second':\n        return \"\".concat(-value, \" \").concat(unit, \"s ago\");\n    }\n  }\n\n  throw new RangeError(\"Invalid unit argument for format() '\".concat(unit, \"'\"));\n}\n\nconst timeFormatter = makeFormatter({\n  hour: 'numeric',\n  minute: '2-digit'\n});\n\nclass RelativeTimeElement extends ExtendedTimeElement {\n  getFormattedDate() {\n    const date = this.date;\n\n    if (date) {\n      return new RelativeTime(date, localeFromElement(this)).toString();\n    }\n  }\n\n  connectedCallback() {\n    nowElements.push(this);\n\n    if (!updateNowElementsId) {\n      updateNowElements();\n      updateNowElementsId = setInterval(updateNowElements, 60 * 1000);\n    }\n\n    super.connectedCallback();\n  }\n\n  disconnectedCallback() {\n    const ix = nowElements.indexOf(this);\n\n    if (ix !== -1) {\n      nowElements.splice(ix, 1);\n    }\n\n    if (!nowElements.length) {\n      if (updateNowElementsId) {\n        clearInterval(updateNowElementsId);\n        updateNowElementsId = null;\n      }\n    }\n  }\n\n} // Internal: Array tracking all elements attached to the document that need\n// to be updated every minute.\n\nconst nowElements = []; // Internal: Timer ID for `updateNowElements` interval.\n\nlet updateNowElementsId; // Internal: Install a timer to refresh all attached relative-time elements every\n// minute.\n\nfunction updateNowElements() {\n  let time, i, len;\n\n  for (i = 0, len = nowElements.length; i < len; i++) {\n    time = nowElements[i];\n    time.textContent = time.getFormattedDate() || '';\n  }\n} // Public: RelativeTimeElement constructor.\n//\n//   var time = new RelativeTimeElement()\n//   # => <relative-time></relative-time>\n//\n\n\nif (!window.customElements.get('relative-time')) {\n  window.RelativeTimeElement = RelativeTimeElement;\n  window.customElements.define('relative-time', RelativeTimeElement);\n}\n\nclass TimeAgoElement extends RelativeTimeElement {\n  getFormattedDate() {\n    const format = this.getAttribute('format');\n    const date = this.date;\n    if (!date) return;\n\n    if (format === 'micro') {\n      return new RelativeTime(date, localeFromElement(this)).microTimeAgo();\n    } else {\n      return new RelativeTime(date, localeFromElement(this)).timeAgo();\n    }\n  }\n\n}\n\nif (!window.customElements.get('time-ago')) {\n  window.TimeAgoElement = TimeAgoElement;\n  window.customElements.define('time-ago', TimeAgoElement);\n}\n\nclass TimeUntilElement extends RelativeTimeElement {\n  getFormattedDate() {\n    const format = this.getAttribute('format');\n    const date = this.date;\n    if (!date) return;\n\n    if (format === 'micro') {\n      return new RelativeTime(date, localeFromElement(this)).microTimeUntil();\n    } else {\n      return new RelativeTime(date, localeFromElement(this)).timeUntil();\n    }\n  }\n\n}\n\nif (!window.customElements.get('time-until')) {\n  window.TimeUntilElement = TimeUntilElement;\n  window.customElements.define('time-until', TimeUntilElement);\n}\n\nexport { LocalTimeElement, RelativeTimeElement, TimeAgoElement, TimeUntilElement };\n","import Combobox from '@github/combobox-nav';\n\nclass AutocompleteEvent extends CustomEvent {\n    constructor(type, init) {\n        super(type, init);\n        this.relatedTarget = init.relatedTarget;\n    }\n}\n\nfunction debounce(callback, wait = 0) {\n    let timeout;\n    return function (...Rest) {\n        clearTimeout(timeout);\n        timeout = window.setTimeout(() => {\n            clearTimeout(timeout);\n            callback(...Rest);\n        }, wait);\n    };\n}\n\nconst requests = new WeakMap();\nfunction fragment(el, url) {\n    const xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.setRequestHeader('Accept', 'text/fragment+html');\n    return request(el, xhr);\n}\nfunction request(el, xhr) {\n    const pending = requests.get(el);\n    if (pending)\n        pending.abort();\n    requests.set(el, xhr);\n    const clear = () => requests.delete(el);\n    const result = send(xhr);\n    result.then(clear, clear);\n    return result;\n}\nfunction send(xhr) {\n    return new Promise((resolve, reject) => {\n        xhr.onload = function () {\n            if (xhr.status >= 200 && xhr.status < 300) {\n                resolve(xhr.responseText);\n            }\n            else {\n                reject(new Error(xhr.responseText));\n            }\n        };\n        xhr.onerror = reject;\n        xhr.send();\n    });\n}\n\nclass Autocomplete {\n    constructor(container, input, results) {\n        this.container = container;\n        this.input = input;\n        this.results = results;\n        this.combobox = new Combobox(input, results);\n        this.results.hidden = true;\n        this.input.setAttribute('autocomplete', 'off');\n        this.input.setAttribute('spellcheck', 'false');\n        this.interactingWithList = false;\n        this.onInputChange = debounce(this.onInputChange.bind(this), 300);\n        this.onResultsMouseDown = this.onResultsMouseDown.bind(this);\n        this.onInputBlur = this.onInputBlur.bind(this);\n        this.onInputFocus = this.onInputFocus.bind(this);\n        this.onKeydown = this.onKeydown.bind(this);\n        this.onCommit = this.onCommit.bind(this);\n        this.input.addEventListener('keydown', this.onKeydown);\n        this.input.addEventListener('focus', this.onInputFocus);\n        this.input.addEventListener('blur', this.onInputBlur);\n        this.input.addEventListener('input', this.onInputChange);\n        this.results.addEventListener('mousedown', this.onResultsMouseDown);\n        this.results.addEventListener('combobox-commit', this.onCommit);\n    }\n    destroy() {\n        this.input.removeEventListener('keydown', this.onKeydown);\n        this.input.removeEventListener('focus', this.onInputFocus);\n        this.input.removeEventListener('blur', this.onInputBlur);\n        this.input.removeEventListener('input', this.onInputChange);\n        this.results.removeEventListener('mousedown', this.onResultsMouseDown);\n        this.results.removeEventListener('combobox-commit', this.onCommit);\n    }\n    onKeydown(event) {\n        if (event.key === 'Escape' && this.container.open) {\n            this.container.open = false;\n            event.stopPropagation();\n            event.preventDefault();\n        }\n        else if (event.altKey && event.key === 'ArrowUp' && this.container.open) {\n            this.container.open = false;\n            event.stopPropagation();\n            event.preventDefault();\n        }\n        else if (event.altKey && event.key === 'ArrowDown' && !this.container.open) {\n            if (!this.input.value.trim())\n                return;\n            this.container.open = true;\n            event.stopPropagation();\n            event.preventDefault();\n        }\n    }\n    onInputFocus() {\n        this.fetchResults();\n    }\n    onInputBlur() {\n        if (this.interactingWithList) {\n            this.interactingWithList = false;\n            return;\n        }\n        this.container.open = false;\n    }\n    onCommit({ target }) {\n        const selected = target;\n        if (!(selected instanceof HTMLElement))\n            return;\n        this.container.open = false;\n        if (selected instanceof HTMLAnchorElement)\n            return;\n        const value = selected.getAttribute('data-autocomplete-value') || selected.textContent;\n        this.container.value = value;\n    }\n    onResultsMouseDown() {\n        this.interactingWithList = true;\n    }\n    onInputChange() {\n        this.container.removeAttribute('value');\n        this.fetchResults();\n    }\n    identifyOptions() {\n        let id = 0;\n        for (const el of this.results.querySelectorAll('[role=\"option\"]:not([id])')) {\n            el.id = `${this.results.id}-option-${id++}`;\n        }\n    }\n    fetchResults() {\n        const query = this.input.value.trim();\n        if (!query) {\n            this.container.open = false;\n            return;\n        }\n        const src = this.container.src;\n        if (!src)\n            return;\n        const url = new URL(src, window.location.href);\n        const params = new URLSearchParams(url.search.slice(1));\n        params.append('q', query);\n        url.search = params.toString();\n        this.container.dispatchEvent(new CustomEvent('loadstart'));\n        fragment(this.input, url.toString())\n            .then(html => {\n            this.results.innerHTML = html;\n            this.identifyOptions();\n            const hasResults = !!this.results.querySelector('[role=\"option\"]');\n            this.container.open = hasResults;\n            this.container.dispatchEvent(new CustomEvent('load'));\n            this.container.dispatchEvent(new CustomEvent('loadend'));\n        })\n            .catch(() => {\n            this.container.dispatchEvent(new CustomEvent('error'));\n            this.container.dispatchEvent(new CustomEvent('loadend'));\n        });\n    }\n    open() {\n        if (!this.results.hidden)\n            return;\n        this.combobox.start();\n        this.results.hidden = false;\n    }\n    close() {\n        if (this.results.hidden)\n            return;\n        this.combobox.stop();\n        this.results.hidden = true;\n    }\n}\n\nconst state = new WeakMap();\nclass AutocompleteElement extends HTMLElement {\n    constructor() {\n        super();\n    }\n    connectedCallback() {\n        const listId = this.getAttribute('for');\n        if (!listId)\n            return;\n        const input = this.querySelector('input');\n        const results = document.getElementById(listId);\n        if (!(input instanceof HTMLInputElement) || !results)\n            return;\n        state.set(this, new Autocomplete(this, input, results));\n        results.setAttribute('role', 'listbox');\n    }\n    disconnectedCallback() {\n        const autocomplete = state.get(this);\n        if (autocomplete) {\n            autocomplete.destroy();\n            state.delete(this);\n        }\n    }\n    get src() {\n        return this.getAttribute('src') || '';\n    }\n    set src(url) {\n        this.setAttribute('src', url);\n    }\n    get value() {\n        return this.getAttribute('value') || '';\n    }\n    set value(value) {\n        this.setAttribute('value', value);\n    }\n    get open() {\n        return this.hasAttribute('open');\n    }\n    set open(value) {\n        if (value) {\n            this.setAttribute('open', '');\n        }\n        else {\n            this.removeAttribute('open');\n        }\n    }\n    static get observedAttributes() {\n        return ['open', 'value'];\n    }\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (oldValue === newValue)\n            return;\n        const autocomplete = state.get(this);\n        if (!autocomplete)\n            return;\n        switch (name) {\n            case 'open':\n                newValue === null ? autocomplete.close() : autocomplete.open();\n                break;\n            case 'value':\n                if (newValue !== null) {\n                    autocomplete.input.value = newValue;\n                }\n                this.dispatchEvent(new AutocompleteEvent('auto-complete-change', {\n                    bubbles: true,\n                    relatedTarget: autocomplete.input\n                }));\n                break;\n        }\n    }\n}\n\nif (!window.customElements.get('auto-complete')) {\n    window.AutocompleteElement = AutocompleteElement;\n    window.customElements.define('auto-complete', AutocompleteElement);\n}\n\nexport default AutocompleteElement;\nexport { AutocompleteEvent };\n","export default class TabContainerElement extends HTMLElement {\n    constructor() {\n        super();\n        this.addEventListener('keydown', (event) => {\n            const target = event.target;\n            if (!(target instanceof HTMLElement))\n                return;\n            if (target.getAttribute('role') !== 'tab' && !target.closest('[role=\"tablist\"]'))\n                return;\n            const tabs = Array.from(this.querySelectorAll('[role=\"tablist\"] [role=\"tab\"]'));\n            const currentIndex = tabs.indexOf(tabs.find(tab => tab.matches('[aria-selected=\"true\"]')));\n            if (event.code === 'ArrowRight') {\n                let index = currentIndex + 1;\n                if (index >= tabs.length)\n                    index = 0;\n                selectTab(this, index);\n            }\n            else if (event.code === 'ArrowLeft') {\n                let index = currentIndex - 1;\n                if (index < 0)\n                    index = tabs.length - 1;\n                selectTab(this, index);\n            }\n            else if (event.code === 'Home') {\n                selectTab(this, 0);\n                event.preventDefault();\n            }\n            else if (event.code === 'End') {\n                selectTab(this, tabs.length - 1);\n                event.preventDefault();\n            }\n        });\n        this.addEventListener('click', (event) => {\n            const tabs = Array.from(this.querySelectorAll('[role=\"tablist\"] [role=\"tab\"]'));\n            if (!(event.target instanceof Element))\n                return;\n            const tab = event.target.closest('[role=\"tab\"]');\n            if (!tab || !tab.closest('[role=\"tablist\"]'))\n                return;\n            const index = tabs.indexOf(tab);\n            selectTab(this, index);\n        });\n    }\n    connectedCallback() {\n        for (const tab of this.querySelectorAll('[role=\"tablist\"] [role=\"tab\"]')) {\n            if (!tab.hasAttribute('aria-selected')) {\n                tab.setAttribute('aria-selected', 'false');\n            }\n            if (!tab.hasAttribute('tabindex')) {\n                if (tab.getAttribute('aria-selected') === 'true') {\n                    tab.setAttribute('tabindex', '0');\n                }\n                else {\n                    tab.setAttribute('tabindex', '-1');\n                }\n            }\n        }\n    }\n}\nfunction selectTab(tabContainer, index) {\n    const tabs = tabContainer.querySelectorAll('[role=\"tablist\"] [role=\"tab\"]');\n    const panels = tabContainer.querySelectorAll('[role=\"tabpanel\"]');\n    const selectedTab = tabs[index];\n    const selectedPanel = panels[index];\n    const cancelled = !tabContainer.dispatchEvent(new CustomEvent('tab-container-change', {\n        bubbles: true,\n        cancelable: true,\n        detail: { relatedTarget: selectedPanel }\n    }));\n    if (cancelled)\n        return;\n    for (const tab of tabs) {\n        tab.setAttribute('aria-selected', 'false');\n        tab.setAttribute('tabindex', '-1');\n    }\n    for (const panel of panels) {\n        panel.hidden = true;\n        if (!panel.hasAttribute('tabindex') && !panel.hasAttribute('data-tab-container-no-tabstop')) {\n            panel.setAttribute('tabindex', '0');\n        }\n    }\n    selectedTab.setAttribute('aria-selected', 'true');\n    selectedTab.setAttribute('tabindex', '0');\n    selectedTab.focus();\n    selectedPanel.hidden = false;\n    tabContainer.dispatchEvent(new CustomEvent('tab-container-changed', {\n        bubbles: true,\n        detail: { relatedTarget: selectedPanel }\n    }));\n}\nif (!window.customElements.get('tab-container')) {\n    window.TabContainerElement = TabContainerElement;\n    window.customElements.define('tab-container', TabContainerElement);\n}\n//# sourceMappingURL=index.js.map","function insertText(textarea, text) {\r\n    const beginning = textarea.value.substring(0, textarea.selectionStart || 0);\r\n    const remaining = textarea.value.substring(textarea.selectionEnd || 0);\r\n    const newline = beginning.length === 0 || beginning.match(/\\n$/) ? '' : '\\n';\r\n    const textBeforeCursor = beginning + newline + text;\r\n    textarea.value = textBeforeCursor + remaining;\r\n    textarea.selectionStart = textBeforeCursor.length;\r\n    textarea.selectionEnd = textarea.selectionStart;\r\n    textarea.dispatchEvent(new CustomEvent('change', {\r\n        bubbles: true,\r\n        cancelable: false\r\n    }));\r\n    textarea.focus();\r\n}\n\nfunction install(el) {\r\n    el.addEventListener('dragover', onDragover);\r\n    el.addEventListener('drop', onDrop);\r\n    el.addEventListener('paste', onPaste);\r\n}\r\nfunction uninstall(el) {\r\n    el.removeEventListener('dragover', onDragover);\r\n    el.removeEventListener('drop', onDrop);\r\n    el.removeEventListener('paste', onPaste);\r\n}\r\nfunction onDrop(event) {\r\n    const transfer = event.dataTransfer;\r\n    if (!transfer)\r\n        return;\r\n    if (hasFile(transfer))\r\n        return;\r\n    if (!hasLink(transfer))\r\n        return;\r\n    const links = extractLinks(transfer);\r\n    if (!links.some(isImageLink))\r\n        return;\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n    const field = event.currentTarget;\r\n    if (!(field instanceof HTMLTextAreaElement))\r\n        return;\r\n    insertText(field, links.map(linkify).join(''));\r\n}\r\nfunction onDragover(event) {\r\n    const transfer = event.dataTransfer;\r\n    if (transfer)\r\n        transfer.dropEffect = 'link';\r\n}\r\nfunction onPaste(event) {\r\n    const transfer = event.clipboardData;\r\n    if (!transfer || !hasLink(transfer))\r\n        return;\r\n    const links = extractLinks(transfer);\r\n    if (!links.some(isImageLink))\r\n        return;\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n    const field = event.currentTarget;\r\n    if (!(field instanceof HTMLTextAreaElement))\r\n        return;\r\n    insertText(field, links.map(linkify).join(''));\r\n}\r\nfunction linkify(link) {\r\n    return isImageLink(link) ? `\\n![](${link})\\n` : link;\r\n}\r\nfunction hasFile(transfer) {\r\n    return Array.from(transfer.types).indexOf('Files') >= 0;\r\n}\r\nfunction hasLink(transfer) {\r\n    return Array.from(transfer.types).indexOf('text/uri-list') >= 0;\r\n}\r\nfunction extractLinks(transfer) {\r\n    return (transfer.getData('text/uri-list') || '').split('\\r\\n');\r\n}\r\nconst IMAGE_RE = /\\.(gif|png|jpe?g)$/i;\r\nfunction isImageLink(url) {\r\n    return IMAGE_RE.test(url);\r\n}\n\nfunction install$1(el) {\r\n    el.addEventListener('dragover', onDragover$1);\r\n    el.addEventListener('drop', onDrop$1);\r\n    el.addEventListener('paste', onPaste$1);\r\n}\r\nfunction uninstall$1(el) {\r\n    el.removeEventListener('dragover', onDragover$1);\r\n    el.removeEventListener('drop', onDrop$1);\r\n    el.removeEventListener('paste', onPaste$1);\r\n}\r\nfunction onDrop$1(event) {\r\n    const transfer = event.dataTransfer;\r\n    if (!transfer)\r\n        return;\r\n    if (hasFile$1(transfer))\r\n        return;\r\n    const table = hasTable(transfer);\r\n    if (!table)\r\n        return;\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n    const field = event.currentTarget;\r\n    if (field instanceof HTMLTextAreaElement) {\r\n        insertText(field, tableMarkdown(table));\r\n    }\r\n}\r\nfunction onDragover$1(event) {\r\n    const transfer = event.dataTransfer;\r\n    if (transfer)\r\n        transfer.dropEffect = 'copy';\r\n}\r\nfunction onPaste$1(event) {\r\n    if (!event.clipboardData)\r\n        return;\r\n    const table = hasTable(event.clipboardData);\r\n    if (!table)\r\n        return;\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n    const field = event.currentTarget;\r\n    if (field instanceof HTMLTextAreaElement) {\r\n        insertText(field, tableMarkdown(table));\r\n    }\r\n}\r\nfunction hasFile$1(transfer) {\r\n    return Array.from(transfer.types).indexOf('Files') >= 0;\r\n}\r\nfunction columnText(column) {\r\n    const noBreakSpace = '\\u00A0';\r\n    const text = (column.textContent || '')\r\n        .trim()\r\n        .replace(/\\|/g, '\\\\|')\r\n        .replace(/\\n/g, ' ');\r\n    return text || noBreakSpace;\r\n}\r\nfunction tableHeaders(row) {\r\n    return Array.from(row.querySelectorAll('td, th')).map(columnText);\r\n}\r\nfunction tableMarkdown(node) {\r\n    const rows = Array.from(node.querySelectorAll('tr'));\r\n    const firstRow = rows.shift();\r\n    if (!firstRow)\r\n        return '';\r\n    const headers = tableHeaders(firstRow);\r\n    const spacers = headers.map(() => '--');\r\n    const header = `${headers.join(' | ')}\\n${spacers.join(' | ')}\\n`;\r\n    const body = rows\r\n        .map(row => {\r\n        return Array.from(row.querySelectorAll('td'))\r\n            .map(columnText)\r\n            .join(' | ');\r\n    })\r\n        .join('\\n');\r\n    return `\\n${header}${body}\\n\\n`;\r\n}\r\nfunction parseTable(html) {\r\n    const el = document.createElement('div');\r\n    el.innerHTML = html;\r\n    return el.querySelector('table');\r\n}\r\nfunction hasTable(transfer) {\r\n    if (Array.from(transfer.types).indexOf('text/html') === -1)\r\n        return null;\r\n    const html = transfer.getData('text/html');\r\n    if (!/<table/i.test(html))\r\n        return null;\r\n    const table = parseTable(html);\r\n    return !table || table.closest('[data-paste-markdown-skip]') ? null : table;\r\n}\n\nfunction install$2(el) {\r\n    el.addEventListener('paste', onPaste$2);\r\n}\r\nfunction uninstall$2(el) {\r\n    el.removeEventListener('paste', onPaste$2);\r\n}\r\nfunction onPaste$2(event) {\r\n    const transfer = event.clipboardData;\r\n    if (!transfer || !hasMarkdown(transfer))\r\n        return;\r\n    const field = event.currentTarget;\r\n    if (!(field instanceof HTMLTextAreaElement))\r\n        return;\r\n    const text = transfer.getData('text/x-gfm');\r\n    if (!text)\r\n        return;\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n    insertText(field, text);\r\n}\r\nfunction hasMarkdown(transfer) {\r\n    return Array.from(transfer.types).indexOf('text/x-gfm') >= 0;\r\n}\n\nfunction subscribe(el) {\r\n    install$1(el);\r\n    install(el);\r\n    install$2(el);\r\n    return {\r\n        unsubscribe: () => {\r\n            uninstall$1(el);\r\n            uninstall(el);\r\n            uninstall$2(el);\r\n        }\r\n    };\r\n}\n\nexport default subscribe;\n","import '@github/include-fragment-element'\n\nwindow.IncludeFragmentElement.prototype.fetch = (request: Request) => {\n  request.headers.append('X-Requested-With', 'XMLHttpRequest')\n  return window.fetch(request)\n}\n","export function* parse(text) {\n    let value = '';\n    let tokenStart = 0;\n    let open = false;\n    for (let i = 0; i < text.length; i += 1) {\n        if (text[i] === '{' && text[i + 1] === '{' && text[i - 1] !== '\\\\' && !open) {\n            open = true;\n            if (value)\n                yield { type: 'string', start: tokenStart, end: i, value };\n            value = '{{';\n            tokenStart = i;\n            i += 2;\n        }\n        else if (text[i] === '}' && text[i + 1] === '}' && text[i - 1] !== '\\\\' && open) {\n            open = false;\n            yield { type: 'part', start: tokenStart, end: i + 2, value: value.slice(2).trim() };\n            value = '';\n            i += 2;\n            tokenStart = i;\n        }\n        value += text[i] || '';\n    }\n    if (value)\n        yield { type: 'string', start: tokenStart, end: text.length, value };\n}\n//# sourceMappingURL=template-string-parser.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n    privateMap.set(receiver, value);\n    return value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n};\nvar _setter, _value;\nexport class AttributeTemplatePart {\n    constructor(setter, expression) {\n        this.expression = expression;\n        _setter.set(this, void 0);\n        _value.set(this, '');\n        __classPrivateFieldSet(this, _setter, setter);\n        __classPrivateFieldGet(this, _setter).updateParent('');\n    }\n    get attributeName() {\n        return __classPrivateFieldGet(this, _setter).attr.name;\n    }\n    get attributeNamespace() {\n        return __classPrivateFieldGet(this, _setter).attr.namespaceURI;\n    }\n    get value() {\n        return __classPrivateFieldGet(this, _value);\n    }\n    set value(value) {\n        __classPrivateFieldSet(this, _value, value || '');\n        __classPrivateFieldGet(this, _setter).updateParent(value);\n    }\n    get element() {\n        return __classPrivateFieldGet(this, _setter).element;\n    }\n    get booleanValue() {\n        return __classPrivateFieldGet(this, _setter).booleanValue;\n    }\n    set booleanValue(value) {\n        __classPrivateFieldGet(this, _setter).booleanValue = value;\n    }\n}\n_setter = new WeakMap(), _value = new WeakMap();\nexport class AttributeValueSetter {\n    constructor(element, attr) {\n        this.element = element;\n        this.attr = attr;\n        this.partList = [];\n    }\n    get booleanValue() {\n        return this.element.hasAttributeNS(this.attr.namespaceURI, this.attr.name);\n    }\n    set booleanValue(value) {\n        if (this.partList.length !== 1) {\n            throw new DOMException('Operation not supported', 'NotSupportedError');\n        }\n        ;\n        this.partList[0].value = value ? '' : null;\n    }\n    append(part) {\n        this.partList.push(part);\n    }\n    updateParent(partValue) {\n        if (this.partList.length === 1 && partValue === null) {\n            this.element.removeAttributeNS(this.attr.namespaceURI, this.attr.name);\n        }\n        else {\n            const str = this.partList.map(s => (typeof s === 'string' ? s : s.value)).join('');\n            this.element.setAttributeNS(this.attr.namespaceURI, this.attr.name, str);\n        }\n    }\n}\n//# sourceMappingURL=attribute-template-part.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n    privateMap.set(receiver, value);\n    return value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n};\nvar _parts;\nexport class NodeTemplatePart {\n    constructor(node, expression) {\n        this.expression = expression;\n        _parts.set(this, void 0);\n        __classPrivateFieldSet(this, _parts, [node]);\n        node.textContent = '';\n    }\n    get value() {\n        return __classPrivateFieldGet(this, _parts).map(node => node.textContent).join('');\n    }\n    set value(string) {\n        this.replace(string);\n    }\n    get previousSibling() {\n        return __classPrivateFieldGet(this, _parts)[0].previousSibling;\n    }\n    get nextSibling() {\n        return __classPrivateFieldGet(this, _parts)[__classPrivateFieldGet(this, _parts).length - 1].nextSibling;\n    }\n    replace(...nodes) {\n        const parts = nodes.map(node => {\n            if (typeof node === 'string')\n                return new Text(node);\n            return node;\n        });\n        if (!parts.length)\n            parts.push(new Text(''));\n        __classPrivateFieldGet(this, _parts)[0].before(...parts);\n        for (const part of __classPrivateFieldGet(this, _parts))\n            part.remove();\n        __classPrivateFieldSet(this, _parts, parts);\n    }\n}\n_parts = new WeakMap();\n//# sourceMappingURL=node-template-part.js.map","import { AttributeTemplatePart } from './attribute-template-part.js';\nexport function createProcessor(processPart) {\n    return {\n        createCallback(instance, parts, params) {\n            this.processCallback(instance, parts, params);\n        },\n        processCallback(_, parts, params) {\n            var _a;\n            if (typeof params !== 'object' || !params)\n                return;\n            for (const part of parts) {\n                if (part.expression in params) {\n                    const value = (_a = params[part.expression]) !== null && _a !== void 0 ? _a : '';\n                    processPart(part, value);\n                }\n            }\n        }\n    };\n}\nexport function processPropertyIdentity(part, value) {\n    part.value = String(value);\n}\nexport function processBooleanAttribute(part, value) {\n    if (typeof value === 'boolean' &&\n        part instanceof AttributeTemplatePart &&\n        typeof part.element[part.attributeName] === 'boolean') {\n        part.booleanValue = value;\n        return true;\n    }\n    return false;\n}\nexport const propertyIdentity = createProcessor(processPropertyIdentity);\nexport const propertyIdentityOrBooleanAttribute = createProcessor((part, value) => {\n    processBooleanAttribute(part, value) || processPropertyIdentity(part, value);\n});\n//# sourceMappingURL=processors.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n    privateMap.set(receiver, value);\n    return value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n};\nvar _processor, _parts;\nimport { parse } from './template-string-parser.js';\nimport { AttributeValueSetter, AttributeTemplatePart } from './attribute-template-part.js';\nimport { NodeTemplatePart } from './node-template-part.js';\nimport { propertyIdentity } from './processors.js';\nfunction* collectParts(el) {\n    const walker = el.ownerDocument.createTreeWalker(el, NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT, null, false);\n    let node;\n    while ((node = walker.nextNode())) {\n        if (node instanceof Element && node.hasAttributes()) {\n            for (let i = 0; i < node.attributes.length; i += 1) {\n                const attr = node.attributes.item(i);\n                if (attr && attr.value.includes('{{')) {\n                    const valueSetter = new AttributeValueSetter(node, attr);\n                    for (const token of parse(attr.value)) {\n                        if (token.type === 'string') {\n                            valueSetter.append(token.value);\n                        }\n                        else {\n                            const part = new AttributeTemplatePart(valueSetter, token.value);\n                            valueSetter.append(part);\n                            yield part;\n                        }\n                    }\n                }\n            }\n        }\n        else if (node instanceof Text && node.textContent && node.textContent.includes('{{')) {\n            for (const token of parse(node.textContent)) {\n                if (token.end < node.textContent.length)\n                    node.splitText(token.end);\n                if (token.type === 'part')\n                    yield new NodeTemplatePart(node, token.value);\n                break;\n            }\n        }\n    }\n}\nexport class TemplateInstance extends DocumentFragment {\n    constructor(template, params, processor = propertyIdentity) {\n        var _a, _b;\n        super();\n        _processor.set(this, void 0);\n        _parts.set(this, void 0);\n        // This is to fix an inconsistency in Safari which prevents us from\n        // correctly sub-classing DocumentFragment.\n        // https://bugs.webkit.org/show_bug.cgi?id=195556\n        if (Object.getPrototypeOf(this !== TemplateInstance.prototype)) {\n            Object.setPrototypeOf(this, TemplateInstance.prototype);\n        }\n        this.appendChild(template.content.cloneNode(true));\n        __classPrivateFieldSet(this, _parts, Array.from(collectParts(this)));\n        __classPrivateFieldSet(this, _processor, processor);\n        (_b = (_a = __classPrivateFieldGet(this, _processor)).createCallback) === null || _b === void 0 ? void 0 : _b.call(_a, this, __classPrivateFieldGet(this, _parts), params);\n    }\n    update(params) {\n        __classPrivateFieldGet(this, _processor).processCallback(this, __classPrivateFieldGet(this, _parts), params);\n    }\n}\n_processor = new WeakMap(), _parts = new WeakMap();\n//# sourceMappingURL=template-instance.js.map","function autosize(textarea) {\n  var previousValue = null;\n  var isUserResized = false;\n\n  var x = void 0;\n  var y = void 0;\n  var height = void 0;\n\n  function onUserResize(event) {\n    if (x !== event.clientX || y !== event.clientY) {\n      var newHeight = textarea.style.height;\n      if (height && height !== newHeight) {\n        isUserResized = true;\n        textarea.style.maxHeight = '';\n        textarea.removeEventListener('mousemove', onUserResize);\n      }\n      height = newHeight;\n    }\n\n    x = event.clientX;\n    y = event.clientY;\n  }\n\n  var document = textarea.ownerDocument;\n  var documentElement = document.documentElement;\n\n  function overflowOffset() {\n    var offsetTop = 0;\n    var el = textarea;\n\n    while (el !== document.body && el !== null) {\n      offsetTop += el.offsetTop || 0;\n      el = el.offsetParent;\n    }\n\n    var top = offsetTop - document.defaultView.pageYOffset;\n    var bottom = documentElement.clientHeight - (top + textarea.offsetHeight);\n    return { top: top, bottom: bottom };\n  }\n\n  function sizeToFit() {\n    if (isUserResized) return;\n    if (textarea.value === previousValue) return;\n    if (textarea.offsetWidth <= 0 && textarea.offsetHeight <= 0) return;\n\n    var _overflowOffset = overflowOffset(),\n        top = _overflowOffset.top,\n        bottom = _overflowOffset.bottom;\n\n    if (top < 0 || bottom < 0) {\n      return;\n    }\n\n    var maxHeight = Number(getComputedStyle(textarea).height.replace(/px/, '')) + bottom;\n    textarea.style.maxHeight = maxHeight - 100 + 'px';\n\n    var container = textarea.parentElement;\n    if (container instanceof HTMLElement) {\n      var containerHeight = container.style.height;\n      container.style.height = getComputedStyle(container).height;\n      textarea.style.height = 'auto';\n      textarea.style.height = textarea.scrollHeight + 'px';\n      container.style.height = containerHeight;\n      height = textarea.style.height;\n    }\n\n    previousValue = textarea.value;\n  }\n\n  function onFormReset() {\n    isUserResized = false;\n    textarea.style.height = '';\n    textarea.style.maxHeight = '';\n  }\n\n  textarea.addEventListener('mousemove', onUserResize);\n  textarea.addEventListener('input', sizeToFit);\n  textarea.addEventListener('change', sizeToFit);\n  var form = textarea.form;\n  if (form) form.addEventListener('reset', onFormReset);\n  if (textarea.value) sizeToFit();\n\n  return {\n    unsubscribe: function unsubscribe() {\n      textarea.removeEventListener('mousemove', onUserResize);\n      textarea.removeEventListener('input', sizeToFit);\n      textarea.removeEventListener('change', sizeToFit);\n      if (form) form.removeEventListener('reset', onFormReset);\n    }\n  };\n}\n\nexport default autosize;\n","export default class MultiMap {\n    constructor(iterable) {\n        this.map = new Map();\n        if (iterable) {\n            for (const [k, v] of iterable) {\n                this.set(k, v);\n            }\n        }\n    }\n    get(key) {\n        const values = this.map.get(key);\n        return values ? values : new Set();\n    }\n    set(key, value) {\n        let values = this.map.get(key);\n        if (!values) {\n            values = new Set();\n            this.map.set(key, values);\n        }\n        values.add(value);\n        return this;\n    }\n    has(key) {\n        return this.map.has(key);\n    }\n    delete(key, value) {\n        const values = this.map.get(key);\n        if (!values)\n            return false;\n        if (!value)\n            return this.map.delete(key);\n        const deleted = values.delete(value);\n        if (!values.size)\n            this.map.delete(key);\n        return deleted;\n    }\n    drain(value) {\n        const empty = [];\n        for (const key of this.keys()) {\n            if (this.delete(key, value) && !this.has(key)) {\n                empty.push(key);\n            }\n        }\n        return empty;\n    }\n    keys() {\n        return this.map.keys();\n    }\n    values() {\n        return this.map.values();\n    }\n    entries() {\n        return this.map.entries();\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    clear() {\n        this.map.clear();\n    }\n    get size() {\n        return this.map.size;\n    }\n}\n","async function timeout(ms, signal) {\n    let id;\n    const done = new Promise((resolve, reject) => {\n        id = self.setTimeout(() => reject(new Error('timeout')), ms);\n    });\n    if (!signal)\n        return done;\n    try {\n        await Promise.race([done, whenAborted(signal)]);\n    }\n    catch (e) {\n        self.clearTimeout(id);\n        throw e;\n    }\n}\nasync function wait(ms, signal) {\n    let id;\n    const done = new Promise(resolve => {\n        id = self.setTimeout(resolve, ms);\n    });\n    if (!signal)\n        return done;\n    try {\n        await Promise.race([done, whenAborted(signal)]);\n    }\n    catch (e) {\n        self.clearTimeout(id);\n        throw e;\n    }\n}\nasync function retry(fn, attempts, maxDelay = Infinity, signal) {\n    const aborted = signal ? whenAborted(signal) : null;\n    for (let i = 0; i < attempts; i++) {\n        try {\n            const op = aborted ? Promise.race([fn(), aborted]) : fn();\n            return await op;\n        }\n        catch (e) {\n            if (e.name === 'AbortError')\n                throw e;\n            if (i === attempts - 1)\n                throw e;\n            const ms = Math.pow(2, i) * 1000;\n            const vary = rand(ms * 0.1);\n            await wait(Math.min(maxDelay, ms + vary), signal);\n        }\n    }\n    throw new Error('retry failed');\n}\nfunction whenAborted(signal) {\n    return new Promise((resolve, reject) => {\n        const error = new Error('aborted');\n        error.name = 'AbortError';\n        if (signal.aborted) {\n            reject(error);\n        }\n        else {\n            signal.addEventListener('abort', () => reject(error));\n        }\n    });\n}\nfunction rand(max) {\n    return Math.floor(Math.random() * Math.floor(max));\n}\n\nasync function connect(url, ms, signal) {\n    const socket = new WebSocket(url);\n    const opened = whenOpen(socket);\n    try {\n        await Promise.race([opened, timeout(ms, signal)]);\n        return socket;\n    }\n    catch (e) {\n        shutdown(opened);\n        throw e;\n    }\n}\nasync function shutdown(opened) {\n    try {\n        const socket = await opened;\n        socket.close();\n    }\n    catch (_a) {\n    }\n}\nfunction connectWithRetry(url, policy) {\n    const fn = () => connect(url, policy.timeout, policy.signal);\n    return retry(fn, policy.attempts, policy.maxDelay, policy.signal);\n}\nfunction whenOpen(socket) {\n    return new Promise((resolve, reject) => {\n        if (socket.readyState === WebSocket.OPEN) {\n            resolve(socket);\n        }\n        else {\n            socket.onerror = () => {\n                socket.onerror = null;\n                socket.onopen = null;\n                reject(new Error('connect failed'));\n            };\n            socket.onopen = () => {\n                socket.onerror = null;\n                socket.onopen = null;\n                resolve(socket);\n            };\n        }\n    });\n}\n\nclass StableSocket {\n    constructor(url, delegate, policy) {\n        this.socket = null;\n        this.opening = null;\n        this.url = url;\n        this.delegate = delegate;\n        this.policy = policy;\n    }\n    async open() {\n        if (this.opening || this.socket)\n            return;\n        this.opening = new AbortController();\n        const policy = Object.assign(Object.assign({}, this.policy), { signal: this.opening.signal });\n        try {\n            this.socket = await connectWithRetry(this.url, policy);\n        }\n        catch (_a) {\n            this.delegate.socketDidFinish(this);\n            return;\n        }\n        finally {\n            this.opening = null;\n        }\n        this.socket.onclose = (event) => {\n            this.socket = null;\n            this.delegate.socketDidClose(this, event.code, event.reason);\n            const fatal = this.delegate.socketShouldRetry\n                ? !this.delegate.socketShouldRetry(this, event.code)\n                : isFatal(event.code);\n            if (fatal) {\n                this.delegate.socketDidFinish(this);\n            }\n            else {\n                setTimeout(() => this.open(), rand$1(100, 150));\n            }\n        };\n        this.socket.onmessage = (event) => {\n            this.delegate.socketDidReceiveMessage(this, event.data);\n        };\n        this.delegate.socketDidOpen(this);\n    }\n    close(code, reason) {\n        if (this.opening) {\n            this.opening.abort();\n            this.opening = null;\n        }\n        else if (this.socket) {\n            this.socket.onclose = null;\n            this.socket.close(code, reason);\n            this.socket = null;\n            this.delegate.socketDidClose(this, code, reason);\n            this.delegate.socketDidFinish(this);\n        }\n    }\n    send(data) {\n        if (this.socket) {\n            this.socket.send(data);\n        }\n    }\n    isOpen() {\n        return !!this.socket;\n    }\n}\nfunction rand$1(min, max) {\n    return Math.random() * (max - min) + min;\n}\nfunction isFatal(code) {\n    return code === POLICY_VIOLATION || code === INTERNAL_ERROR;\n}\nconst POLICY_VIOLATION = 1008;\nconst INTERNAL_ERROR = 1011;\n\nclass BufferedSocket {\n    constructor(socket) {\n        this.buf = [];\n        this.socket = socket;\n        this.delegate = socket.delegate;\n        socket.delegate = this;\n    }\n    open() {\n        return this.socket.open();\n    }\n    close(code, reason) {\n        this.socket.close(code, reason);\n    }\n    send(data) {\n        if (this.socket.isOpen()) {\n            this.flush();\n            this.socket.send(data);\n        }\n        else {\n            this.buf.push(data);\n        }\n    }\n    isOpen() {\n        return this.socket.isOpen();\n    }\n    flush() {\n        for (const data of this.buf) {\n            this.socket.send(data);\n        }\n        this.buf.length = 0;\n    }\n    socketDidOpen(socket) {\n        this.flush();\n        this.delegate.socketDidOpen(socket);\n    }\n    socketDidClose(socket, code, reason) {\n        this.delegate.socketDidClose(socket, code, reason);\n    }\n    socketDidFinish(socket) {\n        this.delegate.socketDidFinish(socket);\n    }\n    socketDidReceiveMessage(socket, message) {\n        this.delegate.socketDidReceiveMessage(socket, message);\n    }\n    socketShouldRetry(socket, code) {\n        return this.delegate.socketShouldRetry ? this.delegate.socketShouldRetry(socket, code) : !isFatal(code);\n    }\n}\n\nexport { BufferedSocket, StableSocket, connect, connectWithRetry };\n","const directives = new WeakSet();\nexport function isDirective(directiveCallback) {\n    return directives.has(directiveCallback);\n}\nexport function processDirective(part, value) {\n    if (isDirective(value)) {\n        value(part);\n        return true;\n    }\n    return false;\n}\nexport function directive(directiveFactory) {\n    return (...values) => {\n        const callback = directiveFactory(...values);\n        directives.add(callback);\n        return callback;\n    };\n}\n//# sourceMappingURL=directive.js.map","import { AttributeTemplatePart } from '@github/template-parts';\nconst eventListeners = new WeakMap();\nclass EventHandler {\n    constructor(element, type) {\n        this.element = element;\n        this.type = type;\n        this.element.addEventListener(this.type, this);\n        eventListeners.get(this.element).set(this.type, this);\n    }\n    set(listener) {\n        if (typeof listener == 'function') {\n            this.handleEvent = listener.bind(this.element);\n        }\n        else if (typeof listener === 'object' && typeof listener.handleEvent === 'function') {\n            this.handleEvent = listener.handleEvent.bind(listener);\n        }\n        else {\n            this.element.removeEventListener(this.type, this);\n            eventListeners.get(this.element).delete(this.type);\n        }\n    }\n    static for(part) {\n        if (!eventListeners.has(part.element))\n            eventListeners.set(part.element, new Map());\n        const type = part.attributeName.slice(2);\n        const elementListeners = eventListeners.get(part.element);\n        if (elementListeners.has(type))\n            return elementListeners.get(type);\n        return new EventHandler(part.element, type);\n    }\n}\nexport function processEvent(part, value) {\n    if (part instanceof AttributeTemplatePart && part.attributeName.startsWith('on')) {\n        EventHandler.for(part).set(value);\n        part.element.removeAttributeNS(part.attributeNamespace, part.attributeName);\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=events.js.map","import { directive } from './directive';\nimport { NodeTemplatePart } from '@github/template-parts';\nexport const unsafeHTML = directive((value) => (part) => {\n    if (!(part instanceof NodeTemplatePart))\n        return;\n    const template = document.createElement('template');\n    template.innerHTML = value;\n    const fragment = document.importNode(template.content, true);\n    part.replace(...fragment.childNodes);\n});\n//# sourceMappingURL=unsafe-html.js.map","var t,e,n,i,a=function(t,e){return{name:t,value:void 0===e?-1:e,delta:0,entries:[],id:\"v1-\".concat(Date.now(),\"-\").concat(Math.floor(8999999999999*Math.random())+1e12)}},r=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(t){}},o=!1,c=function(t,e){o||\"undefined\"!=typeof InstallTrigger||(addEventListener(\"beforeunload\",(function(){})),o=!0);addEventListener(\"visibilitychange\",(function n(i){\"hidden\"===document.visibilityState&&(t(i),e&&removeEventListener(\"visibilitychange\",n,!0))}),!0)},u=function(t){addEventListener(\"pageshow\",(function(e){e.persisted&&t(e)}),!0)},f=\"function\"==typeof WeakSet?new WeakSet:new Set,s=function(t,e,n){var i;return function(){e.value>=0&&(n||f.has(e)||\"hidden\"===document.visibilityState)&&(e.delta=e.value-(i||0),(e.delta||void 0===i)&&(i=e.value,t(e)))}},m=function(t,e){var n,i=a(\"CLS\",0),o=function(t){t.hadRecentInput||(i.value+=t.value,i.entries.push(t),n())},f=r(\"layout-shift\",o);f&&(n=s(t,i,e),c((function(){f.takeRecords().map(o),n()})),u((function(){i=a(\"CLS\",0),n=s(t,i,e)})))},d=-1,v=function(){return\"hidden\"===document.visibilityState?0:1/0},p=function(){c((function(t){var e=t.timeStamp;d=e}),!0)},l=function(){return d<0&&(d=v(),p(),u((function(){setTimeout((function(){d=v(),p()}),0)}))),{get timeStamp(){return d}}},S=function(t,e){var n,i=l(),o=a(\"FCP\"),c=r(\"paint\",(function(t){\"first-contentful-paint\"===t.name&&(c&&c.disconnect(),t.startTime<i.timeStamp&&(o.value=t.startTime,o.entries.push(t),f.add(o),n()))}));c&&(n=s(t,o,e),u((function(i){o=a(\"FCP\"),n=s(t,o,e),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-i.timeStamp,f.add(o),n()}))}))})))},h={passive:!0,capture:!0},y=new Date,g=function(i,a){t||(t=a,e=i,n=new Date,L(removeEventListener),E())},E=function(){if(e>=0&&e<n-y){var a={entryType:\"first-input\",name:t.type,target:t.target,cancelable:t.cancelable,startTime:t.timeStamp,processingStart:t.timeStamp+e};i.forEach((function(t){t(a)})),i=[]}},w=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;\"pointerdown\"==t.type?function(t,e){var n=function(){g(t,e),a()},i=function(){a()},a=function(){removeEventListener(\"pointerup\",n,h),removeEventListener(\"pointercancel\",i,h)};addEventListener(\"pointerup\",n,h),addEventListener(\"pointercancel\",i,h)}(e,t):g(e,t)}},L=function(t){[\"mousedown\",\"keydown\",\"touchstart\",\"pointerdown\"].forEach((function(e){return t(e,w,h)}))},T=function(n,o){var m,d=l(),v=a(\"FID\"),p=function(t){t.startTime<d.timeStamp&&(v.value=t.processingStart-t.startTime,v.entries.push(t),f.add(v),m())},S=r(\"first-input\",p);m=s(n,v,o),S&&c((function(){S.takeRecords().map(p),S.disconnect()}),!0),S&&u((function(){var r;v=a(\"FID\"),m=s(n,v,o),i=[],e=-1,t=null,L(addEventListener),r=p,i.push(r),E()}))},b=function(t,e){var n,i=l(),o=a(\"LCP\"),m=function(t){var e=t.startTime;e<i.timeStamp&&(o.value=e,o.entries.push(t)),n()},d=r(\"largest-contentful-paint\",m);if(d){n=s(t,o,e);var v=function(){f.has(o)||(d.takeRecords().map(m),d.disconnect(),f.add(o),n())};[\"keydown\",\"click\"].forEach((function(t){addEventListener(t,v,{once:!0,capture:!0})})),c(v,!0),u((function(i){o=a(\"LCP\"),n=s(t,o,e),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-i.timeStamp,f.add(o),n()}))}))}))}},F=function(t){var e,n=a(\"TTFB\");e=function(){try{var e=performance.getEntriesByType(\"navigation\")[0]||function(){var t=performance.timing,e={entryType:\"navigation\",startTime:0};for(var n in t)\"navigationStart\"!==n&&\"toJSON\"!==n&&(e[n]=Math.max(t[n]-t.navigationStart,0));return e}();n.value=n.delta=e.responseStart,n.entries=[e],t(n)}catch(t){}},\"complete\"===document.readyState?setTimeout(e,0):addEventListener(\"pageshow\",e)};export{m as getCLS,S as getFCP,T as getFID,b as getLCP,F as getTTFB};\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { AttributePart, directive } from '../lit-html.js';\n/**\n * For AttributeParts, sets the attribute if the value is defined and removes\n * the attribute if the value is undefined.\n *\n * For other part types, this directive is a no-op.\n */\nexport const ifDefined = directive((value) => (part) => {\n    if (value === undefined && part instanceof AttributePart) {\n        if (value !== part.value) {\n            const name = part.committer.name;\n            part.committer.element.removeAttribute(name);\n        }\n    }\n    else {\n        part.setValue(value);\n    }\n});\n//# sourceMappingURL=if-defined.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { createMarker, directive, NodePart, removeNodes, reparentNodes } from '../lit-html.js';\n// Helper functions for manipulating parts\n// TODO(kschaaf): Refactor into Part API?\nconst createAndInsertPart = (containerPart, beforePart) => {\n    const container = containerPart.startNode.parentNode;\n    const beforeNode = beforePart === undefined ? containerPart.endNode :\n        beforePart.startNode;\n    const startNode = container.insertBefore(createMarker(), beforeNode);\n    container.insertBefore(createMarker(), beforeNode);\n    const newPart = new NodePart(containerPart.options);\n    newPart.insertAfterNode(startNode);\n    return newPart;\n};\nconst updatePart = (part, value) => {\n    part.setValue(value);\n    part.commit();\n    return part;\n};\nconst insertPartBefore = (containerPart, part, ref) => {\n    const container = containerPart.startNode.parentNode;\n    const beforeNode = ref ? ref.startNode : containerPart.endNode;\n    const endNode = part.endNode.nextSibling;\n    if (endNode !== beforeNode) {\n        reparentNodes(container, part.startNode, endNode, beforeNode);\n    }\n};\nconst removePart = (part) => {\n    removeNodes(part.startNode.parentNode, part.startNode, part.endNode.nextSibling);\n};\n// Helper for generating a map of array item to its index over a subset\n// of an array (used to lazily generate `newKeyToIndexMap` and\n// `oldKeyToIndexMap`)\nconst generateMap = (list, start, end) => {\n    const map = new Map();\n    for (let i = start; i <= end; i++) {\n        map.set(list[i], i);\n    }\n    return map;\n};\n// Stores previous ordered list of parts and map of key to index\nconst partListCache = new WeakMap();\nconst keyListCache = new WeakMap();\n/**\n * A directive that repeats a series of values (usually `TemplateResults`)\n * generated from an iterable, and updates those items efficiently when the\n * iterable changes based on user-provided `keys` associated with each item.\n *\n * Note that if a `keyFn` is provided, strict key-to-DOM mapping is maintained,\n * meaning previous DOM for a given key is moved into the new position if\n * needed, and DOM will never be reused with values for different keys (new DOM\n * will always be created for new keys). This is generally the most efficient\n * way to use `repeat` since it performs minimum unnecessary work for insertions\n * amd removals.\n *\n * IMPORTANT: If providing a `keyFn`, keys *must* be unique for all items in a\n * given call to `repeat`. The behavior when two or more items have the same key\n * is undefined.\n *\n * If no `keyFn` is provided, this directive will perform similar to mapping\n * items to values, and DOM will be reused against potentially different items.\n */\nexport const repeat = directive((items, keyFnOrTemplate, template) => {\n    let keyFn;\n    if (template === undefined) {\n        template = keyFnOrTemplate;\n    }\n    else if (keyFnOrTemplate !== undefined) {\n        keyFn = keyFnOrTemplate;\n    }\n    return (containerPart) => {\n        if (!(containerPart instanceof NodePart)) {\n            throw new Error('repeat can only be used in text bindings');\n        }\n        // Old part & key lists are retrieved from the last update\n        // (associated with the part for this instance of the directive)\n        const oldParts = partListCache.get(containerPart) || [];\n        const oldKeys = keyListCache.get(containerPart) || [];\n        // New part list will be built up as we go (either reused from\n        // old parts or created for new keys in this update). This is\n        // saved in the above cache at the end of the update.\n        const newParts = [];\n        // New value list is eagerly generated from items along with a\n        // parallel array indicating its key.\n        const newValues = [];\n        const newKeys = [];\n        let index = 0;\n        for (const item of items) {\n            newKeys[index] = keyFn ? keyFn(item, index) : index;\n            newValues[index] = template(item, index);\n            index++;\n        }\n        // Maps from key to index for current and previous update; these\n        // are generated lazily only when needed as a performance\n        // optimization, since they are only required for multiple\n        // non-contiguous changes in the list, which are less common.\n        let newKeyToIndexMap;\n        let oldKeyToIndexMap;\n        // Head and tail pointers to old parts and new values\n        let oldHead = 0;\n        let oldTail = oldParts.length - 1;\n        let newHead = 0;\n        let newTail = newValues.length - 1;\n        // Overview of O(n) reconciliation algorithm (general approach\n        // based on ideas found in ivi, vue, snabbdom, etc.):\n        //\n        // * We start with the list of old parts and new values (and\n        //   arrays of their respective keys), head/tail pointers into\n        //   each, and we build up the new list of parts by updating\n        //   (and when needed, moving) old parts or creating new ones.\n        //   The initial scenario might look like this (for brevity of\n        //   the diagrams, the numbers in the array reflect keys\n        //   associated with the old parts or new values, although keys\n        //   and parts/values are actually stored in parallel arrays\n        //   indexed using the same head/tail pointers):\n        //\n        //      oldHead v                 v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [ ,  ,  ,  ,  ,  ,  ]\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6] <- reflects the user's new\n        //                                      item order\n        //      newHead ^                 ^ newTail\n        //\n        // * Iterate old & new lists from both sides, updating,\n        //   swapping, or removing parts at the head/tail locations\n        //   until neither head nor tail can move.\n        //\n        // * Example below: keys at head pointers match, so update old\n        //   part 0 in-place (no need to move it) and record part 0 in\n        //   the `newParts` list. The last thing we do is advance the\n        //   `oldHead` and `newHead` pointers (will be reflected in the\n        //   next diagram).\n        //\n        //      oldHead v                 v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  ,  ] <- heads matched: update 0\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n        //                                      & newHead\n        //      newHead ^                 ^ newTail\n        //\n        // * Example below: head pointers don't match, but tail\n        //   pointers do, so update part 6 in place (no need to move\n        //   it), and record part 6 in the `newParts` list. Last,\n        //   advance the `oldTail` and `oldHead` pointers.\n        //\n        //         oldHead v              v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  , 6] <- tails matched: update 6\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldTail\n        //                                      & newTail\n        //         newHead ^              ^ newTail\n        //\n        // * If neither head nor tail match; next check if one of the\n        //   old head/tail items was removed. We first need to generate\n        //   the reverse map of new keys to index (`newKeyToIndexMap`),\n        //   which is done once lazily as a performance optimization,\n        //   since we only hit this case if multiple non-contiguous\n        //   changes were made. Note that for contiguous removal\n        //   anywhere in the list, the head and tails would advance\n        //   from either end and pass each other before we get to this\n        //   case and removals would be handled in the final while loop\n        //   without needing to generate the map.\n        //\n        // * Example below: The key at `oldTail` was removed (no longer\n        //   in the `newKeyToIndexMap`), so remove that part from the\n        //   DOM and advance just the `oldTail` pointer.\n        //\n        //         oldHead v           v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  , 6] <- 5 not in new map: remove\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    5 and advance oldTail\n        //         newHead ^           ^ newTail\n        //\n        // * Once head and tail cannot move, any mismatches are due to\n        //   either new or moved items; if a new key is in the previous\n        //   \"old key to old index\" map, move the old part to the new\n        //   location, otherwise create and insert a new part. Note\n        //   that when moving an old part we null its position in the\n        //   oldParts array if it lies between the head and tail so we\n        //   know to skip it when the pointers get there.\n        //\n        // * Example below: neither head nor tail match, and neither\n        //   were removed; so find the `newHead` key in the\n        //   `oldKeyToIndexMap`, and move that old part's DOM into the\n        //   next head position (before `oldParts[oldHead]`). Last,\n        //   null the part in the `oldPart` array since it was\n        //   somewhere in the remaining oldParts still to be scanned\n        //   (between the head and tail pointers) so that we know to\n        //   skip that old part on future iterations.\n        //\n        //         oldHead v        v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2,  ,  ,  ,  , 6] <- stuck: update & move 2\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    into place and advance\n        //                                      newHead\n        //         newHead ^           ^ newTail\n        //\n        // * Note that for moves/insertions like the one above, a part\n        //   inserted at the head pointer is inserted before the\n        //   current `oldParts[oldHead]`, and a part inserted at the\n        //   tail pointer is inserted before `newParts[newTail+1]`. The\n        //   seeming asymmetry lies in the fact that new parts are\n        //   moved into place outside in, so to the right of the head\n        //   pointer are old parts, and to the right of the tail\n        //   pointer are new parts.\n        //\n        // * We always restart back from the top of the algorithm,\n        //   allowing matching and simple updates in place to\n        //   continue...\n        //\n        // * Example below: the head pointers once again match, so\n        //   simply update part 1 and record it in the `newParts`\n        //   array.  Last, advance both head pointers.\n        //\n        //         oldHead v        v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1,  ,  ,  , 6] <- heads matched: update 1\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n        //                                      & newHead\n        //            newHead ^        ^ newTail\n        //\n        // * As mentioned above, items that were moved as a result of\n        //   being stuck (the final else clause in the code below) are\n        //   marked with null, so we always advance old pointers over\n        //   these so we're comparing the next actual old value on\n        //   either end.\n        //\n        // * Example below: `oldHead` is null (already placed in\n        //   newParts), so advance `oldHead`.\n        //\n        //            oldHead v     v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6] <- old head already used:\n        //   newParts: [0, 2, 1,  ,  ,  , 6]    advance oldHead\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n        //               newHead ^     ^ newTail\n        //\n        // * Note it's not critical to mark old parts as null when they\n        //   are moved from head to tail or tail to head, since they\n        //   will be outside the pointer range and never visited again.\n        //\n        // * Example below: Here the old tail key matches the new head\n        //   key, so the part at the `oldTail` position and move its\n        //   DOM to the new head position (before `oldParts[oldHead]`).\n        //   Last, advance `oldTail` and `newHead` pointers.\n        //\n        //               oldHead v  v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4,  ,  , 6] <- old tail matches new\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]   head: update & move 4,\n        //                                     advance oldTail & newHead\n        //               newHead ^     ^ newTail\n        //\n        // * Example below: Old and new head keys match, so update the\n        //   old head part in place, and advance the `oldHead` and\n        //   `newHead` pointers.\n        //\n        //               oldHead v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4, 3,   ,6] <- heads match: update 3\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance oldHead &\n        //                                      newHead\n        //                  newHead ^  ^ newTail\n        //\n        // * Once the new or old pointers move past each other then all\n        //   we have left is additions (if old list exhausted) or\n        //   removals (if new list exhausted). Those are handled in the\n        //   final while loops at the end.\n        //\n        // * Example below: `oldHead` exceeded `oldTail`, so we're done\n        //   with the main loop.  Create the remaining part and insert\n        //   it at the new head position, and the update is complete.\n        //\n        //                   (oldHead > oldTail)\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4, 3, 7 ,6] <- create and insert 7\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n        //                     newHead ^ newTail\n        //\n        // * Note that the order of the if/else clauses is not\n        //   important to the algorithm, as long as the null checks\n        //   come first (to ensure we're always working on valid old\n        //   parts) and that the final else clause comes last (since\n        //   that's where the expensive moves occur). The order of\n        //   remaining clauses is is just a simple guess at which cases\n        //   will be most common.\n        //\n        // * TODO(kschaaf) Note, we could calculate the longest\n        //   increasing subsequence (LIS) of old items in new position,\n        //   and only move those not in the LIS set. However that costs\n        //   O(nlogn) time and adds a bit more code, and only helps\n        //   make rare types of mutations require fewer moves. The\n        //   above handles removes, adds, reversal, swaps, and single\n        //   moves of contiguous items in linear time, in the minimum\n        //   number of moves. As the number of multiple moves where LIS\n        //   might help approaches a random shuffle, the LIS\n        //   optimization becomes less helpful, so it seems not worth\n        //   the code at this point. Could reconsider if a compelling\n        //   case arises.\n        while (oldHead <= oldTail && newHead <= newTail) {\n            if (oldParts[oldHead] === null) {\n                // `null` means old part at head has already been used\n                // below; skip\n                oldHead++;\n            }\n            else if (oldParts[oldTail] === null) {\n                // `null` means old part at tail has already been used\n                // below; skip\n                oldTail--;\n            }\n            else if (oldKeys[oldHead] === newKeys[newHead]) {\n                // Old head matches new head; update in place\n                newParts[newHead] =\n                    updatePart(oldParts[oldHead], newValues[newHead]);\n                oldHead++;\n                newHead++;\n            }\n            else if (oldKeys[oldTail] === newKeys[newTail]) {\n                // Old tail matches new tail; update in place\n                newParts[newTail] =\n                    updatePart(oldParts[oldTail], newValues[newTail]);\n                oldTail--;\n                newTail--;\n            }\n            else if (oldKeys[oldHead] === newKeys[newTail]) {\n                // Old head matches new tail; update and move to new tail\n                newParts[newTail] =\n                    updatePart(oldParts[oldHead], newValues[newTail]);\n                insertPartBefore(containerPart, oldParts[oldHead], newParts[newTail + 1]);\n                oldHead++;\n                newTail--;\n            }\n            else if (oldKeys[oldTail] === newKeys[newHead]) {\n                // Old tail matches new head; update and move to new head\n                newParts[newHead] =\n                    updatePart(oldParts[oldTail], newValues[newHead]);\n                insertPartBefore(containerPart, oldParts[oldTail], oldParts[oldHead]);\n                oldTail--;\n                newHead++;\n            }\n            else {\n                if (newKeyToIndexMap === undefined) {\n                    // Lazily generate key-to-index maps, used for removals &\n                    // moves below\n                    newKeyToIndexMap = generateMap(newKeys, newHead, newTail);\n                    oldKeyToIndexMap = generateMap(oldKeys, oldHead, oldTail);\n                }\n                if (!newKeyToIndexMap.has(oldKeys[oldHead])) {\n                    // Old head is no longer in new list; remove\n                    removePart(oldParts[oldHead]);\n                    oldHead++;\n                }\n                else if (!newKeyToIndexMap.has(oldKeys[oldTail])) {\n                    // Old tail is no longer in new list; remove\n                    removePart(oldParts[oldTail]);\n                    oldTail--;\n                }\n                else {\n                    // Any mismatches at this point are due to additions or\n                    // moves; see if we have an old part we can reuse and move\n                    // into place\n                    const oldIndex = oldKeyToIndexMap.get(newKeys[newHead]);\n                    const oldPart = oldIndex !== undefined ? oldParts[oldIndex] : null;\n                    if (oldPart === null) {\n                        // No old part for this value; create a new one and\n                        // insert it\n                        const newPart = createAndInsertPart(containerPart, oldParts[oldHead]);\n                        updatePart(newPart, newValues[newHead]);\n                        newParts[newHead] = newPart;\n                    }\n                    else {\n                        // Reuse old part\n                        newParts[newHead] =\n                            updatePart(oldPart, newValues[newHead]);\n                        insertPartBefore(containerPart, oldPart, oldParts[oldHead]);\n                        // This marks the old part as having been used, so that\n                        // it will be skipped in the first two checks above\n                        oldParts[oldIndex] = null;\n                    }\n                    newHead++;\n                }\n            }\n        }\n        // Add parts for any remaining new values\n        while (newHead <= newTail) {\n            // For all remaining additions, we insert before last new\n            // tail, since old pointers are no longer valid\n            const newPart = createAndInsertPart(containerPart, newParts[newTail + 1]);\n            updatePart(newPart, newValues[newHead]);\n            newParts[newHead++] = newPart;\n        }\n        // Remove any remaining unused old parts\n        while (oldHead <= oldTail) {\n            const oldPart = oldParts[oldHead++];\n            if (oldPart !== null) {\n                removePart(oldPart);\n            }\n        }\n        // Save order of new parts for next round\n        partListCache.set(containerPart, newParts);\n        keyListCache.set(containerPart, newKeys);\n    };\n});\n//# sourceMappingURL=repeat.js.map"],"names":["fn","beforeHandlers","push","event","submittedForm","target","setTimeout","defaultPrevented","id","options","_a","key","keyPrefix","fields","sessionStorage","getItem","_b","removeItem","_c","changedFields","fieldId","value","JSON","parse","resumeEvent","CustomEvent","bubbles","cancelable","detail","targetId","targetValue","document","dispatchEvent","field","getElementById","HTMLInputElement","HTMLTextAreaElement","defaultValue","el","selector","resumables","querySelectorAll","filter","form","shouldResumeField","map","length","setItem","stringify","result","element","renderInto","strings","values","TemplateResult","defaultProcessor","decorators","desc","d","c","arguments","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","name","undefined","capture","events","captureEvents","bubbleEvents","selectors","SelectorSet","addEventListener","dispatch","add","classObject","connect","prototype","connectedCallback","this","toggleAttribute","template","parentElement","attachShadow","mode","getAttribute","append","content","cloneNode","autoShadowRoot","instance","names","attrs","get","getPrototypeOf","attrToAttributeName","descriptor","[object Object]","newValue","setAttribute","Number","hasAttribute","set","call","initializeAttrs","controller","controllers","shadowRoot","bindElements","listenForBind","ownerDocument","bind","observed","observedAttributes","attrMap","concat","attributes","defineObservedAttributes","replace","toLowerCase","window","customElements","define","register","wait","opts","proto","Error","db","configurable","tag","tagName","targets","closest","findTargets","has","_getDocumentObserver","getDocumentObserver","observe","apply","afterHandlers","formHandlers","Map","handleSubmit","handlers","container","shiftKey","lastCheckbox","setChecked","input","checked","indeterminate","relatedTarget","onChange","Element","updateCount","onCheckAll","itemCheckboxes","Array","from","start","end","indexOf","sort","slice","allCheckbox","querySelector","total","count","checkbox","onCheckAllItem","onMouseDown","HTMLLabelElement","control","countContainer","textContent","toString","unsubscribe","removeEventListener","findTarget","hotkey","keys","hotkeyRadixTrie","children","keyDownHandler","leaves","split","edge","expandHotkeyToEdges","h","insert","elementsLeaves","leaf","delete","stackString","reduce","stack","line","parseResult","parts","chromeRe","exec","isNative","isEval","submatch","chromeEvalRe","file","methodName","UNKNOWN_FUNCTION","lineNumber","column","parseChrome","winjsRe","parseWinjs","geckoRe","geckoEvalRe","parseGecko","nodeRe","parseNode","javaScriptCoreRe","parseJSC","install","config","containers","installed","quoteSelection","copyMarkdown","onCopy","uninstall","directives","WeakMap","directive","f","args","isDirective","o","isCEPolyfill","polyfillWrapFlushCallback","removeNodes","n","nextSibling","removeChild","noChange","nothing","marker","String","Math","random","nodeMarker","markerRegex","RegExp","boundAttributeSuffix","Template","nodesToRemove","walker","createTreeWalker","lastPartIndex","index","partIndex","node","nextNode","nodeType","hasAttributes","endsWith","stringForPart","lastAttributeNameRegex","attributeLookupName","attributeValue","removeAttribute","statics","type","currentNode","data","parent","parentNode","lastIndex","s","createMarker","match","createTextNode","insertBefore","previousSibling","pop","str","suffix","isTemplatePartActive","part","createComment","TemplateInstance","processor","__parts","setValue","commit","fragment","importNode","nodeIndex","nodeName","handleTextExpression","insertAfterNode","handleAttributeExpressions","adoptNode","upgrade","commentMarker","l","html","isCommentBinding","commentOpen","lastIndexOf","attributeMatch","substr","createElement","innerHTML","getHTML","isPrimitive","isIterable","isArray","Symbol","iterator","AttributeCommitter","dirty","_createPart","AttributePart","text","v","t","_getValue","committer","NodePart","__pendingValue","startNode","appendChild","endNode","ref","__insert","__commitText","__commitTemplateResult","Node","__commitNode","__commitIterable","clear","valueAsString","templateFactory","update","_clone","itemParts","itemPart","item","appendIntoPart","insertAfterPart","BooleanAttributePart","PropertyCommitter","super","single","PropertyPart","eventOptionsSupported","_e","EventPart","eventName","eventContext","__boundHandleEvent","e","handleEvent","newListener","oldListener","shouldRemoveListener","once","passive","shouldAddListener","__options","getOptions","defaultTemplateProcessor","DefaultTemplateProcessor","prefix","templateCache","templateCaches","stringsArray","keyString","join","getTemplateElement","firstChild","assign","appendInto","size","uid","indexes","create","activeIndexes","docElem","documentElement","matches","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","matchesSelector","context","idRe","sel","m","classRe","className","baseVal","tagRe","toUpperCase","chunker","parseSelectorIndexes","allIndexes","j","dup","allIndexesLen","rest","findByPrototype","ary","len","isPrototypeOf","sortById","a","b","logDefaultIndexUsed","obj","indexProto","objs","selectorIndexes","selectorIndex","remove","k","selIndex","removedIds","removeAll","splice","queryAll","len2","results","els","elements","len3","matchedIds","propagationStopped","immediatePropagationStopped","currentTargets","currentTargetDesc","Event","before","subject","verb","source","trackPropagation","trackImmediate","getCurrentTarget","defineCurrentTarget","getter","enumerable","eventPhase","_","canDispatch","queue","reverse","_matches","matched","observers","unshift","len1","Leaf","trie","RadixTrie","edges","success","isFormField","HTMLElement","isContentEditable","elideShift","code","startsWith","ctrlKey","altKey","metaKey","currentTriePosition","resetTriePositionTimer","resetTriePosition","clearTimeout","newTriePosition","focus","click","fireDeterminedAction","preventDefault","observer","scheduleBatch","callback","calls","processBatchQueue","callsCopy","_len","_key","scheduleMacroTask","MutationObserver","handleMutations","Date","now","callbacks","error","initMap","initializerMap","subscriptionMap","addMap","applyChanges","selectorObserver","changes","change","ADD","runInit","runAdd","REMOVE","runRemove","REMOVE_ALL","runRemoveAll","elementConstructor","initIds","initializer","initialize","initializers","addIds","subscribe","subscription","subscriptions","ids","innerHTMLReplacementIsBuggy","supportsSelectorMatching","handleMutations$1","mutations","mutation","addNodes","addedNodes","removedNodes","revalidateObservers","detectInnerHTMLReplacementBuggy","revalidateOrphanedElements","nodes","selectorSet","matches2","_j","_matches2$_j","_data","descendants","_i","_typeof","constructor","SelectorObserver","rootNode","mutationObserver","handleRootMutations","_scheduleAddRootNodes","addRootNodes","_handleThrottledChangedTargets","handleChangedTargets","handleChangeEvents","readyState","whenReady","onReady","childList","subtree","inputs","revalidateInputObservers","disconnect","self","hasOwnProperty","defaultView","abort","_abortObserving","triggerObservers","revalidateDescendantObservers","documentObserver","WeakSet","closed","bindActions","attributeFilter","root","currentTarget","binding","bindings","method","getRootNode","ShadowRoot","host","shadowController","action","trim","eventSep","methodSep","_state","_infinity","state","lastRenderedIndex","previousValues","previousLength","then","Promise","resolve","resolvedValue","throttle","middle","timer","last","cancelled","delta","cancel","debounce","ErrorWithResponse","message","response","makeDeferred","reject","_resolve","_reject","HTMLFormElement","getMatches","req","url","headers","Headers","X-Requested-With","body","params","URLSearchParams","entries","FormData","serialize","buildRequest","kickerPromise","ultimateResolve","ultimateReject","async","kickerWasCalled","kickerCalled","kickerCalledResolve","kick","kicker","json","race","processHandlers","performAsyncSubmit","handler","fetch","credentials","res","status","statusText","parseHTML","ok","remoteSubmit","catch","submit","err","CLOSE_ATTR","CLOSE_SELECTOR","autofocus","autofocusElement","focusable","keydown","details","toggleDetails","stopPropagation","dialog","movement","currentFocus","contains","activeElement","targetIndex","currentIndex","restrictTabBehavior","tabIndex","disabled","hidden","offsetWidth","offsetHeight","visible","allowClosingDialog","DetailsDialogElement","onSummaryClick","toggle","initialized","reset","focusElement","findFocusElement","open","loadIncludeFragment","loader","src","removeIncludeFragmentEventListeners","updateIncludeFragmentEventListeners","preload","summary","states","AutoCheckElement","checker","check","setLoadingState","autocomplete","spellcheck","setCustomValidity","required","link","href","csrf","csrfElement","autoCheckElement","setValidity","AbortController","signal","fetchWithNetworkEvents","clone","processSuccess","processFailure","copyNode","navigator","clipboard","writeText","selection","getSelection","removeAllRanges","range","createRange","selectNodeContents","addRange","execCommand","copyText","style","width","height","position","top","createNode","copy","button","trigger","Document","HTMLAnchorElement","clicked","focused","blurred","ClipboardCopyElement","DetailsMenuElement","fromEvent","trackComposition","shouldCommit","menu","KeyboardEvent","isComposing","isSummaryFocused","close","sibling","ctrlBindings","selected","isMenuItem","loadFragment","opened","closeCurrentMenu","NullSubscription","focusOnOpen","loaded","sub","onNext","isMouse","focusFirstItem","next","found","def","userAgent","menuitem","onlyCommitOnChangeEvent","textEl","labelText","contentsEl","labelHTML","updateLabel","checkState","updateChecked","role","Attachment","directory","percent","transfer","items","some","entry","webkitGetAsEntry","isDirectory","traverse","roots","files","transferredFiles","File","fullPath","getFile","getEntries","reader","createReader","read","readEntries","path","FileAttachmentElement","onDragenter","onDragleave","onDrop","onPaste","transferred","attachments","DataTransfer","hasFile","types","dragging","dataTransfer","dropEffect","attach","images","clipboardData","test","getAsFile","pastedFile","FilterInputElement","currentQuery","debounceInputChange","timeout","filterResults","boundFilterResults","oldValue","filterInput","checkCurrentQuery","query","list","matchSubstring","childElementCount","hideNew","getText","newItem","showCreateOption","newItemText","newItemValue","HTMLButtonElement","updateNewItem","force","emptyState","toggleBlankslate","_item","itemText","filterableItem","supported","Set","isModifiable","emoji","ZERO_WIDTH_JOINER","removeTone","ch","isTone","codePointAt","tint","tone","points","p","fromCodePoint","point","toneModifier","GEmojiElement","image","firstElementChild","HTMLImageElement","parseInt","modifiers","onWindows7","onWindows8","onWindows81","onFreeBSD","onLinux","isEmojiSupported","alt","emojiImage","updateTone","tones","x","sequence","sequenceWithToneRemoved","modifier","applyTone","shift","applyTones","privateData","fire","handleData","getData","replaceWith","classList","load","IncludeFragmentElement","_attached","val","accept","attribute","Request","Accept","request","ct","find","includes","tmpl","startPositions","dragStartPositions","constructedElements","moveCropArea","ImageCropElement","box","deltaX","deltaY","MouseEvent","pos","pageX","dragStartX","pageY","dragStartY","TouchEvent","changedTouches","min","max","offsetLeft","y","offsetTop","left","fireChangeEvent","updateCropArea","rect","getBoundingClientRect","setInitialPosition","startX","startY","pageXOffset","pageYOffset","updateDimensions","startUpdate","direction","reposition","newSide","abs","round","imageReady","side","clientWidth","clientHeight","stopUpdate","ratio","naturalWidth","slottedInput","buttonSelectors","getButtons","toolbar","styles","MarkdownButtonElement","applyStyle","MarkdownHeaderButtonElement","level","repeat","MarkdownBoldButtonElement","trimFirst","MarkdownItalicButtonElement","MarkdownQuoteButtonElement","multiline","surroundWithNewlines","MarkdownCodeButtonElement","blockPrefix","blockSuffix","MarkdownLinkButtonElement","replaceNext","scanFor","MarkdownImageButtonElement","MarkdownUnorderedListButtonElement","MarkdownOrderedListButtonElement","orderedList","MarkdownTaskListButtonElement","MarkdownMentionButtonElement","prefixSpace","MarkdownRefButtonElement","MarkdownStrikethroughButtonElement","modifierKey","MarkdownToolbarElement","focusKeydown","shortcut","shortcutListeners","onToolbarFocus","tabindex","buttons","findHotkey","isMultipleLines","string","wordSelectionEnd","breakpoint","canInsertText","styleSelectedText","textarea","styleArgs","selectionStart","selectionEnd","orderedListRegex","noInitialSelection","startOfLine","endOfLine","textToUnstyle","lines","linesBefore","linesToUnstyle","every","lengthDiff","numberedLines","newlinesToAppend","newlinesToPrepend","newlinesToSurroundSelectedText","arg","multilineStyle","originalSelectionStart","originalSelectionEnd","selectedText","prefixToUse","suffixToUse","beforeSelection","wordSelectionStart","expandedSelectionStart","expandedSelectionEnd","beginsWithPrefix","endsWithSuffix","expandSelectedText","hasReplaceNext","replacementText","whitespaceEdges","leadingWhitespace","trailingWhitespace","blockStyle","after","contentEditable","setSelectionRange","insertText","afterSelection","breaksBefore","breaksAfter","newlinesBeforeSelection","newlinesAfterSelection","stylesToApply","RemoteInputElement","fetchResults","oninput","remoteInput","resultsContainer","URL","location","search","sortHandlers","isSameContainer","item1","item2","onDragStart","sourceList","setData","siblings","sourceIndex","sortStarted","didDrop","dropzone","sourceSibling","onDragEnter","previousElementSibling","isBefore","newIndex","currentList","dst","sortFinished","onDragEnd","onDragOver","TaskListsElement","syncState","sortable","syncDisabled","handleTemplate","initItem","currentTaskList","handle","prepend","onHandleMouseOver","onHandleMouseOut","onSortStart","onSorted","onListItemMouseOver","onListItemMouseOut","taskList","listIndex","isRootTaskList","rootTaskList","originalLists","srcList","lists","Combobox","keyboardEventHandler","combobox","clearSelection","navigate","keyboardBindings","compositionEventHandler","inputHandler","stop","commitWithElement","indexDiff","focusEl","focusIndex","indexOfItem","scrollTo","fireCommitEvent","scrollTop","containerBottom","bottom","inViewport","boundary","cursor","multiWord","lookBackIndex","lastMatchPosition","keyIndex","pre","substring","properties","propertyNamesToCopy","mirrorMap","textFieldSelectionPosition","mirror","textField","markerPosition","getComputedStyle","props","getPropertyValue","cssText","scrollLeft","textFieldMirror","mirrorRect","markerRect","TextExpander","expander","justPasted","onInput","onpaste","onkeydown","onKeydown","oncommit","onCommit","onmousedown","onMousedown","onblur","onBlur","interactingWithList","deactivate","floor","destroy","beginning","remaining","findMatch","notifyProviders","activate","providers","provide","all","stopImmediatePropagation","TextExpanderElement","keysAttr","multiWordAttr","globalMultiWord","dismissMenu","weekdays","months","pad","num","strftime","time","formatString","day","getDay","date","getDate","month","getMonth","year","getFullYear","hour","getHours","minute","getMinutes","second","getSeconds","_arg","makeFormatter","format","Intl","DateTimeFormat","RangeError","dayFirst","dayFirstFormatter","isDayFirst","formatter","output","yearSeparator","yearFormatter","localeFromElement","lang","datetimes","ExtendedTimeElement","title","getFormattedTitle","getFormattedDate","attrName","oldTitle","millis","isNaN","currentTitle","titleFormatter","toLocaleString","timeZoneName","formatters","LocalTimeElement","attributeChangedCallback","weekday","short","long","numeric","2-digit","prop","formatDate","tz","factory","formatTime","RelativeTime","locale","ago","timeElapsed","ahead","timeAhead","ms","getTime","sec","hr","timeAgoFromMs","timeUntil","formatRelativeTime","timeUntilFromMs","getUTCFullYear","isYearSeparator","timeFormatter","unit","RelativeTimeFormat","makeRelativeFormat","formatEnRelativeTime","RelativeTimeElement","nowElements","updateNowElementsId","updateNowElements","setInterval","ix","clearInterval","TimeAgoElement","microTimeAgo","timeAgo","TimeUntilElement","microTimeUntil","AutocompleteEvent","init","requests","xhr","XMLHttpRequest","setRequestHeader","pending","onload","responseText","onerror","send","Autocomplete","onInputChange","Rest","onResultsMouseDown","onInputBlur","onInputFocus","identifyOptions","hasResults","AutocompleteElement","listId","TabContainerElement","tabs","tab","selectTab","tabContainer","panels","selectedTab","selectedPanel","panel","newline","textBeforeCursor","hasLink","links","extractLinks","isImageLink","linkify","onDragover","IMAGE_RE","onDrop$1","hasFile$1","table","hasTable","tableMarkdown","onDragover$1","onPaste$1","columnText","rows","firstRow","row","spacers","parseTable","onPaste$2","hasMarkdown","tokenStart","install$1","install$2","uninstall$1","uninstall$2","_setter","_value","__classPrivateFieldSet","receiver","privateMap","TypeError","__classPrivateFieldGet","AttributeTemplatePart","setter","expression","updateParent","attributeName","attr","attributeNamespace","namespaceURI","booleanValue","AttributeValueSetter","partList","hasAttributeNS","DOMException","partValue","removeAttributeNS","setAttributeNS","_parts","NodeTemplatePart","Text","createProcessor","processPart","processCallback","processPropertyIdentity","processBooleanAttribute","propertyIdentity","_processor","DocumentFragment","setPrototypeOf","NodeFilter","SHOW_TEXT","SHOW_ELEMENT","valueSetter","token","splitText","collectParts","createCallback","indexInList","li","listIndexOffset","escapeAttribute","filters","INPUT","STRONG","EM","DEL","widthAttr","heightAttr","bullet","first","childNodes","TEXT_NODE","nestedListExclusive","indent","UL","OL","H1","insertMarkdownSyntax","nodeIterator","createNodeIterator","skipNode","hasContent","isCheckbox","FILTER_ACCEPT","FILTER_SKIP","edgeBrowser","firstInstall","quoteMarkdown","scopeSelector","getRangeAt","quoted","extractQuote","selectionText","findContainer","findTextarea","eventIsNotRelevant","quote","quotedText","scrollHeight","insertQuote","unwrap","focusNode","startContainer","ELEMENT_NODE","cloneContents","contentElement","createDocumentFragment","extractFragment","div","detach","selectFragment","previousValue","isUserResized","onUserResize","clientX","clientY","newHeight","maxHeight","sizeToFit","_overflowOffset","offsetParent","overflowOffset","containerHeight","onFormReset","MultiMap","iterable","deleted","empty","done","whenAborted","aborted","socket","WebSocket","OPEN","onopen","whenOpen","shutdown","connectWithRetry","policy","attempts","maxDelay","Infinity","op","pow","vary","retry","StableSocket","delegate","opening","socketDidFinish","onclose","socketDidClose","reason","socketShouldRetry","POLICY_VIOLATION","INTERNAL_ERROR","onmessage","socketDidReceiveMessage","socketDidOpen","processDirective","directiveCallback","eventListeners","EventHandler","listener","elementListeners","processIterable","templates","renderedTemplates","renderedTemplateInstances","cur","for","processEvent","processSubTemplate","processDocumentFragment","directiveFactory","PerformanceObserver","supportedEntryTypes","buffered","InstallTrigger","visibilityState","u","persisted","hadRecentInput","takeRecords","timeStamp","startTime","requestAnimationFrame","performance","g","L","E","entryType","processingStart","forEach","w","S","getEntriesByType","timing","navigationStart","responseStart","createAndInsertPart","containerPart","beforePart","beforeNode","newPart","updatePart","insertPartBefore","reparentNodes","removePart","generateMap","partListCache","keyListCache","keyFnOrTemplate","keyFn","oldParts","oldKeys","newParts","newValues","newKeys","newKeyToIndexMap","oldKeyToIndexMap","oldHead","oldTail","newHead","newTail","oldIndex","oldPart"],"mappings":"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sqB,GAC3D7pB,aAAe,IAAI0Z,iCA2BjCjd,OAAOC,eAAe5B,IAAI,kBAC3B2B,OAAO0rB,mBAAqBA,mBAC5B1rB,OAAOC,eAAeC,OAAO,eAAgBwrB,qBChIjD,MAAM2B,GAAY,IAAIC,IAAI,CACtB,KACA,KACA,MACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,QACA,QACA,QACA,QACA,QACA,KACA,QACA,QACA,QACA,QACA,QACA,KACA,KACA,KACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,KACA,QACA,QACA,MACA,SACA,SACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,KACA,KACA,QACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,KACA,QACA,QACA,KACA,KACA,MACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,KACA,MACA,SACA,SACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,MACA,SACA,SACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,KACA,WACA,KACA,KACA,OAEJ,SAASC,GAAaC,GAClB,OAAOH,GAAUtsB,IAAIysB,GAGzB,MAAMC,GAAoB,IA6B1B,SAASC,GAAWF,GAChB,MAAO,IAAIA,GAAO1yB,QAAO6yB,IAAOC,GAAOD,EAAGE,YAAY,MAAK5d,KAAK,IAEpE,SAAS6d,GAAKN,EAAOO,GACjB,MAAMC,EAAS,IAAIR,GAAOvyB,KAAIgzB,GAAKA,EAAEJ,YAAY,KAOjD,OANIG,EAAO,KAAOJ,GAAOI,EAAO,KAjCf,QAiCsBA,EAAO,IAC1CA,EAAO,GAAKD,EAGZC,EAAO3a,OAAO,EAAG,EAAG0a,GAEjBlmB,OAAOqmB,iBAAiBF,GAEnC,SAASJ,GAAOO,GACZ,OAAOA,GAAS,QAAWA,GAAS,OAExC,SAASC,GAAax1B,GAClB,OAAQA,GACJ,KAAK,EACD,OAAO,OACX,KAAK,EACD,OAAO,OACX,KAAK,EACD,OAAO,OACX,KAAK,EACD,OAAO,OACX,KAAK,EACD,OAAO,OACX,QACI,OAAO,MAInB,MAAMy1B,sBAAsBzY,YACxB0Y,YACI,OAAI/wB,KAAKgxB,6BAA6BC,iBAC3BjxB,KAAKgxB,kBAGL,KAGfR,WACI,OAAQxwB,KAAKM,aAAa,SAAW,IAChCqG,MAAM,KACNjJ,KAAIxB,IACL,MAAMs0B,EAAOU,SAASh1B,EAAO,IAC7B,OAAOs0B,GAAQ,GAAKA,GAAQ,EAAIA,EAAO,KAEtC9d,KAAK,KAEd8d,SAASW,GACLnxB,KAAKoB,aAAa,OAAQ+vB,GAE9BjwB,oBACI,GAAmB,OAAflB,KAAK+wB,QA5VjB,WACI,MAAMK,EAAa,qBAAqBpD,KAAKtG,UAAUqD,WACjDsG,EAAa,qBAAqBrD,KAAKtG,UAAUqD,WACjDuG,EAAc,qBAAqBtD,KAAKtG,UAAUqD,WAClDwG,EAAY,cAAcvD,KAAKtG,UAAUqD,WACzCyG,EAAU,YAAYxD,KAAKtG,UAAUqD,aAAe,cAAciD,KAAKtG,UAAUqD,WACvF,QAASqG,GAAcC,GAAcC,GAAeE,GAAWD,GAsV/BE,GAAoB,CAC5C,MAAM1L,EAAM/lB,KAAKM,aAAa,gBAC9B,GAAIylB,EAAK,CACL/lB,KAAKgG,YAAc,GACnB,MAAM+qB,EAmCtB,SAAoB5zB,GAChB,MAAM4zB,EAAQn0B,SAAS2R,cAAc,OAKrC,OAJAwiB,EAAM9c,UAAY,QAClB8c,EAAMW,IAAMv0B,EAAGmD,aAAa,UAAY,GACxCywB,EAAMvI,OAAS,GACfuI,EAAMxI,MAAQ,GACPwI,EAzCmBY,CAAW3xB,MACzB+wB,EAAMhL,IAAMA,EACZ/lB,KAAK2P,YAAYohB,IAGrB/wB,KAAKsB,aAAa,SAClBswB,GAAW5xB,MAGnBkC,gCACI,MAAO,CAAC,QAEZhB,yBAAyBjC,GACrB,OAAQA,GACJ,IAAK,OACD2yB,GAAW5xB,QAK3B,SAAS4xB,GAAWz0B,GAChB,GAAIA,EAAG4zB,MACH,OACJ,MAAMc,EAAQ10B,EAAGqzB,KAAK7pB,MAAM,KAAKjJ,KAAIo0B,GAAKZ,SAASY,EAAG,MACtD,GAAqB,IAAjBD,EAAMl0B,OACNR,EAAG6I,YAAcmqB,GAAWhzB,EAAG6I,aAAe,SAE7C,GAAqB,IAAjB6rB,EAAMl0B,OAAc,CACzB,MAAM6yB,EAAOqB,EAAM,GACnB10B,EAAG6I,YAAuB,IAATwqB,EAAaL,GAAWhzB,EAAG6I,aAAe,IAnHnE,SAAmB+rB,EAAUvB,GACzB,MAAMwB,EAA0B7B,GAAW4B,GAC3C,IAAK/B,GAAagC,GACd,OAAOD,EACX,MAAME,EAAWpB,GAAaL,GAC9B,OAAKyB,EAEED,EACFrrB,MAAMupB,IACNxyB,KAAIuyB,GAAUD,GAAaC,GAASM,GAAKN,EAAOgC,GAAYhC,IAC5Dvd,KAAKwd,IAJC6B,EA6G0DG,CAAU/0B,EAAG6I,aAAe,GAAIwqB,QAGjGrzB,EAAG6I,YA1GX,SAAoB+rB,EAAUF,GAC1B,MAAMG,EAA0B7B,GAAW4B,GAC3C,IAAK/B,GAAagC,GACd,OAAOD,EACX,MAAMZ,EAAYU,EAAMn0B,KAAI2R,GAAKwhB,GAAaxhB,KAC9C,OAAO2iB,EACFrrB,MAAMupB,IACNxyB,KAAIuyB,IACL,IAAKD,GAAaC,GACd,OAAOA,EACX,MAAMgC,EAAWd,EAAUgB,QAC3B,OAAOF,EAAW1B,GAAKN,EAAOgC,GAAYhC,KAEzCvd,KAAKwd,IA6FWkC,CAAWj1B,EAAG6I,aAAe,GAAI6rB,GAWrDpvB,OAAOC,eAAe5B,IAAI,aAC3B2B,OAAOquB,cAAgBA,cACvBruB,OAAOC,eAAeC,OAAO,UAAWmuB,gBC7Y5C,MAAMuB,GAAc,IAAI9oB,QACxB,SAAS+oB,GAAKrzB,EAAM/D,GAChBC,YAAW,WACPD,EAAO2B,cAAc,IAAI6Z,MAAMzX,MAChC,GAEPsjB,eAAegQ,GAAWp1B,GACtB,OAAOq1B,GAAQr1B,GAAIgjB,MAAK,SAAUlS,GAC9B,MAAM/N,EAAWtD,SAAS2R,cAAc,YACxCrO,EAASsO,UAAYP,EACrB,MAAMX,EAAW1Q,SAAS2Q,WAAWrN,EAASM,SAAS,IACrCrD,EAAGN,cAAc,IAAIP,YAAY,2BAA4B,CAAEE,YAAY,EAAMC,OAAQ,CAAE6Q,SAAAA,QAG7GnQ,EAAGs1B,YAAYnlB,GACfnQ,EAAGN,cAAc,IAAIP,YAAY,kCAClC,WACCa,EAAGu1B,UAAU/yB,IAAI,eAGzB,SAAS6yB,GAAQr1B,GACb,MAAM4oB,EAAM5oB,EAAG4oB,IACf,IAAI9Z,EAAOomB,GAAYvxB,IAAI3D,GAC3B,OAAI8O,GAAQA,EAAK8Z,MAAQA,EACd9Z,EAAKA,MAIRA,EADA8Z,EACO5oB,EAAGw1B,OAGHvS,QAAQe,OAAO,IAAIne,MAAM,gBAEpCqvB,GAAY9wB,IAAIpE,EAAI,CAAE4oB,IAAAA,EAAK9Z,KAAAA,IACpBA,GAMA,MAAM2mB,+BAA+Bva,YAChDnX,cACI8P,QACAhR,KAAK6yB,WAAY,EAErB3wB,gCACI,MAAO,CAAC,OAEZ6jB,UACI,MAAMA,EAAM/lB,KAAKM,aAAa,OAC9B,GAAIylB,EAAK,CACL,MAAMc,EAAO7mB,KAAK+B,cAAcwM,cAAc,KAE9C,OADAsY,EAAKC,KAAOf,EACLc,EAAKC,KAGZ,MAAO,GAGff,QAAQ+M,GACJ9yB,KAAKoB,aAAa,MAAO0xB,GAE7BC,aACI,OAAO/yB,KAAKM,aAAa,WAAa,GAE1CyyB,WAAWD,GACP9yB,KAAKoB,aAAa,SAAU0xB,GAEhC7mB,WACI,OAAOumB,GAAQxyB,MAEnBkB,yBAAyB8xB,GACH,QAAdA,GACIhzB,KAAK6yB,WACLN,GAAWvyB,MAIvBkB,oBACIlB,KAAK6yB,WAAY,EACb7yB,KAAK+lB,KACLwM,GAAWvyB,MAGnBkB,uBACIlB,KAAK6yB,WAAY,EAErB3xB,UACI,MAAM6kB,EAAM/lB,KAAK+lB,IACjB,IAAKA,EACD,MAAM,IAAI/iB,MAAM,eAEpB,OAAO,IAAIiwB,QAAQlN,EAAK,CACpB3G,OAAQ,MACR+D,YAAa,cACbzB,QAAS,CACLwR,OAAQlzB,KAAK+yB,QAAU,eAInC7xB,OACI,OAAOkf,QAAQC,UACVF,MAAK,KACNmS,GAAK,YAAatyB,MACXA,KAAKkjB,MAAMljB,KAAKmzB,cAEtBhT,MAAKc,IACN,GAAwB,MAApBA,EAASoC,OACT,MAAM,IAAIrgB,MAAM,kEAAkEie,EAASoC,QAE/F,MAAM+P,EAAKnS,EAASS,QAAQ5gB,IAAI,gBAChC,KA1EQiyB,EA0EQ/yB,KAAK+yB,OAzEtBA,GAAYA,EAAOpsB,MAAM,KAAK0sB,MAAKvB,GAAKA,EAAEvlB,MAAM,iBAyEb6mB,GAAOA,EAAGE,SAAStzB,KAAK+yB,OAAS/yB,KAAK+yB,OAAS,cAC7E,MAAM,IAAI/vB,MAAM,qCAAqChD,KAAK+yB,QAAU,uBAAuBK,KA3E3G,IAAoBL,EA6ER,OAAO9R,KAENd,MAAKc,GAAYA,EAAS9R,SAC1BgR,MAAKlU,IACNqmB,GAAK,OAAQtyB,MACbsyB,GAAK,UAAWtyB,MACTiM,KACRmO,IAGC,MAFAkY,GAAK,QAAStyB,MACdsyB,GAAK,UAAWtyB,MACVoa,KAGdlZ,MAAMiyB,GACF,OAAOjQ,MAAMiQ,kCAGhB1wB,OAAOC,eAAe5B,IAAI,sBAC3B2B,OAAOmwB,uBAAyBA,uBAChCnwB,OAAOC,eAAeC,OAAO,mBAAoBiwB,yBCrIrD,MAAMW,GAAO32B,SAAS2R,cAAc,YACpCglB,GAAK/kB,UAAY,6dAcjB,MAAMglB,GAAiB,IAAIjqB,QACrBkqB,GAAqB,IAAIlqB,QACzBmqB,GAAsB,IAAInqB,QAChC,SAASoqB,GAAa34B,GAClB,MAAMmC,EAAKnC,EAAMikB,cACjB,KAAM9hB,aAAcy2B,kBAChB,OACJ,MAAMC,IAAEA,EAAG9C,MAAEA,GAAU2C,GAAoB5yB,IAAI3D,IAAO,GACtD,IAAK02B,IAAQ9C,EACT,OACJ,IAAI+C,EAAS,EACTC,EAAS,EACb,GAAI/4B,aAAiB0uB,cACC,YAAd1uB,EAAMQ,IACNu4B,GAAU,EAES,cAAd/4B,EAAMQ,IACXu4B,EAAS,EAEU,cAAd/4B,EAAMQ,IACXs4B,GAAU,EAES,eAAd94B,EAAMQ,MACXs4B,EAAS,QAGZ,GAAIL,GAAmBjwB,IAAIrG,IAAOnC,aAAiBg5B,WAAY,CAChE,MAAMC,EAAMR,GAAmB3yB,IAAI3D,GACnC22B,EAAS94B,EAAMk5B,MAAQD,EAAIE,WAC3BJ,EAAS/4B,EAAMo5B,MAAQH,EAAII,gBAE1B,GAAIZ,GAAmBjwB,IAAIrG,IAAOnC,aAAiBs5B,WAAY,CAChE,MAAMJ,MAAEA,EAAKE,MAAEA,GAAUp5B,EAAMu5B,eAAe,IACxCJ,WAAEA,EAAUE,WAAEA,GAAeZ,GAAmB3yB,IAAI3D,GAC1D22B,EAASI,EAAQC,EACjBJ,EAASK,EAAQC,EAErB,GAAe,IAAXP,GAA2B,IAAXC,EAAc,CAC9B,MAAMjC,EAAIvnB,KAAKiqB,IAAIjqB,KAAKkqB,IAAI,EAAGZ,EAAIa,WAAaZ,GAAS/C,EAAMxI,MAAQsL,EAAI5O,aACrE0P,EAAIpqB,KAAKiqB,IAAIjqB,KAAKkqB,IAAI,EAAGZ,EAAIe,UAAYb,GAAShD,EAAMvI,OAASqL,EAAI3O,cAC3E2O,EAAIvL,MAAMuM,KAAU/C,EAAH,KACjB+B,EAAIvL,MAAMI,IAASiM,EAAH,KAChBG,GAAgB33B,EAAI,CAAE20B,EAAAA,EAAG6C,EAAAA,EAAGpM,MAAOsL,EAAI5O,YAAauD,OAAQqL,EAAI3O,eAEpE,GAAIlqB,aAAiBg5B,WACjBP,GAAmBlyB,IAAIpE,EAAI,CACvBg3B,WAAYn5B,EAAMk5B,MAClBG,WAAYr5B,EAAMo5B,aAGrB,GAAIp5B,aAAiBs5B,WAAY,CAClC,MAAMJ,MAAEA,EAAKE,MAAEA,GAAUp5B,EAAMu5B,eAAe,GAC9Cd,GAAmBlyB,IAAIpE,EAAI,CACvBg3B,WAAYD,EACZG,WAAYD,KAIxB,SAASW,GAAe/5B,GACpB,MAAME,EAASF,EAAME,OACrB,KAAMA,aAAkBmd,aACpB,OACJ,MAAMlb,EAAKjC,EAAOoI,QAAQ,cAC1B,KAAMnG,aAAcy2B,kBAChB,OACJ,MAAMC,IAAEA,GAAQH,GAAoB5yB,IAAI3D,IAAO,GAC/C,IAAK02B,EACD,OACJ,MAAMmB,EAAO73B,EAAG83B,wBAChB,IAAInB,EAAQC,EAAQnT,EACpB,GAAI5lB,aAAiB0uB,cAAe,CAChC,GAAkB,WAAd1uB,EAAMQ,IACN,OAAO05B,GAAmB/3B,GAK9B,GAJkB,MAAdnC,EAAMQ,MACNolB,GAAS,IACK,MAAd5lB,EAAMQ,MACNolB,EAAQ,KACPA,EACD,OACJkT,EAASD,EAAI5O,YAAcrE,EAC3BmT,EAASF,EAAI3O,aAAetE,EAC5B4S,GAAejyB,IAAIpE,EAAI,CAAEg4B,OAAQtB,EAAIa,WAAYU,OAAQvB,EAAIe,iBAE5D,GAAI55B,aAAiBg5B,WAAY,CAClC,MAAMC,EAAMT,GAAe1yB,IAAI3D,GAC/B,IAAK82B,EACD,OACJH,EAAS94B,EAAMk5B,MAAQD,EAAIkB,OAASH,EAAKH,KAAOpyB,OAAO4yB,YACvDtB,EAAS/4B,EAAMo5B,MAAQH,EAAImB,OAASJ,EAAKtM,IAAMjmB,OAAO6yB,iBAErD,GAAIt6B,aAAiBs5B,WAAY,CAClC,MAAML,EAAMT,GAAe1yB,IAAI3D,GAC/B,IAAK82B,EACD,OACJH,EAAS94B,EAAMu5B,eAAe,GAAGL,MAAQD,EAAIkB,OAASH,EAAKH,KAAOpyB,OAAO4yB,YACzEtB,EAAS/4B,EAAMu5B,eAAe,GAAGH,MAAQH,EAAImB,OAASJ,EAAKtM,IAAMjmB,OAAO6yB,YAExExB,GAAUC,GACVwB,GAAiBp4B,EAAI22B,EAAQC,IAAU/4B,aAAiB0uB,gBAEhE,SAAS8L,GAAYx6B,GACjB,MAAMikB,EAAgBjkB,EAAMikB,cAC5B,KAAMA,aAAyB5G,aAC3B,OACJ,MAAMlb,EAAK8hB,EAAc3b,QAAQ,cACjC,KAAMnG,aAAcy2B,kBAChB,OACJ,MAAMC,IAAEA,GAAQH,GAAoB5yB,IAAI3D,IAAO,GAC/C,IAAK02B,EACD,OACJ,MAAM34B,EAASF,EAAME,OACrB,GAAMA,aAAkBmd,YAExB,GAAInd,EAAOoG,aAAa,kBAAmB,CACvC,MAAMm0B,EAAYv6B,EAAOoF,aAAa,mBAAqB,GAC3DnD,EAAGsC,iBAAiB,YAAas1B,IACjC53B,EAAGsC,iBAAiB,YAAas1B,IAC7B,CAAC,KAAM,MAAM5vB,QAAQswB,IAAc,GACnCt4B,EAAGu1B,UAAU/yB,IAAI,QACjB,CAAC,KAAM,MAAMwF,QAAQswB,IAAc,GACnCt4B,EAAGu1B,UAAU/yB,IAAI,QACrB6zB,GAAejyB,IAAIpE,EAAI,CACnBg4B,OAAQtB,EAAIa,YAAc,CAAC,KAAM,MAAMvvB,QAAQswB,IAAc,EAAI,EAAI5B,EAAI5O,aACzEmQ,OAAQvB,EAAIe,WAAa,CAAC,KAAM,MAAMzvB,QAAQswB,IAAc,EAAI,EAAI5B,EAAI3O,gBAE5E6P,GAAe/5B,QAGfmC,EAAGsC,iBAAiB,YAAak0B,IACjCx2B,EAAGsC,iBAAiB,YAAak0B,IAGzC,SAAS4B,GAAiBr6B,EAAQ44B,EAAQC,EAAQ2B,GAAa,GAC3D,IAAIC,EAAUprB,KAAKkqB,IAAIlqB,KAAKqrB,IAAI9B,GAASvpB,KAAKqrB,IAAI7B,GAAS,IAC3D,MAAME,EAAMT,GAAe1yB,IAAI5F,GAC/B,IAAK+4B,EACD,OACJ,MAAMJ,IAAEA,EAAG9C,MAAEA,GAAU2C,GAAoB5yB,IAAI5F,IAAW,GAC1D,IAAK24B,IAAQ9C,EACT,OACJ4E,EAAUprB,KAAKiqB,IAAImB,EAAS5B,EAAS,EAAIhD,EAAMvI,OAASyL,EAAImB,OAASnB,EAAImB,OAAQtB,EAAS,EAAI/C,EAAMxI,MAAQ0L,EAAIkB,OAASlB,EAAIkB,QAC7H,MAAMrD,EAAI4D,EAAanrB,KAAKsrB,MAAMtrB,KAAKkqB,IAAI,EAAGX,EAAS,EAAIG,EAAIkB,OAASlB,EAAIkB,OAASQ,IAAY9B,EAAIa,WAC/FC,EAAIe,EAAanrB,KAAKsrB,MAAMtrB,KAAKkqB,IAAI,EAAGV,EAAS,EAAIE,EAAImB,OAASnB,EAAImB,OAASO,IAAY9B,EAAIe,UACrGf,EAAIvL,MAAMuM,KAAU/C,EAAH,KACjB+B,EAAIvL,MAAMI,IAASiM,EAAH,KAChBd,EAAIvL,MAAMC,MAAWoN,EAAH,KAClB9B,EAAIvL,MAAME,OAAYmN,EAAH,KACnBb,GAAgB55B,EAAQ,CAAE42B,EAAAA,EAAG6C,EAAAA,EAAGpM,MAAOoN,EAASnN,OAAQmN,IAE5D,SAASG,GAAW96B,GAChB,MAAMikB,EAAgBjkB,EAAMikB,cAC5B,KAAMA,aAAyB5G,aAC3B,OACJ,MAAMlb,EAAK8hB,EAAc3b,QAAQ,cAC3BnG,aAAcy2B,mBAEpBz2B,EAAGotB,QAAS,EACZ2K,GAAmB/3B,IAEvB,SAAS+3B,GAAmB/3B,GACxB,MAAM4zB,MAAEA,GAAU2C,GAAoB5yB,IAAI3D,IAAO,GACjD,IAAK4zB,EACD,OACJ,MAAMgF,EAAOxrB,KAAKsrB,MAAM9E,EAAMiF,YAAcjF,EAAMkF,aAAelF,EAAMkF,aAAelF,EAAMiF,aAC5FxC,GAAejyB,IAAIpE,EAAI,CACnBg4B,QAASpE,EAAMiF,YAAcD,GAAQ,EACrCX,QAASrE,EAAMkF,aAAeF,GAAQ,IAE1CR,GAAiBp4B,EAAI44B,EAAMA,GAE/B,SAASG,GAAWl7B,GAChB,MAAMmC,EAAKnC,EAAMikB,cACX9hB,aAAcy2B,mBAEpBH,GAAmBvsB,OAAO/J,GAC1BA,EAAGu1B,UAAUjd,OAAO,OAAQ,QAC5BtY,EAAGgJ,oBAAoB,YAAa4uB,IACpC53B,EAAGgJ,oBAAoB,YAAawtB,IACpCx2B,EAAGgJ,oBAAoB,YAAa4uB,IACpC53B,EAAGgJ,oBAAoB,YAAawtB,KAExC,SAASmB,GAAgB55B,EAAQ4C,GAC7B,MAAMizB,MAAEA,GAAU2C,GAAoB5yB,IAAI5F,IAAW,GACrD,IAAK61B,EACD,OACJ,MAAMoF,EAAQpF,EAAMqF,aAAerF,EAAMxI,MACzC,IAAK,MAAM/sB,KAAOsC,EAAQ,CACtB,MAAM5B,EAAQqO,KAAKsrB,MAAM/3B,EAAOtC,GAAO26B,GACvCr4B,EAAOtC,GAAOU,EACd,MAAMm6B,EAAen7B,EAAOqK,cAAc,2BAA2B/J,OACjE66B,aAAwBr5B,mBACxBq5B,EAAan6B,MAAQA,EAAM+J,YAEnC/K,EAAO2B,cAAc,IAAIP,YAAY,oBAAqB,CAAEC,SAAS,EAAME,OAAQqB,KAEvF,MAAM81B,yBAAyBvb,YAC3BnX,oBACI,GAAIwyB,GAAoBlwB,IAAIxD,MACxB,OACJA,KAAK2P,YAAY/S,SAAS2Q,WAAWgmB,GAAK/yB,SAAS,IACnD,MAAMqzB,EAAM7zB,KAAKuF,cAAc,mBAC/B,KAAMsuB,aAAexb,aACjB,OACJ,MAAM0Y,EAAQ/wB,KAAKuF,cAAc,OAC3BwrB,aAAiBE,mBAEvByC,GAAoBnyB,IAAIvB,KAAM,CAAE6zB,IAAAA,EAAK9C,MAAAA,IACrCA,EAAMtxB,iBAAiB,OAAQq2B,IAC/B91B,KAAKP,iBAAiB,aAAcy2B,IACpCl2B,KAAKP,iBAAiB,WAAYy2B,IAClCl2B,KAAKP,iBAAiB,UAAWy2B,IACjCrC,EAAIp0B,iBAAiB,YAAa+1B,IAClC3B,EAAIp0B,iBAAiB,aAAc+1B,IACnCx1B,KAAKP,iBAAiB,UAAWk0B,IACjC3zB,KAAKP,iBAAiB,UAAWs1B,IAC7B/0B,KAAK+lB,MACLgL,EAAMhL,IAAM/lB,KAAK+lB,MAEzB7jB,gCACI,MAAO,CAAC,OAEZ6jB,UACI,OAAO/lB,KAAKM,aAAa,OAE7BylB,QAAQ+M,GACAA,EACA9yB,KAAKoB,aAAa,MAAO0xB,GAGzB9yB,KAAK6L,gBAAgB,OAG7B0e,aACI,OAAOvqB,KAAKsB,aAAa,UAE7BipB,WAAWuI,GACHA,EACA9yB,KAAKoB,aAAa,SAAU,IAG5BpB,KAAK6L,gBAAgB,UAG7B3K,yBAAyB8xB,EAAWvE,EAAUttB,GAC1C,MAAM4vB,MAAEA,GAAU2C,GAAoB5yB,IAAId,OAAS,GACjC,QAAdgzB,IACAhzB,KAAKuqB,QAAS,EACVwG,IACAA,EAAMhL,IAAM5kB,KAKvBsB,OAAOC,eAAe5B,IAAI,gBAC3B2B,OAAOmxB,iBAAmBA,iBAC1BnxB,OAAOC,eAAeC,OAAO,aAAcixB,mBC9Q/C,MAAM0C,GAAkB,CACpB,mBACA,YACA,UACA,YACA,WACA,UACA,UACA,WACA,oBACA,kBACA,eACA,aACA,SACA,oBAEJ,SAASC,GAAWC,GAChB,MAAMtgB,EAAM,GACZ,IAAK,MAAM2S,KAAU2N,EAAQl5B,iBAAiBg5B,GAAgB5jB,KAAK,OAC3DmW,EAAO7D,QAAW6D,EAAO5D,aAAe,GAAK4D,EAAO3D,cAAgB,GAEpE2D,EAAOvlB,QAAQ,sBAAwBkzB,GACvCtgB,EAAInb,KAAK8tB,GAEjB,OAAO3S,EAUX,MAAMugB,GAAS,IAAIltB,QACnB,MAAMmtB,8BAA8Bre,YAChCnX,cACI8P,QACA,MAAMpN,EAAQ,KACV,MAAM0kB,EAAQmO,GAAO31B,IAAId,MACpBsoB,GAELqO,GAAW32B,KAAMsoB,IAhB7B,IAAiBztB,EAkBTmF,KAAKP,iBAAiB,WAlBb5E,EAkBgC+I,EAjBtC,SAAU5I,GACK,MAAdA,EAAMQ,KAA6B,UAAdR,EAAMQ,MAC3BR,EAAMqe,iBACNxe,EAAGG,OAePgF,KAAKP,iBAAiB,QAASmE,GAEnC1C,oBACSlB,KAAKsB,aAAa,SACnBtB,KAAKoB,aAAa,OAAQ,UAGlCF,QACI,MAAMonB,EAAQmO,GAAO31B,IAAId,MACpBsoB,GAELqO,GAAW32B,KAAMsoB,IAGzB,MAAMsO,oCAAoCF,sBACtCx1B,cACI8P,QACA,MAAM6lB,EAAQ3F,SAASlxB,KAAKM,aAAa,UAAY,IAAK,IAC1D,GAAIu2B,EAAQ,GAAKA,EAAQ,EACrB,OAEJ,MAAMxkB,EAAY,IAAIykB,OAAOD,GAAd,IACfJ,GAAOl1B,IAAIvB,KAAM,CACbqS,OAAAA,KAIP5P,OAAOC,eAAe5B,IAAI,eAC3B2B,OAAOm0B,4BAA8BA,4BACrCn0B,OAAOC,eAAeC,OAAO,YAAai0B,8BAE9C,MAAMG,kCAAkCL,sBACpCx1B,cACI8P,QACAylB,GAAOl1B,IAAIvB,KAAM,CAAEqS,OAAQ,KAAMxF,OAAQ,KAAMmqB,WAAW,IAE9D91B,oBACI8P,MAAMjR,oBACNC,KAAKoB,aAAa,SAAU,MAG/BqB,OAAOC,eAAe5B,IAAI,aAC3B2B,OAAOs0B,0BAA4BA,0BACnCt0B,OAAOC,eAAeC,OAAO,UAAWo0B,4BAE5C,MAAME,oCAAoCP,sBACtCx1B,cACI8P,QACAylB,GAAOl1B,IAAIvB,KAAM,CAAEqS,OAAQ,IAAKxF,OAAQ,IAAKmqB,WAAW,IAE5D91B,oBACI8P,MAAMjR,oBACNC,KAAKoB,aAAa,SAAU,MAG/BqB,OAAOC,eAAe5B,IAAI,eAC3B2B,OAAOw0B,4BAA8BA,4BACrCx0B,OAAOC,eAAeC,OAAO,YAAas0B,8BAE9C,MAAMC,mCAAmCR,sBACrCx1B,cACI8P,QACAylB,GAAOl1B,IAAIvB,KAAM,CAAEqS,OAAQ,KAAM8kB,WAAW,EAAMC,sBAAsB,KAG3E30B,OAAOC,eAAe5B,IAAI,cAC3B2B,OAAOy0B,2BAA6BA,2BACpCz0B,OAAOC,eAAeC,OAAO,WAAYu0B,6BAE7C,MAAMG,kCAAkCX,sBACpCx1B,cACI8P,QACAylB,GAAOl1B,IAAIvB,KAAM,CAAEqS,OAAQ,IAAKxF,OAAQ,IAAKyqB,YAAa,MAAOC,YAAa,QAElFr2B,oBACI8P,MAAMjR,oBACNC,KAAKoB,aAAa,SAAU,MAG/BqB,OAAOC,eAAe5B,IAAI,aAC3B2B,OAAO40B,0BAA4BA,0BACnC50B,OAAOC,eAAeC,OAAO,UAAW00B,4BAE5C,MAAMG,kCAAkCd,sBACpCx1B,cACI8P,QACAylB,GAAOl1B,IAAIvB,KAAM,CAAEqS,OAAQ,IAAKxF,OAAQ,SAAU4qB,YAAa,MAAOC,QAAS,cAEnFx2B,oBACI8P,MAAMjR,oBACNC,KAAKoB,aAAa,SAAU,MAG/BqB,OAAOC,eAAe5B,IAAI,aAC3B2B,OAAO+0B,0BAA4BA,0BACnC/0B,OAAOC,eAAeC,OAAO,UAAW60B,4BAE5C,MAAMG,mCAAmCjB,sBACrCx1B,cACI8P,QACAylB,GAAOl1B,IAAIvB,KAAM,CAAEqS,OAAQ,KAAMxF,OAAQ,SAAU4qB,YAAa,MAAOC,QAAS,eAGnFj1B,OAAOC,eAAe5B,IAAI,cAC3B2B,OAAOk1B,2BAA6BA,2BACpCl1B,OAAOC,eAAeC,OAAO,WAAYg1B,6BAE7C,MAAMC,2CAA2ClB,sBAC7Cx1B,cACI8P,QACAylB,GAAOl1B,IAAIvB,KAAM,CAAEqS,OAAQ,KAAM8kB,WAAW,EAAMC,sBAAsB,KAG3E30B,OAAOC,eAAe5B,IAAI,uBAC3B2B,OAAOm1B,mCAAqCA,mCAC5Cn1B,OAAOC,eAAeC,OAAO,oBAAqBi1B,qCAEtD,MAAMC,yCAAyCnB,sBAC3Cx1B,cACI8P,QACAylB,GAAOl1B,IAAIvB,KAAM,CAAEqS,OAAQ,MAAO8kB,WAAW,EAAMW,aAAa,KAGnEr1B,OAAOC,eAAe5B,IAAI,qBAC3B2B,OAAOo1B,iCAAmCA,iCAC1Cp1B,OAAOC,eAAeC,OAAO,kBAAmBk1B,mCAEpD,MAAME,sCAAsCrB,sBACxCx1B,cACI8P,QACAylB,GAAOl1B,IAAIvB,KAAM,CAAEqS,OAAQ,SAAU8kB,WAAW,EAAMC,sBAAsB,IAEhFl2B,oBACI8P,MAAMjR,oBACNC,KAAKoB,aAAa,SAAU,MAG/BqB,OAAOC,eAAe5B,IAAI,kBAC3B2B,OAAOs1B,8BAAgCA,8BACvCt1B,OAAOC,eAAeC,OAAO,eAAgBo1B,gCAEjD,MAAMC,qCAAqCtB,sBACvCx1B,cACI8P,QACAylB,GAAOl1B,IAAIvB,KAAM,CAAEqS,OAAQ,IAAK4lB,aAAa,KAGhDx1B,OAAOC,eAAe5B,IAAI,gBAC3B2B,OAAOu1B,6BAA+BA,6BACtCv1B,OAAOC,eAAeC,OAAO,aAAcq1B,+BAE/C,MAAME,iCAAiCxB,sBACnCx1B,cACI8P,QACAylB,GAAOl1B,IAAIvB,KAAM,CAAEqS,OAAQ,IAAK4lB,aAAa,KAGhDx1B,OAAOC,eAAe5B,IAAI,YAC3B2B,OAAOy1B,yBAA2BA,yBAClCz1B,OAAOC,eAAeC,OAAO,SAAUu1B,2BAE3C,MAAMC,2CAA2CzB,sBAC7Cx1B,cACI8P,QACAylB,GAAOl1B,IAAIvB,KAAM,CAAEqS,OAAQ,KAAMxF,OAAQ,KAAMmqB,WAAW,KAG7Dv0B,OAAOC,eAAe5B,IAAI,sBAC3B2B,OAAO01B,mCAAqCA,mCAC5C11B,OAAOC,eAAeC,OAAO,mBAAoBw1B,qCAErD,MAAMC,GAAc1Q,UAAUqD,UAAUxe,MAAM,aAAe,OAAS,UACtE,MAAM8rB,+BAA+BhgB,YACjCnX,cACI8P,QAEJ9P,oBACSlB,KAAKsB,aAAa,SACnBtB,KAAKoB,aAAa,OAAQ,WAE9BpB,KAAKP,iBAAiB,UAAW64B,IACjC,MAAMz9B,EAAK09B,GAASv2B,KAAK,KAAMhC,MAC3BA,KAAKlD,QACLkD,KAAKlD,MAAM2C,iBAAiB,UAAW5E,GACvC29B,GAAkBj3B,IAAIvB,KAAMnF,IAEhCmF,KAAKoB,aAAa,WAAY,KAC9BpB,KAAKP,iBAAiB,QAASg5B,GAAgB,CAAE3mB,MAAM,IAE3D5Q,uBACI,MAAMrG,EAAK29B,GAAkB13B,IAAId,MAC7BnF,GAAMmF,KAAKlD,QACXkD,KAAKlD,MAAMqJ,oBAAoB,UAAWtL,GAC1C29B,GAAkBtxB,OAAOlH,OAE7BA,KAAKmG,oBAAoB,UAAWmyB,IAExCx7B,YACI,MAAMzB,EAAK2E,KAAKM,aAAa,OAC7B,IAAKjF,EACD,OAAO,KACX,MAAM2jB,EAAO,gBAAiBhf,KAAOA,KAAKqf,cAAgBziB,SAC1D,IAAIE,EAIJ,OAHIkiB,aAAgB+J,UAAY/J,aAAgBM,cAC5CxiB,EAAQkiB,EAAKjiB,eAAe1B,IAEzByB,aAAiBG,oBAAsBH,EAAQ,MAG9D,SAAS27B,IAAev9B,OAAEA,IACtB,KAAMA,aAAkByJ,SACpB,OACJzJ,EAAO2Q,gBAAgB,YACvB,IAAI6sB,EAAW,IACf,IAAK,MAAM7P,KAAU0N,GAAWr7B,GAC5B2tB,EAAOznB,aAAa,WAAYs3B,GACf,MAAbA,IACA7P,EAAO3P,QACPwf,EAAW,MAIvB,SAASJ,GAAat9B,GAClB,MAAMQ,EAAMR,EAAMQ,IAClB,GAAY,eAARA,GAAgC,cAARA,GAA+B,SAARA,GAA0B,QAARA,EACjE,OACJ,MAAMg7B,EAAUx7B,EAAMikB,cACtB,KAAMuX,aAAmBne,aACrB,OACJ,MAAMsgB,EAAUpC,GAAWC,GACrBtrB,EAAQytB,EAAQxzB,QAAQnK,EAAME,QAC9ByC,EAASg7B,EAAQh7B,OACvB,IAAe,IAAXuN,EACA,OACJ,IAAIlB,EAAI,EACI,cAARxO,IACAwO,EAAIkB,EAAQ,GACJ,eAAR1P,IACAwO,EAAIkB,EAAQ,GACJ,QAAR1P,IACAwO,EAAIrM,EAAS,GACbqM,EAAI,IACJA,EAAIrM,EAAS,GACbqM,EAAIrM,EAAS,IACbqM,EAAI,GACR,IAAK,IAAIjL,EAAI,EAAGA,EAAIpB,EAAQoB,GAAK,EAC7B45B,EAAQ55B,GAAGqC,aAAa,WAAYrC,IAAMiL,EAAI,IAAM,MAExDhP,EAAMqe,iBACNsf,EAAQ3uB,GAAGkP,QAEf,MAAMsf,GAAoB,IAAIjvB,QAS9B,SAASgvB,GAAS/B,EAASx7B,GACvB,GAAKA,EAAM4d,SAA2B,SAAhBwf,IAA4Bp9B,EAAM0d,SAA2B,YAAhB0f,GAA4B,CAC3F,MACMvP,EAXd,SAAoB2N,EAASh7B,GACzB,IAAK,MAAM2B,KAAMq5B,EAAQl5B,iBAAiB,YACtC,GAAIH,EAAGmD,aAAa,YAAc9E,EAC9B,OAAO2B,EAGf,OAAO,KAKYy7B,CAAWpC,EADdx7B,EAAMmJ,SAAWnJ,EAAMQ,IAAI4Y,cAAgBpZ,EAAMQ,KAEzDqtB,IACAA,EAAO1P,QACPne,EAAMqe,mBAQlB,SAASwf,GAAgBC,GACrB,OAAOA,EAAOpZ,OAAO/Y,MAAM,MAAMhJ,OAAS,EAE9C,SAASm5B,GAAOgC,EAAQ9uB,GACpB,OAAOjF,MAAMiF,EAAI,GAAG0I,KAAKomB,GAS7B,SAASC,GAAiB5pB,EAAMpQ,EAAGo4B,GAC/B,IAAIjsB,EAAQnM,EACZ,MAAMi6B,EAAa7B,EAAY,KAAO,KACtC,KAAOhoB,EAAKjE,KAAWiE,EAAKjE,GAAOqB,MAAMysB,IACrC9tB,IAEJ,OAAOA,EAvBNzI,OAAOC,eAAe5B,IAAI,sBAC3B2B,OAAO41B,uBAAyBA,uBAChC51B,OAAOC,eAAeC,OAAO,mBAAoB01B,yBAuBrD,IAAIY,GAAgB,KAuCpB,SAASC,GAAkBC,EAAUC,GACjC,MAAMjqB,EAAOgqB,EAASj9B,MAAMmJ,MAAM8zB,EAASE,eAAgBF,EAASG,cACpE,IAAIx7B,EAEAA,EADAs7B,EAAUtB,YA2IlB,SAAqBqB,GACjB,MAAMI,EAAmB,YACnBC,EAAqBL,EAASE,iBAAmBF,EAASG,aAChE,IAAIA,EACAD,EAIAI,EAAaC,EAHbvqB,EAAOgqB,EAASj9B,MAAMmJ,MAAM8zB,EAASE,eAAgBF,EAASG,cAC9DK,EAAgBxqB,EAChByqB,EAAQzqB,EAAKxI,MAAM,MAEvB,GAAI6yB,EAAoB,CACpB,MAAMK,EAAcV,EAASj9B,MAAMmJ,MAAM,EAAG8zB,EAASE,gBAAgB1yB,MAAM,MAC3E8yB,EAAcN,EAASE,eAAiBQ,EAAYA,EAAYl8B,OAAS,GAAGA,OAC5E+7B,EAAYX,GAAiBI,EAASj9B,MAAOi9B,EAASE,gBAAgB,GACtEM,EAAgBR,EAASj9B,MAAMmJ,MAAMo0B,EAAaC,GAEtD,MAAMI,EAAiBH,EAAchzB,MAAM,MAE3C,GADoBmzB,EAAeC,OAAMzyB,GAAQiyB,EAAiBvL,KAAK1mB,MAInE,GAFAsyB,EAAQE,EAAep8B,KAAI4J,GAAQA,EAAK/E,QAAQg3B,EAAkB,MAClEpqB,EAAOyqB,EAAMlnB,KAAK,MACd8mB,GAAsBC,GAAeC,EAAW,CAChD,MAAMM,EAAaF,EAAe,GAAGn8B,OAASi8B,EAAM,GAAGj8B,OACvD07B,EAAiBC,EAAeH,EAASE,eAAiBW,EAC1Db,EAASE,eAAiBI,EAC1BN,EAASG,aAAeI,OAG3B,CACDE,EAWR,SAAuBA,GACnB,IAAI76B,EACA+V,EACA5J,EACJ,MAAM+K,EAAU,GAChB,IAAK/K,EAAQnM,EAAI,EAAG+V,EAAM8kB,EAAMj8B,OAAQoB,EAAI+V,EAAK5J,IAAUnM,EAAG,CAC1D,MAAMuI,EAAOsyB,EAAM1uB,GACnB+K,EAAQlb,KAAK,GAAGmQ,EAAQ,MAAM5D,KAElC,OAAO2O,EApBKgkB,CAAcL,GACtBzqB,EAAOyqB,EAAMlnB,KAAK,MAClB,MAAMwnB,iBAAEA,EAAgBC,kBAAEA,GAAsBC,GAA+BjB,GAC/EE,EAAiBF,EAASE,eAAiBa,EAAiBv8B,OAC5D27B,EAAeD,EAAiBlqB,EAAKxR,OACjC67B,IACAH,EAAiBC,GACrBnqB,EAAO+qB,EAAmB/qB,EAAOgrB,EAErC,MAAO,CAAEhrB,KAAAA,EAAMkqB,eAAAA,EAAgBC,aAAAA,GA/KlBxB,CAAYqB,GAEhBC,EAAUjC,WAAa0B,GAAgB1pB,GAkHpD,SAAwBgqB,EAAUkB,GAC9B,MAAMhoB,OAAEA,EAAMxF,OAAEA,EAAMuqB,qBAAEA,GAAyBiD,EACjD,IAAIlrB,EAAOgqB,EAASj9B,MAAMmJ,MAAM8zB,EAASE,eAAgBF,EAASG,cAC9DD,EAAiBF,EAASE,eAC1BC,EAAeH,EAASG,aAC5B,MAAMM,EAAQzqB,EAAKxI,MAAM,MAEzB,GADkBizB,EAAMG,OAAMzyB,GAAQA,EAAKmR,WAAWpG,IAAW/K,EAAKkE,SAASqB,KAE3EsC,EAAOyqB,EAAMl8B,KAAI4J,GAAQA,EAAKjC,MAAMgN,EAAO1U,OAAQ2J,EAAK3J,OAASkP,EAAOlP,UAAS+U,KAAK,MACtF4mB,EAAeD,EAAiBlqB,EAAKxR,YAIrC,GADAwR,EAAOyqB,EAAMl8B,KAAI4J,GAAQ+K,EAAS/K,EAAOuF,IAAQ6F,KAAK,MAClD0kB,EAAsB,CACtB,MAAM8C,iBAAEA,EAAgBC,kBAAEA,GAAsBC,GAA+BjB,GAC/EE,GAAkBa,EAAiBv8B,OACnC27B,EAAeD,EAAiBlqB,EAAKxR,OACrCwR,EAAO+qB,EAAmB/qB,EAAOgrB,EAGzC,MAAO,CAAEhrB,KAAAA,EAAMkqB,eAAAA,EAAgBC,aAAAA,GArIlBgB,CAAenB,EAAUC,GA+C1C,SAAoBD,EAAUkB,GAC1B,IAAIH,EACAC,EACJ,MAAM9nB,OAAEA,EAAMxF,OAAEA,EAAMyqB,YAAEA,EAAWC,YAAEA,EAAWE,YAAEA,EAAWQ,YAAEA,EAAWP,QAAEA,EAAON,qBAAEA,GAAyBiD,EACxGE,EAAyBpB,EAASE,eAClCmB,EAAuBrB,EAASG,aACtC,IAAImB,EAAetB,EAASj9B,MAAMmJ,MAAM8zB,EAASE,eAAgBF,EAASG,cACtEoB,EAAc7B,GAAgB4B,IAAiBnD,EAAY35B,OAAS,EAAO25B,EAAH,KAAqBjlB,EAC7FsoB,EAAc9B,GAAgB4B,IAAiBlD,EAAY55B,OAAS,EAAI,KAAK45B,EAAgB1qB,EACjG,GAAIorB,EAAa,CACb,MAAM2C,EAAkBzB,EAASj9B,MAAMi9B,EAASE,eAAiB,GACjC,IAA5BF,EAASE,gBAA2C,MAAnBuB,GAA4BA,EAAgBruB,MAAM,QACnFmuB,EAAc,IAAIA,GAG1BD,EAvDJ,SAA4BtB,EAAUuB,EAAaC,EAAaxD,GAAY,GACxE,GAAIgC,EAASE,iBAAmBF,EAASG,aACrCH,EAASE,eAtEjB,SAA4BlqB,EAAMpQ,GAC9B,IAAImM,EAAQnM,EACZ,KAAOoQ,EAAKjE,IAA6B,MAAnBiE,EAAKjE,EAAQ,KAAeiE,EAAKjE,EAAQ,GAAGqB,MAAM,OACpErB,IAEJ,OAAOA,EAiEuB2vB,CAAmB1B,EAASj9B,MAAOi9B,EAASE,gBACtEF,EAASG,aAAeP,GAAiBI,EAASj9B,MAAOi9B,EAASG,aAAcnC,OAE/E,CACD,MAAM2D,EAAyB3B,EAASE,eAAiBqB,EAAY/8B,OAC/Do9B,EAAuB5B,EAASG,aAAeqB,EAAYh9B,OAC3Dq9B,EAAmB7B,EAASj9B,MAAMmJ,MAAMy1B,EAAwB3B,EAASE,kBAAoBqB,EAC7FO,EAAiB9B,EAASj9B,MAAMmJ,MAAM8zB,EAASG,aAAcyB,KAA0BJ,EACzFK,GAAoBC,IACpB9B,EAASE,eAAiByB,EAC1B3B,EAASG,aAAeyB,GAGhC,OAAO5B,EAASj9B,MAAMmJ,MAAM8zB,EAASE,eAAgBF,EAASG,cAwC/C4B,CAAmB/B,EAAUuB,EAAaC,EAAaN,EAAIlD,WAC1E,IAAIkC,EAAiBF,EAASE,eAC1BC,EAAeH,EAASG,aAC5B,MAAM6B,EAAiB1D,EAAY95B,OAAS,GAAKg9B,EAAYx1B,QAAQsyB,IAAgB,GAAKgD,EAAa98B,OAAS,EAChH,GAAIy5B,EAAsB,CACtB,MAAMvnB,EAAMuqB,GAA+BjB,GAC3Ce,EAAmBrqB,EAAIqqB,iBACvBC,EAAoBtqB,EAAIsqB,kBACxBO,EAAcR,EAAmB7nB,EACjCsoB,GAAeR,EAEnB,GAAIM,EAAahiB,WAAWiiB,IAAgBD,EAAajvB,SAASmvB,GAAc,CAC5E,MAAMS,EAAkBX,EAAap1B,MAAMq1B,EAAY/8B,OAAQ88B,EAAa98B,OAASg9B,EAAYh9B,QACjG,GAAI48B,IAA2BC,EAAsB,CACjD,IAAI/R,EAAW8R,EAAyBG,EAAY/8B,OACpD8qB,EAAWle,KAAKkqB,IAAIhM,EAAU4Q,GAC9B5Q,EAAWle,KAAKiqB,IAAI/L,EAAU4Q,EAAiB+B,EAAgBz9B,QAC/D07B,EAAiBC,EAAe7Q,OAGhC6Q,EAAeD,EAAiB+B,EAAgBz9B,OAEpD,MAAO,CAAEwR,KAAMisB,EAAiB/B,eAAAA,EAAgBC,aAAAA,GAE/C,GAAK6B,EAcL,CAAA,GAAIzD,EAAQ/5B,OAAS,GAAK88B,EAAaluB,MAAMmrB,GAAU,CACxDiD,EAAcA,EAAYp4B,QAAQk1B,EAAagD,GAC/C,MAAMW,EAAkBV,EAAcC,EAEtC,OADAtB,EAAiBC,EAAeD,EAAiBqB,EAAY/8B,OACtD,CAAEwR,KAAMisB,EAAiB/B,eAAAA,EAAgBC,aAAAA,GAE/C,CACD,MAAM8B,EAAkBV,EAAcD,EAAeE,EAGrD,OAFAtB,EAAiBA,EAAiBqB,EAAY/8B,OAAS88B,EAAa98B,OAASg9B,EAAYx1B,QAAQsyB,GACjG6B,EAAeD,EAAiB5B,EAAY95B,OACrC,CAAEwR,KAAMisB,EAAiB/B,eAAAA,EAAgBC,aAAAA,IAxB1B,CACtB,IAAI8B,EAAkBV,EAAcD,EAAeE,EACnDtB,EAAiBkB,EAAyBG,EAAY/8B,OACtD27B,EAAekB,EAAuBE,EAAY/8B,OAClD,MAAM09B,EAAkBZ,EAAaluB,MAAM,cAC3C,GAAI8tB,EAAIrD,WAAaqE,EAAiB,CAClC,MAAMC,EAAoBD,EAAgB,IAAM,GAC1CE,EAAqBF,EAAgB,IAAM,GACjDD,EAAkBE,EAAoBZ,EAAcD,EAAa/a,OAASib,EAAcY,EACxFlC,GAAkBiC,EAAkB39B,OACpC27B,GAAgBiC,EAAmB59B,OAEvC,MAAO,CAAEwR,KAAMisB,EAAiB/B,eAAAA,EAAgBC,aAAAA,IA/FvCkC,CAAWrC,EAAUC,GAhDtC,SAAoBD,GAAUhqB,KAAEA,EAAIkqB,eAAEA,EAAcC,aAAEA,IAClD,MAAMiB,EAAyBpB,EAASE,eAClC1iB,EAASwiB,EAASj9B,MAAMmJ,MAAM,EAAGk1B,GACjCkB,EAAQtC,EAASj9B,MAAMmJ,MAAM8zB,EAASG,cAC5C,GAAsB,OAAlBL,KAA4C,IAAlBA,GAAwB,CAClDE,EAASuC,gBAAkB,OAC3B,IACIzC,GAAgBr8B,SAASwrB,YAAY,cAAc,EAAOjZ,GAE9D,MAAOiL,GACH6e,IAAgB,EAEpBE,EAASuC,gBAAkB,QAK/B,GAHIzC,KAAkBE,EAASj9B,MAAMmJ,MAAM,EAAG8zB,EAASE,gBAAgB7tB,SAAS2D,KAC5E8pB,IAAgB,IAEfA,GAAe,CAChB,IACIr8B,SAASwrB,YAAY,oBAEzB,MAAO3W,KAEP0nB,EAASj9B,MAAQya,EAASxH,EAAOssB,EACjC,IACI7+B,SAASwrB,YAAY,kBAEzB,MAAO3W,KAEP0nB,EAASt8B,cAAc,IAAIP,YAAY,QAAS,CAAEC,SAAS,EAAMC,YAAY,KAE3D,MAAlB68B,GAA0C,MAAhBC,EAC1BH,EAASwC,kBAAkBtC,EAAgBC,GAG3CH,EAASwC,kBAAkBpB,EAAwBpB,EAASG,cAehEsC,CAAWzC,EAAUr7B,GAmBzB,SAASs8B,GAA+BjB,GACpC,MAAMyB,EAAkBzB,EAASj9B,MAAMmJ,MAAM,EAAG8zB,EAASE,gBACnDwC,EAAiB1C,EAASj9B,MAAMmJ,MAAM8zB,EAASG,cAC/CwC,EAAelB,EAAgBruB,MAAM,QACrCwvB,EAAcF,EAAetvB,MAAM,QACnCyvB,EAA0BF,EAAeA,EAAa,GAAGn+B,OAAS,EAClEs+B,EAAyBF,EAAcA,EAAY,GAAGp+B,OAAS,EACrE,IAAIu8B,EACAC,EAaJ,OAZIS,EAAgBruB,MAAM,OAASyvB,EAA0B,IACzD9B,EAAmBpD,GAAO,KAAM,EAAIkF,IAEpCH,EAAetvB,MAAM,OAAS0vB,EAAyB,IACvD9B,EAAoBrD,GAAO,KAAM,EAAImF,IAEjB,MAApB/B,IACAA,EAAmB,IAEE,MAArBC,IACAA,EAAoB,IAEjB,CAAED,iBAAAA,EAAkBC,kBAAAA,GA4I/B,SAASxD,GAAW9N,EAAQqT,GACxB,MAAM1F,EAAU3N,EAAOvlB,QAAQ,oBAC/B,KAAMkzB,aAAmB6B,wBACrB,OACJ,MAaM/P,EAAQ3pB,OAAOkU,OAAOlU,OAAOkU,OAAO,GAbzB,CACbR,OAAQ,GACRxF,OAAQ,GACRyqB,YAAa,GACbC,YAAa,GACbJ,WAAW,EACXM,YAAa,GACbQ,aAAa,EACbP,QAAS,GACTN,sBAAsB,EACtBU,aAAa,EACbd,WAAW,IAE0CkF,GACnDp/B,EAAQ05B,EAAQ15B,MAClBA,IACAA,EAAMoc,QACNggB,GAAkBp8B,EAAOwrB,IChlBjC,MAAMlC,GAAS,IAAI7c,QACnB,MAAM4yB,2BAA2B9jB,YAC7BnX,cACI8P,QACA,MAAMkS,EAAQkZ,GAAap6B,KAAK,KAAMhC,MAAM,GACtC+f,EAAQ,CAAEqO,aAAc,KAAMiO,QAASvb,GAASoC,GAAQA,MAAAA,EAAOxhB,WAAY,MACjF0kB,GAAO7kB,IAAIvB,KAAM+f,GAErB7d,gCACI,MAAO,CAAC,OAEZhB,yBAAyBjC,EAAMwvB,GACvBA,GAAqB,QAATxvB,GACZm9B,GAAap8B,MAAM,GAG3BkB,oBACI,MAAMoD,EAAQtE,KAAKsE,MACnB,IAAKA,EACD,OACJA,EAAMlD,aAAa,eAAgB,OACnCkD,EAAMlD,aAAa,aAAc,SACjC,MAAM2e,EAAQqG,GAAOtlB,IAAId,MACpB+f,IAELzb,EAAM7E,iBAAiB,QAASsgB,EAAMmD,OACtC5e,EAAM7E,iBAAiB,SAAUsgB,EAAMmD,OACvC5e,EAAM7E,iBAAiB,QAASsgB,EAAMsc,UAE1Cn7B,uBACI,MAAMoD,EAAQtE,KAAKsE,MACnB,IAAKA,EACD,OACJ,MAAMyb,EAAQqG,GAAOtlB,IAAId,MACpB+f,IAELzb,EAAM6B,oBAAoB,QAAS4Z,EAAMmD,OACzC5e,EAAM6B,oBAAoB,SAAU4Z,EAAMmD,OAC1C5e,EAAM6B,oBAAoB,QAAS4Z,EAAMsc,UAE7C/3B,YACI,MAAMA,EAAQtE,KAAKuF,cAAc,mBACjC,OAAOjB,aAAiBtH,kBAAoBsH,aAAiBrH,oBAAsBqH,EAAQ,KAE/FyhB,UACI,OAAO/lB,KAAKM,aAAa,QAAU,GAEvCylB,QAAQtE,GACJzhB,KAAKoB,aAAa,MAAOqgB,IASjCc,eAAe6Z,GAAaE,EAAa3N,GACrC,MAAMrqB,EAAQg4B,EAAYh4B,MAC1B,IAAKA,EACD,OACJ,MAAMyb,EAAQqG,GAAOtlB,IAAIw7B,GACzB,IAAKvc,EACD,OACJ,MAAM6O,EAAQtqB,EAAMpI,MACpB,GAAIyyB,GAAqB5O,EAAMqO,eAAiBQ,EAC5C,OACJ7O,EAAMqO,aAAeQ,EACrB,MAAM7I,EAAMuW,EAAYvW,IACxB,IAAKA,EACD,OACJ,MAAMwW,EAAmB3/B,SAASG,eAAeu/B,EAAYh8B,aAAa,cAAgB,IAC1F,IAAKi8B,EACD,OACJ,MAAM9a,EAAM,IAAI+a,IAAIzW,EAAKtjB,OAAOg6B,SAAS3V,MACnChF,EAAS,IAAIC,gBAAgBN,EAAIib,QAWvC,IAAIzb,EAVJa,EAAOvhB,OAAO+7B,EAAYh8B,aAAa,UAAY,IAAKsuB,GACxDnN,EAAIib,OAAS5a,EAAO7b,WAChB8Z,EAAMre,WACNqe,EAAMre,WAAW6c,SAGjB+d,EAAYz/B,cAAc,IAAIP,YAAY,cAC1CggC,EAAYl7B,aAAa,UAAW,KAExC2e,EAAMre,WAjCF,oBAAqBe,OACd,IAAI0kB,gBAER,CAAEC,OAAQ,KAAMlmB,WAgCvB,IAAI+M,EAAO,GACX,IACIgT,QAwBRsB,eAAsCplB,EAAIskB,EAAKnmB,GAC3C,IACI,MAAM2lB,QAAiBiC,MAAMzB,EAAKnmB,GAGlC,OAFA6B,EAAGN,cAAc,IAAIP,YAAY,SACjCa,EAAGN,cAAc,IAAIP,YAAY,YAC1B2kB,EAEX,MAAO7G,GAKH,KAJmB,eAAfA,EAAMnb,OACN9B,EAAGN,cAAc,IAAIP,YAAY,UACjCa,EAAGN,cAAc,IAAIP,YAAY,aAE/B8d,GApCWiN,CAAuBiV,EAAa7a,EAAIxb,WAAY,CACjEmhB,OAAQrH,EAAMre,WAAW0lB,OACzBjE,YAAa,cACbzB,QAAS,CAAEqR,OAAQ,wBAEvB9kB,QAAagT,EAAS9R,OACtBmtB,EAAYzwB,gBAAgB,WAC5BkU,EAAMre,WAAa,KAEvB,MAAO0Y,GAKH,YAJmB,eAAfA,EAAMnb,OACNq9B,EAAYzwB,gBAAgB,WAC5BkU,EAAMre,WAAa,OAIvBuf,GAAYA,EAASuC,IACrB+Y,EAAiB/tB,UAAYP,EAC7BquB,EAAYz/B,cAAc,IAAIP,YAAY,uBAAwB,CAAEC,SAAS,MAG7E+/B,EAAYz/B,cAAc,IAAIP,YAAY,qBAAsB,CAAEC,SAAS,KAkBnF,SAASukB,GAAStH,GACd,IAAI8U,EACJ,OAAO,WACHtV,aAAasV,GACbA,EAAUnzB,YAAW,KACjB6d,aAAasV,GACb9U,MACD,gCAIN/W,OAAOC,eAAe5B,IAAI,kBAC3B2B,OAAO05B,mBAAqBA,mBAC5B15B,OAAOC,eAAeC,OAAO,eAAgBw5B,qBC7IjD,MAAMQ,GAAe,IAAIpzB,QACzB,IAAIwW,GAAQ,KAuBZ,SAAS6c,GAAgBC,EAAOC,GAC5B,OAAOD,EAAMv5B,QAAQ,gBAAkBw5B,EAAMx5B,QAAQ,cAEzD,SAASy5B,GAAY/hC,GACjB,GAAIA,EAAMikB,gBAAkBjkB,EAAME,OAC9B,OACJ,MAAMA,EAASF,EAAMikB,cACrB,KAAM/jB,aAAkByJ,SACpB,OACJ,MAAMq4B,EAAa9hC,EAAOoI,QAAQ,uBAClC,IAAK05B,EACD,OAKJ,GAJA9hC,EAAOw3B,UAAU/yB,IAAI,YACjB3E,EAAM2yB,cACN3yB,EAAM2yB,aAAasP,QAAQ,cAAe/hC,EAAO8K,aAAe,IAAI0Z,SAEnExkB,EAAOiF,cACR,OACJ,MAAM+8B,EAAWn4B,MAAMC,KAAK9J,EAAOiF,cAAcqG,UAC3C22B,EAAcD,EAAS/3B,QAAQjK,GAC/B+I,EAAW04B,GAAa77B,IAAI5F,GAC9B+I,GACAA,EAASm5B,YAAYJ,GAEzBjd,GAAQ,CACJsd,SAAS,EACT3P,SAAUxyB,EACVoiC,SAAUpiC,EACV8hC,WAAAA,EACAO,cAAeL,EAASC,EAAc,IAAM,KAC5CA,YAAAA,GAGR,SAASK,GAAYxiC,GACjB,IAAK+kB,GACD,OACJ,MAAMud,EAAWtiC,EAAMikB,cACjBqe,aAAoB34B,UAErBi4B,GAAgB7c,GAAM2N,SAAU4P,IAIrCtiC,EAAMqe,iBACFre,EAAM2yB,eACN3yB,EAAM2yB,aAAaC,WAAa,QAEhC7N,GAAMud,WAAaA,IAEvBvd,GAAM2N,SAASgF,UAAU/yB,IAAI,eAC7BogB,GAAMud,SAAWA,GA7DrB,SAAkBT,EAAOC,GACrB,GAAID,EAAM1wB,aAAe2wB,EAAM3wB,WAAY,CACvC,IAAIf,EAAOyxB,EACX,KAAOzxB,GAAM,CACT,GAAIA,IAAS0xB,EACT,OAAO,EACX1xB,EAAOA,EAAKqyB,wBAGpB,OAAO,EAqDHC,CAAS3d,GAAM2N,SAAU4P,GAIzBA,EAAS7B,MAAM1b,GAAM2N,UAHrB4P,EAAS3mB,OAAOoJ,GAAM2N,YAZtB1yB,EAAMqpB,mBAkBd,SAAS8I,GAAOnyB,GACZ,IAAK+kB,GACD,OACJ/kB,EAAMqe,iBACNre,EAAMqpB,kBACN,MAAMiZ,EAAWtiC,EAAMikB,cACvB,KAAMqe,aAAoB34B,SACtB,OAEJ,GADAob,GAAMsd,SAAU,GACXtd,GAAM2N,SAASvtB,cAChB,OACJ,IAAIw9B,EAAW54B,MAAMC,KAAK+a,GAAM2N,SAASvtB,cAAcqG,UAAUrB,QAAQ4a,GAAM2N,UAC/E,MAAMkQ,EAAcN,EAASh6B,QAAQ,uBACrC,IAAKs6B,EACD,OACJ,GAAI7d,GAAMod,cAAgBQ,GAAY5d,GAAMid,aAAeY,EACvD,OACA7d,GAAMid,aAAeY,GAAe7d,GAAMod,YAAcQ,GACxDA,IAEJ,MAAM5X,EAAM,CAAE8I,KAAM9O,GAAMid,WAAY9xB,MAAO6U,GAAMod,aAC7CU,EAAM,CAAEhP,KAAM+O,EAAa1yB,MAAOyyB,GAClC15B,EAAW04B,GAAa77B,IAAIif,GAAM2N,UACpCzpB,GACAA,EAAS65B,aAAa,CAAE/X,IAAAA,EAAK8X,IAAAA,IAGrC,SAASE,KACAhe,KAELA,GAAM2N,SAASgF,UAAUjd,OAAO,eAChCsK,GAAM2N,SAASgF,UAAUjd,OAAO,YAC3BsK,GAAMsd,SACPtd,GAAMid,WAAWvwB,aAAasT,GAAM2N,SAAU3N,GAAMwd,eAExDxd,GAAQ,MAEZ,SAASie,GAAWhjC,GAChB,IAAK+kB,GACD,OACJ,MAAMud,EAAWtiC,EAAMikB,cACjBqe,aAAoB34B,UAErBi4B,GAAgB7c,GAAM2N,SAAU4P,IAIrCtiC,EAAMqe,iBACFre,EAAM2yB,eACN3yB,EAAM2yB,aAAaC,WAAa,SALhC5yB,EAAMqpB,mBASd,MAAMzM,GAAY,IAAIrO,QACtB,MAAM00B,yBAAyB5lB,YAC3BnX,cACI8P,QACAhR,KAAKP,iBAAiB,UAAWzE,IAC7B,MAAM0K,EAAW1K,EAAME,OACjBwK,aAAoB1I,kBAErB0I,EAASgtB,UAAUjO,SAAS,4BAEjCzkB,KAAKnD,cAAc,IAAIP,YAAY,mBAAoB,CACnDC,SAAS,EACTE,OAAQ,CACJgsB,SAAUA,GAAS/iB,GACnBnB,QAASmB,EAASnB,eAI9BqT,GAAUrW,IAAIvB,KAAM,IAAI+Z,iBAAiBmkB,GAAUl8B,KAAK,KAAMhC,QAElEkB,oBACI,MAAMoY,EAAW1B,GAAU9W,IAAId,MAC3BsZ,GACAA,EAAS3V,QAAQ3D,KAAM,CAAE+d,WAAW,EAAMC,SAAS,IAEvDkgB,GAAUl+B,MAEdkB,uBACI,MAAMoY,EAAW1B,GAAU9W,IAAId,MAC3BsZ,GACAA,EAAS6E,aAGjB4G,eACI,OAAO/kB,KAAKsB,aAAa,YAE7ByjB,aAAa7oB,GACLA,EACA8D,KAAKoB,aAAa,WAAY,IAG9BpB,KAAK6L,gBAAgB,YAG7BsyB,eACI,OAAOn+B,KAAKsB,aAAa,YAE7B68B,aAAajiC,GACLA,EACA8D,KAAKoB,aAAa,WAAY,IAG9BpB,KAAK6L,gBAAgB,YAG7B3J,gCACI,MAAO,CAAC,YAEZhB,yBAAyBjC,EAAMwvB,EAAUttB,GACrC,GAAIstB,IAAattB,EAEjB,OAAQlC,GACJ,IAAK,WACDm/B,GAAap+B,QAK7B,MAAMq+B,GAAiBzhC,SAAS2R,cAAc,YAC9C8vB,GAAe7vB,UAAY,mUAM3B,MAAMgX,GAAc,IAAIjc,QACxB,SAAS+0B,GAASnhC,GACd,GAAIqoB,GAAY1kB,IAAI3D,GAChB,OACJqoB,GAAYjkB,IAAIpE,GAAI,GACpB,MAAMohC,EAAkBphC,EAAGmG,QAAQ,cACnC,KAAMi7B,aAA2BN,kBAC7B,OACJ,GAAIM,EAAgBjhC,iBAAiB,mBAAmBK,QAAU,EAC9D,OACJ,MAAM2P,EAAW+wB,GAAe79B,QAAQC,WAAU,GAC5C+9B,EAASlxB,EAAS/H,cAAc,WAEtC,GADApI,EAAGshC,QAAQnxB,IACNkxB,EACD,MAAM,IAAIx7B,MAAM,oBACpBw7B,EAAO/+B,iBAAiB,aAAci/B,IACtCF,EAAO/+B,iBAAiB,aAAck/B,IA7N1C,SAAkBxhC,EAAIigC,EAAaU,GAC/BnB,GAAap7B,IAAIpE,EAAI,CAAEigC,YAAAA,EAAaU,aAAAA,IACpC3gC,EAAGsC,iBAAiB,YAAas9B,IACjC5/B,EAAGsC,iBAAiB,YAAa+9B,IACjCrgC,EAAGsC,iBAAiB,UAAWs+B,IAC/B5gC,EAAGsC,iBAAiB,OAAQ0tB,IAC5BhwB,EAAGsC,iBAAiB,WAAYu+B,IAwNhCG,CAAShhC,EAAIyhC,GAAaC,IAC1B1hC,EAAGsC,iBAAiB,aAAcq/B,IAClC3hC,EAAGsC,iBAAiB,aAAcs/B,IAEtC,SAASD,GAAoB9jC,GACzB,MAAM2V,EAAO3V,EAAMikB,cACnB,KAAMtO,aAAgBhM,SAClB,OACJ,MAAMkqB,EAAOle,EAAKrN,QAAQ,cACpBurB,aAAgBoP,kBAElBpP,EAAKsP,WAAatP,EAAK9J,UACvBpU,EAAK+hB,UAAU/yB,IAAI,WAG3B,SAASo/B,GAAmB/jC,GACxB,MAAM2V,EAAO3V,EAAMikB,cACbtO,aAAgBhM,SAEtBgM,EAAK+hB,UAAUjd,OAAO,WAE1B,SAASgT,GAAS/iB,GACd,MAAMmpB,EAAOmQ,GAASt5B,GACtB,IAAKmpB,EACD,MAAM,IAAI7rB,MAAM,iCACpB,MAAM2N,EAAOjL,EAASpC,QAAQ,mBACxB4H,EAAQyF,EAAO5L,MAAMC,KAAK6pB,EAAKroB,UAAUrB,QAAQwL,IAAS,EAChE,MAAO,CAACsuB,GAAUpQ,GAAO3jB,GAE7B,SAAS8zB,GAAS7hC,GACd,MAAM+O,EAAS/O,EAAGgD,cAClB,OAAO+L,EAASA,EAAO5I,QAAQ,uBAAyB,KAE5D,SAAS47B,GAAe/hC,GACpB,OAAO6hC,GAAS7hC,KAAQgiC,GAAahiC,GAEzC,SAASgiC,GAAa/zB,GAClB,MAAMyjB,EAAOmQ,GAAS5zB,GACtB,OAAOyjB,EAAOsQ,GAAatQ,IAASA,EAAO,KAE/C,SAASqP,GAAUrP,GACf,MAAM/C,EAAQ+C,EAAKvxB,iBAAiB,yCACpC,IAAK,MAAMH,KAAM2uB,EACToT,GAAe/hC,IACfmhC,GAASnhC,GAGjBihC,GAAavP,GAEjB,SAASuP,GAAavP,GAClB,IAAK,MAAM1xB,KAAM0xB,EAAKvxB,iBAAiB,mBACnCH,EAAGu1B,UAAUnN,OAAO,WAAYsJ,EAAK9J,UAEzC,IAAK,MAAM5nB,KAAM0xB,EAAKvxB,iBAAiB,4BAC/BH,aAAcH,mBACdG,EAAG4nB,SAAW8J,EAAK9J,UAI/B,SAASka,GAAUpQ,GACf,MAAM3qB,EAAY2qB,EAAKvrB,QAAQ,cAC/B,IAAKY,EACD,MAAM,IAAIlB,MAAM,oBACpB,OAAO+B,MAAMC,KAAKd,EAAU5G,iBAAiB,WAAW6H,QAAQ0pB,GAEpE,MAAMuQ,GAAgB,IAAI71B,QAC1B,SAASq1B,GAAYS,GACjB,MAAMn7B,EAAYm7B,EAAQ/7B,QAAQ,cAClC,IAAKY,EACD,MAAM,IAAIlB,MAAM,oBACpBo8B,GAAc79B,IAAI2C,EAAWa,MAAMC,KAAKd,EAAU5G,iBAAiB,YAEvE,SAASuhC,IAAS9Y,IAAEA,EAAG8X,IAAEA,IACrB,MAAM35B,EAAY6hB,EAAI8I,KAAKvrB,QAAQ,cACnC,IAAKY,EACD,OACJ,MAAMo7B,EAAQF,GAAct+B,IAAIoD,GAC3Bo7B,IAELF,GAAcl4B,OAAOhD,GACrBA,EAAUrH,cAAc,IAAIP,YAAY,kBAAmB,CACvDC,SAAS,EACTE,OAAQ,CACJspB,IAAK,CAACuZ,EAAMn6B,QAAQ4gB,EAAI8I,MAAO9I,EAAI7a,OACnC2yB,IAAK,CAACyB,EAAMn6B,QAAQ04B,EAAIhP,MAAOgP,EAAI3yB,YAI/C,SAASwzB,GAAkB1jC,GACvB,MAAME,EAASF,EAAMikB,cACrB,KAAM/jB,aAAkByJ,SACpB,OACJ,MAAMgM,EAAOzV,EAAOoI,QAAQ,mBAC5B,IAAKqN,EACD,OACJ,MAAMke,EAAOle,EAAKrN,QAAQ,cACpBurB,aAAgBoP,kBAElBpP,EAAKsP,WAAatP,EAAK9J,UACvBpU,EAAKvP,aAAa,YAAa,QAGvC,SAASu9B,GAAiB3jC,GACtB,GAvUS+kB,GAwUL,OACJ,MAAM7kB,EAASF,EAAMikB,cACrB,KAAM/jB,aAAkByJ,SACpB,OACJ,MAAMgM,EAAOzV,EAAOoI,QAAQ,mBACvBqN,GAELA,EAAKvP,aAAa,YAAa,SAG9BqB,OAAOC,eAAe5B,IAAI,gBAC3B2B,OAAOw7B,iBAAmBA,iBAC1Bx7B,OAAOC,eAAeC,OAAO,aAAcs7B,2CCvV/C,MAAMlU,KAAiBrC,UAAUqD,UAAUxe,MAAM,aAClC,MAAMgzB,SACjBr+B,YAAYoD,EAAOuqB,GACf7uB,KAAKsE,MAAQA,EACbtE,KAAK6uB,KAAOA,EACZ7uB,KAAK2pB,aAAc,EACdkF,EAAKxzB,KACNwzB,EAAKxzB,GAAK,YAAYkP,KAAKC,SACtBvE,WACAZ,MAAM,EAAG,IAElBrF,KAAKw/B,qBAAuBxkC,GAuEpC,SAA0BA,EAAOykC,GAC7B,GAAIzkC,EAAMmJ,UAAYnJ,EAAM4d,SAAW5d,EAAM2d,OACzC,OACJ,IAAKoR,IAAgB/uB,EAAM0d,QACvB,OACJ,GAAI+mB,EAAS9V,YACT,OACJ,OAAQ3uB,EAAMQ,KACV,IAAK,QACL,IAAK,OA4Cb,SAAgB8I,EAAOuqB,GACnB,MAAM3zB,EAAS2zB,EAAKtpB,cAAc,0BAClC,QAAKrK,IAEwC,SAAzCA,EAAOoF,aAAa,kBAExBpF,EAAOie,SADI,IAhDC9L,CAAOoyB,EAASn7B,MAAOm7B,EAAS5Q,OAChC7zB,EAAMqe,iBAEV,MACJ,IAAK,SACDomB,EAASC,iBACT,MACJ,IAAK,YACDD,EAASE,SAAS,GAClB3kC,EAAMqe,iBACN,MACJ,IAAK,UACDomB,EAASE,UAAU,GACnB3kC,EAAMqe,iBACN,MACJ,IAAK,IACG0Q,IAAgB/uB,EAAM0d,UACtB+mB,EAASE,SAAS,GAClB3kC,EAAMqe,kBAEV,MACJ,IAAK,IACG0Q,IAAgB/uB,EAAM0d,UACtB+mB,EAASE,UAAU,GACnB3kC,EAAMqe,kBAEV,MACJ,QACI,GAAIre,EAAM0d,QACN,MACJ+mB,EAASC,kBA/GwBE,CAAiB5kC,EAAOgF,MAC7DA,KAAK6/B,wBAA0B7kC,GA4IvC,SAA0BA,EAAOykC,GAC7BA,EAAS9V,YAA6B,qBAAf3uB,EAAM+Q,KAE7B,IADanP,SAASG,eAAe0iC,EAASn7B,MAAMhE,aAAa,kBAAoB,IAEjF,OACJm/B,EAASC,iBAjJmCnW,CAAiBvuB,EAAOgF,MAChEA,KAAK8/B,aAAe9/B,KAAK0/B,eAAe19B,KAAKhC,MAC7CsE,EAAMlD,aAAa,OAAQ,YAC3BkD,EAAMlD,aAAa,gBAAiBytB,EAAKxzB,IACzCiJ,EAAMlD,aAAa,gBAAiB,SACpCkD,EAAMlD,aAAa,oBAAqB,QACxCkD,EAAMlD,aAAa,gBAAiB,WAExCF,UACIlB,KAAK0/B,iBACL1/B,KAAK+/B,OACL//B,KAAKsE,MAAMuH,gBAAgB,QAC3B7L,KAAKsE,MAAMuH,gBAAgB,iBAC3B7L,KAAKsE,MAAMuH,gBAAgB,iBAC3B7L,KAAKsE,MAAMuH,gBAAgB,qBAC3B7L,KAAKsE,MAAMuH,gBAAgB,iBAE/B3K,QACIlB,KAAKsE,MAAMlD,aAAa,gBAAiB,QACzCpB,KAAKsE,MAAM7E,iBAAiB,mBAAoBO,KAAK6/B,yBACrD7/B,KAAKsE,MAAM7E,iBAAiB,iBAAkBO,KAAK6/B,yBACnD7/B,KAAKsE,MAAM7E,iBAAiB,QAASO,KAAK8/B,cAC1C9/B,KAAKsE,MAAM7E,iBAAiB,UAAWO,KAAKw/B,sBAC5Cx/B,KAAK6uB,KAAKpvB,iBAAiB,QAASugC,IAExC9+B,OACIlB,KAAK0/B,iBACL1/B,KAAKsE,MAAMlD,aAAa,gBAAiB,SACzCpB,KAAKsE,MAAM6B,oBAAoB,mBAAoBnG,KAAK6/B,yBACxD7/B,KAAKsE,MAAM6B,oBAAoB,iBAAkBnG,KAAK6/B,yBACtD7/B,KAAKsE,MAAM6B,oBAAoB,QAASnG,KAAK8/B,cAC7C9/B,KAAKsE,MAAM6B,oBAAoB,UAAWnG,KAAKw/B,sBAC/Cx/B,KAAK6uB,KAAK1oB,oBAAoB,QAAS65B,IAE3C9+B,SAAS++B,EAAY,GACjB,MAAMC,EAAUn7B,MAAMC,KAAKhF,KAAK6uB,KAAKvxB,iBAAiB,2BAA2BC,OAAO4nB,IAAS,GAC3FjP,EAAMnR,MAAMC,KAAKhF,KAAK6uB,KAAKvxB,iBAAiB,oBAAoBC,OAAO4nB,IACvEgb,EAAajqB,EAAI/Q,QAAQ+6B,GAC/B,GAAKC,IAAejqB,EAAIvY,OAAS,GAAmB,IAAdsiC,GAAoC,IAAfE,IAAmC,IAAfF,EAG3E,OAFAjgC,KAAK0/B,sBACL1/B,KAAKsE,MAAM4U,QAGf,IAAIknB,EAA4B,IAAdH,EAAkB,EAAI/pB,EAAIvY,OAAS,EACrD,GAAIuiC,GAAWC,GAAc,EAAG,CAC5B,MAAMxC,EAAWwC,EAAaF,EAC1BtC,GAAY,GAAKA,EAAWznB,EAAIvY,SAChCyiC,EAAczC,GAEtB,MAAMziC,EAASgb,EAAIkqB,GACnB,GAAKllC,EAEL,IAAK,MAAMiC,KAAM+Y,EACThb,IAAWiC,GACX6C,KAAKsE,MAAMlD,aAAa,wBAAyBlG,EAAOG,IACxDH,EAAOkG,aAAa,gBAAiB,QACrCi/B,GAASrgC,KAAK6uB,KAAM3zB,IAGpBiC,EAAGiE,aAAa,gBAAiB,SAI7CF,iBACIlB,KAAKsE,MAAMuH,gBAAgB,yBAC3B,IAAK,MAAM1O,KAAM6C,KAAK6uB,KAAKvxB,iBAAiB,0BACxCH,EAAGiE,aAAa,gBAAiB,UA+C7C,SAAS4+B,GAAkBhlC,GACvB,KAAMA,EAAME,kBAAkByJ,SAC1B,OACJ,MAAMzJ,EAASF,EAAME,OAAOoI,QAAQ,mBAC/BpI,GAEwC,SAAzCA,EAAOoF,aAAa,kBAa5B,SAAyBpF,GACrBA,EAAO2B,cAAc,IAAIP,YAAY,kBAAmB,CAAEC,SAAS,KAZnE+jC,CAAgBplC,GAcpB,SAASiqB,GAAQhoB,GACb,OAASA,EAAG6nB,UACN7nB,aAAcH,kBAAgC,WAAZG,EAAG4O,QACtC5O,EAAG8nB,YAAc,GAAK9nB,EAAG+nB,aAAe,GASjD,SAASmb,GAASn8B,EAAWhJ,IAK7B,SAAoBgJ,EAAWnG,GAC3B,MAAMwiC,EAAYr8B,EAAUq8B,UACtBC,EAAkBD,EAAYr8B,EAAU+xB,aACxCvN,EAAM3qB,EAAQ62B,UACd6L,EAAS/X,EAAM3qB,EAAQk4B,aAC7B,OAAOvN,GAAO6X,GAAaE,GAAUD,GAThCE,CAAWx8B,EAAWhJ,KACvBgJ,EAAUq8B,UAAYrlC,EAAO05B,2BC/JrC,MAAM+L,GAAW,WACjB,SAAS/R,GAAMzf,EAAM3T,EAAKolC,GAAQC,UAAEA,EAASC,cAAEA,EAAaC,kBAAEA,GAAsB,CAChFF,WAAW,EACXC,cAAe,EACfC,kBAAmB,OAEnB,IAAIC,EAAW7xB,EAAKf,YAAY5S,EAAKolC,EAAS,GAC9C,IAAkB,IAAdI,EACA,OACJ,GAAIA,EAAWF,EACX,OACJ,GAAID,EAAW,CACX,GAAyB,MAArBE,EAA2B,CAC3B,GAAIA,IAAsBC,EACtB,OACJA,EAAWD,EAAoB,EAGnC,GAAqB,MADA5xB,EAAK6xB,EAAW,IACTJ,GAAUI,EAAW,EAC7C,OAEJ,GADqB7xB,EAAKf,YAAY,KAAMwyB,EAAS,GAClCI,EACf,OAEJ,GADiB7xB,EAAKf,YAAY,IAAKwyB,EAAS,GACjCI,EACX,WAEH,CAED,GADmB7xB,EAAKf,YAAY,IAAKwyB,EAAS,GACjCI,EACb,OAER,MAAMC,EAAM9xB,EAAK6xB,EAAW,GAC5B,GAAIC,IAAQN,GAAS3S,KAAKiT,GACtB,OAEJ,MAAO,CACH9xB,KAFgBA,EAAK+xB,UAAUF,EAAWxlC,EAAImC,OAAQijC,GAGtDnY,SAAUuY,EAAWxlC,EAAImC,QAIjC,MAAMwjC,GAAa,CAAC,qBAAsB,iBAAkB,wBAAyB,WAAY,iBAC3FC,GAAsB,CACxB,aACA,cACA,YACA,aACA,eACA,cACA,SACA,iBACA,cACA,aACA,aACA,iBACA,eACA,gBACA,cACA,gBACA,cACA,eACA,aACA,kBACA,cACA,iBACA,QACA,gBAEEC,GAAY,IAAI93B,QAkEtB,SAAS+3B,GAA2BxkC,EAAOoO,EAAQpO,EAAMw8B,cACrD,MAAMiI,OAAEA,EAAMl3B,OAAEA,GAlEpB,SAAyBm3B,EAAWC,GAChC,MAAMh0B,EAAW+zB,EAAU/zB,SAASjL,cACpC,GAAiB,aAAbiL,GAAwC,UAAbA,EAC3B,MAAM,IAAIzK,MAAM,6CAEpB,IAAIu+B,EAASF,GAAUvgC,IAAI0gC,GAC3B,GAAID,GAAUA,EAAOphC,gBAAkBqhC,EAAUrhC,cAC7CohC,EAAO/yB,UAAY,OAElB,CACD+yB,EAAS3kC,SAAS2R,cAAc,OAChC8yB,GAAU9/B,IAAIigC,EAAWD,GACzB,MAAMjZ,EAAQ7lB,OAAOi/B,iBAAiBF,GAChCG,EAAQR,GAAW97B,MAAM,GACd,aAAboI,EACAk0B,EAAM5mC,KAAK,yBAGX4mC,EAAM5mC,KAAK,uBAEf,IAAK,IAAIgE,EAAI,EAAG+V,EAAMssB,GAAoBzjC,OAAQoB,EAAI+V,EAAK/V,IAAK,CAC5D,MAAME,EAAOmiC,GAAoBriC,GACjC4iC,EAAM5mC,KAAK,GAAGkE,KAAQqpB,EAAMsZ,iBAAiB3iC,OAEjDsiC,EAAOjZ,MAAMuZ,QAAUF,EAAMjvB,KAAK,KAEtC,MAAMrI,EAASzN,SAAS2R,cAAc,QAGtC,IAAIoI,EACA8kB,EACJ,GAJApxB,EAAOie,MAAMuZ,QAAU,sBACvBx3B,EAAOmE,UAAY,SAGW,iBAAnBizB,EAA6B,CACpC,IAAItyB,EAAOqyB,EAAUtlC,MAAMglC,UAAU,EAAGO,GACpCtyB,IACAwH,EAAS/Z,SAAS4P,eAAe2C,IAErCA,EAAOqyB,EAAUtlC,MAAMglC,UAAUO,GAC7BtyB,IACAssB,EAAQ7+B,SAAS4P,eAAe2C,QAGnC,CACD,MAAMA,EAAOqyB,EAAUtlC,MACnBiT,IACAwH,EAAS/Z,SAAS4P,eAAe2C,IAUzC,GAPIwH,GACA4qB,EAAO5xB,YAAYgH,GAEvB4qB,EAAO5xB,YAAYtF,GACfoxB,GACA8F,EAAO5xB,YAAY8rB,IAElB8F,EAAOphC,cAAe,CACvB,IAAKqhC,EAAUrhC,cACX,MAAM,IAAI6C,MAAM,iDAEpBw+B,EAAUrhC,cAAcsM,aAAa80B,EAAQC,GAIjD,OAFAD,EAAOhB,UAAYiB,EAAUjB,UAC7BgB,EAAOO,WAAaN,EAAUM,WACvB,CAAEP,OAAAA,EAAQl3B,OAAAA,GAIU03B,CAAgBjlC,EAAOoO,GAC5C82B,EAAaT,EAAOtM,wBACpBgN,EAAa53B,EAAO4qB,wBAI1B,OAHA95B,YAAW,KACPomC,EAAO9rB,WACR,KACI,CACHiT,IAAKuZ,EAAWvZ,IAAMsZ,EAAWtZ,IACjCmM,KAAMoN,EAAWpN,KAAOmN,EAAWnN,MAI3C,MAAMzO,GAAS,IAAI7c,QACnB,MAAM24B,aACFhhC,YAAYihC,EAAU79B,GAClBtE,KAAKmiC,SAAWA,EAChBniC,KAAKsE,MAAQA,EACbtE,KAAKy/B,SAAW,KAChBz/B,KAAKypB,KAAO,KACZzpB,KAAKuM,MAAQ,KACbvM,KAAKoiC,YAAa,EAClBpiC,KAAK8gC,cAAgB,EACrB9gC,KAAKq8B,QAAUr8B,KAAKqiC,QAAQrgC,KAAKhC,MACjCA,KAAKsiC,QAAUtiC,KAAKotB,QAAQprB,KAAKhC,MACjCA,KAAKuiC,UAAYviC,KAAKwiC,UAAUxgC,KAAKhC,MACrCA,KAAKyiC,SAAWziC,KAAK0iC,SAAS1gC,KAAKhC,MACnCA,KAAK2iC,YAAc3iC,KAAK4iC,YAAY5gC,KAAKhC,MACzCA,KAAK6iC,OAAS7iC,KAAK8iC,OAAO9gC,KAAKhC,MAC/BA,KAAK+iC,qBAAsB,EAC3Bz+B,EAAM7E,iBAAiB,QAASO,KAAKsiC,SACrCh+B,EAAM7E,iBAAiB,QAASO,KAAKq8B,SACrC/3B,EAAM7E,iBAAiB,UAAWO,KAAKuiC,WACvCj+B,EAAM7E,iBAAiB,OAAQO,KAAK6iC,QAExC3hC,UACIlB,KAAKsE,MAAM6B,oBAAoB,QAASnG,KAAKsiC,SAC7CtiC,KAAKsE,MAAM6B,oBAAoB,QAASnG,KAAKq8B,SAC7Cr8B,KAAKsE,MAAM6B,oBAAoB,UAAWnG,KAAKuiC,WAC/CviC,KAAKsE,MAAM6B,oBAAoB,OAAQnG,KAAK6iC,QAEhD3hC,cACQlB,KAAKgjC,eACLhjC,KAAK8gC,cAAgB9gC,KAAKsE,MAAMg1B,cAAgBt5B,KAAK8gC,eAG7D5/B,SAASqL,EAAOkd,GACZ,GAAIzpB,KAAKsE,QAAU1H,SAAS8nB,cACxB,OACJ1kB,KAAKgjC,aACLhjC,KAAKypB,KAAOA,EACPA,EAAKpuB,KACNouB,EAAKpuB,GAAK,iBAAiBkP,KAAK04B,MAAsB,IAAhB14B,KAAKC,UAAmBvE,YAClEjG,KAAKmiC,SAAS5hC,OAAOkpB,GACrBzpB,KAAKy/B,SAAW,IAAIF,SAASv/B,KAAKsE,MAAOmlB,GACzC,MAAMf,IAAEA,EAAGmM,KAAEA,GAASyM,GAA2BthC,KAAKsE,MAAOiI,EAAMkc,UACnEgB,EAAKnB,MAAMI,IAASA,EAAH,KACjBe,EAAKnB,MAAMuM,KAAUA,EAAH,KAClB70B,KAAKy/B,SAASx6B,QACdwkB,EAAKhqB,iBAAiB,kBAAmBO,KAAKyiC,UAC9ChZ,EAAKhqB,iBAAiB,YAAaO,KAAK2iC,aACxC3iC,KAAKy/B,SAASE,SAAS,GAE3Bz+B,aACI,MAAMuoB,EAAOzpB,KAAKypB,KAClB,SAAKA,IAASzpB,KAAKy/B,YAEnBz/B,KAAKypB,KAAO,KACZA,EAAKtjB,oBAAoB,kBAAmBnG,KAAKyiC,UACjDhZ,EAAKtjB,oBAAoB,YAAanG,KAAK2iC,aAC3C3iC,KAAKy/B,SAASyD,UACdljC,KAAKy/B,SAAW,KAChBhW,EAAKhU,UACE,GAEXvU,UAAShG,OAAEA,IACP,MAAMyV,EAAOzV,EACb,KAAMyV,aAAgB0H,aAClB,OACJ,IAAKrY,KAAKy/B,SACN,OACJ,MAAMlzB,EAAQvM,KAAKuM,MACnB,IAAKA,EACD,OACJ,MAAM42B,EAAYnjC,KAAKsE,MAAMpI,MAAMglC,UAAU,EAAG30B,EAAMkc,SAAWlc,EAAM/Q,IAAImC,QACrEylC,EAAYpjC,KAAKsE,MAAMpI,MAAMglC,UAAU30B,EAAMkc,SAAWlc,EAAM4C,KAAKxR,QACnElB,EAAS,CAAEkU,KAAAA,EAAMnV,IAAK+Q,EAAM/Q,IAAKU,MAAO,MAE9C,IADkB8D,KAAKmiC,SAAStlC,cAAc,IAAIP,YAAY,sBAAuB,CAAEE,YAAY,EAAMC,OAAAA,KAErG,OACJ,IAAKA,EAAOP,MACR,OACJ,MAAMA,EAAWO,EAAOP,MAAV,IACd8D,KAAKsE,MAAMpI,MAAQinC,EAAYjnC,EAAQknC,EACvC,MAAMxC,EAASuC,EAAUxlC,OAASzB,EAAMyB,OACxCqC,KAAKgjC,aACLhjC,KAAKsE,MAAM4U,QACXlZ,KAAKsE,MAAM+0B,eAAiBuH,EAC5B5gC,KAAKsE,MAAMg1B,aAAesH,EAC1B5gC,KAAK8gC,cAAgBF,EACrB5gC,KAAKuM,MAAQ,KAEjBrL,SACQlB,KAAK+iC,oBACL/iC,KAAK+iC,qBAAsB,EAG/B/iC,KAAKgjC,aAET9hC,UACIlB,KAAKoiC,YAAa,EAEtBlhC,gBACI,GAAIlB,KAAKoiC,WAEL,YADApiC,KAAKoiC,YAAa,GAGtB,MAAM71B,EAAQvM,KAAKqjC,YACnB,GAAI92B,EAAO,CACPvM,KAAKuM,MAAQA,EACb,MAAMkd,QAAazpB,KAAKsjC,gBAAgB/2B,GACxC,IAAKvM,KAAKuM,MACN,OACAkd,EACAzpB,KAAKujC,SAASh3B,EAAOkd,GAGrBzpB,KAAKgjC,kBAIThjC,KAAKuM,MAAQ,KACbvM,KAAKgjC,aAGb9hC,YACI,MAAM0/B,EAAS5gC,KAAKsE,MAAMg1B,cAAgB,EACpCnqB,EAAOnP,KAAKsE,MAAMpI,MACpB0kC,GAAU5gC,KAAK8gC,gBACf9gC,KAAK8gC,cAAgBF,EAAS,GAElC,IAAK,MAAMplC,IAAEA,EAAGqlC,UAAEA,KAAe7gC,KAAKmiC,SAAS77B,KAAM,CACjD,MAAMukB,EAAQ+D,GAAMzf,EAAM3T,EAAKolC,EAAQ,CACnCC,UAAAA,EACAC,cAAe9gC,KAAK8gC,cACpBC,kBAAmB/gC,KAAKuM,MAAQvM,KAAKuM,MAAMkc,SAAW,OAE1D,GAAIoC,EACA,MAAO,CAAE1b,KAAM0b,EAAM1b,KAAM3T,IAAAA,EAAKitB,SAAUoC,EAAMpC,WAI5DvnB,sBAAsBqL,GAClB,MAAMi3B,EAAY,GAGlB,IADkBxjC,KAAKmiC,SAAStlC,cAAc,IAAIP,YAAY,uBAAwB,CAAEE,YAAY,EAAMC,OAAQ,CAAEgnC,QADnG3lC,GAAW0lC,EAAUzoC,KAAK+C,GACkFqR,KAAM5C,EAAM4C,KAAM3T,IAAK+Q,EAAM/Q,QAEtJ,OAGJ,aAFkB4kB,QAAQsjB,IAAIF,IACRjmC,QAAOu0B,GAAKA,EAAEna,UAASja,KAAIo0B,GAAKA,EAAExkB,WACvC,GAErBpM,cACIlB,KAAK+iC,qBAAsB,EAE/B7hC,UAAUlG,GACY,WAAdA,EAAMQ,MACNwE,KAAKuM,MAAQ,KACTvM,KAAKgjC,eACLhjC,KAAK8gC,cAAgB9gC,KAAKsE,MAAMg1B,cAAgBt5B,KAAK8gC,cACrD9lC,EAAM2oC,2BACN3oC,EAAMqe,oBAKtB,MAAMuqB,4BAA4BvrB,YAC9B/R,WACI,MAAMu9B,EAAW7jC,KAAKM,aAAa,QAC7BgG,EAAOu9B,EAAWA,EAASl9B,MAAM,KAAO,GACxCm9B,EAAgB9jC,KAAKM,aAAa,aAClCugC,EAAYiD,EAAgBA,EAAcn9B,MAAM,KAAO,GACvDo9B,EAAuC,IAArBlD,EAAUljC,QAAgBqC,KAAKsB,aAAa,aACpE,OAAOgF,EAAK5I,KAAIlC,KAAUA,IAAAA,EAAKqlC,UAAWkD,GAAmBlD,EAAUvN,SAAS93B,OAEpF0F,oBACI,MAAMoD,EAAQtE,KAAKuF,cAAc,gCACjC,KAAMjB,aAAiBtH,kBAAoBsH,aAAiBrH,qBACxD,OACJ,MAAM8iB,EAAQ,IAAImiB,aAAaliC,KAAMsE,GACrC8hB,GAAO7kB,IAAIvB,KAAM+f,GAErB7e,uBACI,MAAM6e,EAAQqG,GAAOtlB,IAAId,MACpB+f,IAELA,EAAMmjB,UACN9c,GAAOlf,OAAOlH,OAElBkB,UACI,MAAM6e,EAAQqG,GAAOtlB,IAAId,MACpB+f,GAELA,EAAMikB,eAITvhC,OAAOC,eAAe5B,IAAI,mBAC3B2B,OAAOmhC,oBAAsBA,oBAC7BnhC,OAAOC,eAAeC,OAAO,gBAAiBihC,sBC1VlD,MAAMK,GAAW,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAC9EC,GAAS,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAE9H,SAASC,GAAIC,GACX,MAAO,IAAIhiC,OAAOgiC,GAAK/+B,OAAO,GAGhC,SAASg/B,GAASC,EAAMC,GACtB,MAAMC,EAAMF,EAAKG,SACXC,EAAOJ,EAAKK,UACZC,EAAQN,EAAKO,WACbC,EAAOR,EAAKS,cACZC,EAAOV,EAAKW,WACZC,EAASZ,EAAKa,aACdC,EAASd,EAAKe,aACpB,OAAOd,EAAahiC,QAAQ,+BAA+B,SAAU+iC,GACnE,IAAI/4B,EAGJ,OAFiB+4B,EAAK,IAGpB,IAAK,IACH,MAAO,IAET,IAAK,IACH,OAAOrB,GAASO,GAAKn/B,MAAM,EAAG,GAEhC,IAAK,IACH,OAAO4+B,GAASO,GAElB,IAAK,IACH,OAAON,GAAOU,GAAOv/B,MAAM,EAAG,GAEhC,IAAK,IACH,OAAO6+B,GAAOU,GAEhB,IAAK,IACH,OAAON,EAAKr+B,WAEd,IAAK,IACH,OAAOk+B,GAAIO,GAEb,IAAK,IACH,OAAOp6B,OAAOo6B,GAEhB,IAAK,IACH,OAAOP,GAAIa,GAEb,IAAK,IACH,OAAOb,GAAIE,GAASC,EAAM,OAE5B,IAAK,IACH,OACSh6B,OADI,IAAT06B,GAAuB,KAATA,EACF,IAECA,EAAO,IAAM,IAGhC,IAAK,IACH,OAAOb,GAAIS,EAAQ,GAErB,IAAK,IACH,OAAOT,GAAIe,GAEb,IAAK,IACH,OAAIF,EAAO,GACF,KAEA,KAGX,IAAK,IACH,OAAIA,EAAO,GACF,KAEA,KAGX,IAAK,IACH,OAAOb,GAAIiB,GAEb,IAAK,IACH,OAAO96B,OAAOk6B,GAEhB,IAAK,IACH,OAAOL,GAAIW,EAAO,KAEpB,IAAK,IACH,OAAOx6B,OAAOw6B,GAEhB,IAAK,IAEH,OADAv4B,EAAQ+3B,EAAKr+B,WAAWsG,MAAM,cACvBA,EAAQA,EAAM,GAAK,GAE5B,IAAK,IAEH,OADAA,EAAQ+3B,EAAKr+B,WAAWsG,MAAM,qBACvBA,EAAQA,EAAM,GAAK,GAG9B,MAAO,MAGX,SAASg5B,GAAcjqC,GACrB,IAAIkqC,EACJ,OAAO,WACL,GAAIA,EAAQ,OAAOA,EAEnB,GAAI,SAAU/iC,OACZ,IAEE,OADA+iC,EAAS,IAAIC,KAAKC,oBAAexmC,EAAW5D,GACrCkqC,EACP,MAAO/zB,IACP,KAAMA,cAAak0B,YACjB,MAAMl0B,KAMhB,IAAIm0B,GAAW,KACf,MAAMC,GAAoBN,GAAc,CACtCf,IAAK,UACLI,MAAO,UAOT,SAASkB,KACP,GAAiB,OAAbF,GACF,OAAOA,GAGT,MAAMG,EAAYF,KAElB,GAAIE,EAAW,CACb,MAAMC,EAASD,EAAUP,OAAO,IAAIvrB,KAAK,IAEzC,OADA2rB,KAAaI,EAAOz5B,MAAM,OACnBq5B,GAEP,OAAO,EAGX,IAAIK,GAAgB,KACpB,MAAMC,GAAgBX,GAAc,CAClCf,IAAK,UACLI,MAAO,QACPE,KAAM,YA8CR,SAASqB,GAAkBhpC,GACzB,MAAM+G,EAAY/G,EAAGmG,QAAQ,UAE7B,OAAIY,aAAqBmU,aAAenU,EAAUkiC,KACzCliC,EAAUkiC,KAGZ,UAGT,MAAMC,GAAY,IAAI98B,QACtB,MAAM+8B,4BAA4BjuB,YAChCnW,gCACE,MAAO,CAAC,WAAY,MAAO,SAAU,OAAQ,OAAQ,SAAU,QAAS,SAAU,QAAS,UAAW,QAGxGhB,oBACE,MAAMqlC,EAAQvmC,KAAKwmC,oBAEfD,IAAUvmC,KAAKsB,aAAa,UAC9BtB,KAAKoB,aAAa,QAASmlC,GAG7B,MAAMp3B,EAAOnP,KAAKymC,mBAEdt3B,IACFnP,KAAKgG,YAAcmJ,GAKvBjO,yBAAyBwlC,EAAUjY,EAAUttB,GAC3C,MAAMwlC,EAAW3mC,KAAKwmC,oBAEtB,GAAiB,aAAbE,EAAyB,CAC3B,MAAME,EAAS3sB,KAAK7d,MAAM+E,GAEtB0lC,MAAMD,GACRP,GAAUn/B,OAAOlH,MAEjBqmC,GAAU9kC,IAAIvB,KAAM,IAAIia,KAAK2sB,IAIjC,MAAML,EAAQvmC,KAAKwmC,oBACbM,EAAe9mC,KAAKM,aAAa,SAEtB,UAAbomC,IAAwBH,GAAWO,GAAgBA,IAAiBH,GACtE3mC,KAAKoB,aAAa,QAASmlC,GAG7B,MAAMp3B,EAAOnP,KAAKymC,mBAEdt3B,IACFnP,KAAKgG,YAAcmJ,GAIvBu1B,WACE,OAAO2B,GAAUvlC,IAAId,MAQvBkB,oBACE,MAAMwjC,EAAO1kC,KAAK0kC,KAClB,IAAKA,EAAM,OACX,MAAMqB,EAAYgB,KAElB,GAAIhB,EACF,OAAOA,EAAUP,OAAOd,GAExB,IACE,OAAOA,EAAKsC,iBACZ,MAAOv1B,IACP,GAAIA,cAAak0B,WACf,OAAOjB,EAAKz+B,WAEZ,MAAMwL,IAMdvQ,qBAGF,MAAM6lC,GAAiBxB,GAAc,CACnCf,IAAK,UACLI,MAAO,QACPE,KAAM,UACNE,KAAM,UACNE,OAAQ,UACR+B,aAAc,UAGVC,GAAa,IAAI39B,QACvB,MAAM49B,yBAAyBb,oBAC7BplC,yBAAyBwlC,EAAUjY,EAAUttB,GAC1B,SAAbulC,GAAoC,WAAbA,GAAsC,WAAbA,GAAsC,mBAAbA,GAC3EQ,GAAWhgC,OAAOlH,MAGpBgR,MAAMo2B,yBAAyBV,EAAUjY,EAAUttB,GAmBrDD,mBACE,MAAM3C,EAAIyB,KAAK0kC,KACf,IAAKnmC,EAAG,OACR,MAAMmmC,EAgBV,SAAoBvnC,EAAIunC,GAEtB,MAAM/C,EAAQ,CACZ0F,QAAS,CACPC,MAAO,KACPC,KAAM,MAER/C,IAAK,CACHgD,QAAS,KACTC,UAAW,MAEb7C,MAAO,CACL0C,MAAO,KACPC,KAAM,MAERzC,KAAM,CACJ0C,QAAS,KACTC,UAAW,OAIf,IAAIjC,EAASM,KAAe,yBAA2B,0BAEvD,IAAK,MAAM4B,KAAQ/F,EAAO,CACxB,MAAMzlC,EAAQylC,EAAM+F,GAAMvqC,EAAGmD,aAAaonC,IAC1ClC,EAASA,EAAOjjC,QAAQmlC,EAAMxrC,GAAS,IAMzC,OAFAspC,EAASA,EAAOjjC,QAAQ,eAAgB,IAEjC8hC,GAASK,EAAMc,GAAQjjC,QAAQ,MAAO,KAAKmd,OA/CnCioB,CAAW3nC,KAAMzB,IAAM,GAC9B+lC,EAuDV,SAAoBnnC,EAAIunC,GACtB,MAAMppC,EAAU,GAEV0pC,EAAO7nC,EAAGmD,aAAa,QAChB,YAAT0kC,GAA+B,YAATA,IAAoB1pC,EAAQ0pC,KAAOA,GAC7D,MAAME,EAAS/nC,EAAGmD,aAAa,UAChB,YAAX4kC,GAAmC,YAAXA,IAAsB5pC,EAAQ4pC,OAASA,GACnE,MAAME,EAASjoC,EAAGmD,aAAa,UAChB,YAAX8kC,GAAmC,YAAXA,IAAsB9pC,EAAQ8pC,OAASA,GACnE,MAAMwC,EAAKzqC,EAAGmD,aAAa,kBAChB,UAAPsnC,GAAyB,SAAPA,IAAetsC,EAAQ2rC,aAAeW,GAE5D,GAAoC,IAAhCjpC,OAAO2H,KAAKhL,GAASqC,OACvB,OAGF,IAAIkqC,EAAUX,GAAWpmC,IAAI3D,GAExB0qC,IACHA,EAAUtC,GAAcjqC,GACxB4rC,GAAW3lC,IAAIpE,EAAI0qC,IAGrB,MAAM9B,EAAY8B,IAElB,GAAI9B,EAEF,OAAOA,EAAUP,OAAOd,GAIxB,OAAOL,GAASK,EADFppC,EAAQ8pC,OAAS,WAAa,SArF/B0C,CAAW9nC,KAAMzB,IAAM,GACpC,MAAO,GAAG6D,OAAOsiC,EAAM,KAAKtiC,OAAOkiC,GAAM5kB,QA8FxCjd,OAAOC,eAAe5B,IAAI,gBAC7B2B,OAAO0kC,iBAAmBA,iBAC1B1kC,OAAOC,eAAeC,OAAO,aAAcwkC,mBAG7C,MAAMY,aACJ7mC,YAAYwjC,EAAMsD,GAChBhoC,KAAK0kC,KAAOA,EACZ1kC,KAAKgoC,OAASA,EAGhB9mC,WACE,MAAM+mC,EAAMjoC,KAAKkoC,cAEjB,GAAID,EACF,OAAOA,EACF,CACL,MAAME,EAAQnoC,KAAKooC,YAEnB,OAAID,GAGK,MAAM/lC,OAAOpC,KAAK2nC,eAK/BzmC,cACE,MAAMmnC,GAAK,IAAIpuB,MAAOquB,UAAYtoC,KAAK0kC,KAAK4D,UACtCC,EAAMh+B,KAAKsrB,MAAMwS,EAAK,KACtB7T,EAAMjqB,KAAKsrB,MAAM0S,EAAM,IACvBC,EAAKj+B,KAAKsrB,MAAMrB,EAAM,IACtBgQ,EAAMj6B,KAAKsrB,MAAM2S,EAAK,IAE5B,OAAIH,GAAM,GAAK7D,EAAM,GACZxkC,KAAKyoC,cAAcJ,GAEnB,KAIXnnC,YACE,MAAMmnC,EAAKroC,KAAK0kC,KAAK4D,WAAY,IAAIruB,MAAOquB,UACtCC,EAAMh+B,KAAKsrB,MAAMwS,EAAK,KACtB7T,EAAMjqB,KAAKsrB,MAAM0S,EAAM,IACvBC,EAAKj+B,KAAKsrB,MAAMrB,EAAM,IACtBgQ,EAAMj6B,KAAKsrB,MAAM2S,EAAK,IAE5B,OAAIH,GAAM,GAAK7D,EAAM,GACZxkC,KAAK0oC,YAEL,KAIXxnC,UACE,MAAMmnC,GAAK,IAAIpuB,MAAOquB,UAAYtoC,KAAK0kC,KAAK4D,UAC5C,OAAOtoC,KAAKyoC,cAAcJ,GAG5BnnC,cAAcmnC,GACZ,MAAME,EAAMh+B,KAAKsrB,MAAMwS,EAAK,KACtB7T,EAAMjqB,KAAKsrB,MAAM0S,EAAM,IACvBC,EAAKj+B,KAAKsrB,MAAMrB,EAAM,IACtBgQ,EAAMj6B,KAAKsrB,MAAM2S,EAAK,IACtB5D,EAAQr6B,KAAKsrB,MAAM2O,EAAM,IACzBM,EAAOv6B,KAAKsrB,MAAM+O,EAAQ,IAEhC,OAAIyD,EAAK,GAEEE,EAAM,GADRI,GAAmB3oC,KAAKgoC,OAAQ,EAAG,UAGjCO,EAAM,GACRI,GAAmB3oC,KAAKgoC,QAASO,EAAK,UACpCA,EAAM,IAEN/T,EAAM,GADRmU,GAAmB3oC,KAAKgoC,QAASxT,EAAK,UAGpCA,EAAM,IAENgU,EAAK,GADPG,GAAmB3oC,KAAKgoC,QAASQ,EAAI,QAGnCA,EAAK,IAELhE,EAAM,GADRmE,GAAmB3oC,KAAKgoC,QAASxD,EAAK,OAGpCI,EAAQ,GACV+D,GAAmB3oC,KAAKgoC,QAASpD,EAAO,SAExC+D,GAAmB3oC,KAAKgoC,QAASlD,EAAM,QAIlD5jC,eACE,MAAMmnC,GAAK,IAAIpuB,MAAOquB,UAAYtoC,KAAK0kC,KAAK4D,UACtCC,EAAMh+B,KAAKsrB,MAAMwS,EAAK,KACtB7T,EAAMjqB,KAAKsrB,MAAM0S,EAAM,IACvBC,EAAKj+B,KAAKsrB,MAAMrB,EAAM,IACtBgQ,EAAMj6B,KAAKsrB,MAAM2S,EAAK,IACtB5D,EAAQr6B,KAAKsrB,MAAM2O,EAAM,IACzBM,EAAOv6B,KAAKsrB,MAAM+O,EAAQ,IAEhC,OAAIpQ,EAAM,EACD,KACEA,EAAM,GACR,GAAGpyB,OAAOoyB,EAAK,KACbgU,EAAK,GACP,GAAGpmC,OAAOomC,EAAI,KACZhE,EAAM,IACR,GAAGpiC,OAAOoiC,EAAK,KAEf,GAAGpiC,OAAO0iC,EAAM,KAI3B5jC,YACE,MAAMmnC,EAAKroC,KAAK0kC,KAAK4D,WAAY,IAAIruB,MAAOquB,UAC5C,OAAOtoC,KAAK4oC,gBAAgBP,GAG9BnnC,gBAAgBmnC,GACd,MAAME,EAAMh+B,KAAKsrB,MAAMwS,EAAK,KACtB7T,EAAMjqB,KAAKsrB,MAAM0S,EAAM,IACvBC,EAAKj+B,KAAKsrB,MAAMrB,EAAM,IACtBgQ,EAAMj6B,KAAKsrB,MAAM2S,EAAK,IACtB5D,EAAQr6B,KAAKsrB,MAAM2O,EAAM,IACzBM,EAAOv6B,KAAKsrB,MAAM+O,EAAQ,IAEhC,OAAIA,GAAS,IAEFA,GAAS,GADX+D,GAAmB3oC,KAAKgoC,OAAQlD,EAAM,QAGpCN,GAAO,IAEPA,GAAO,GADTmE,GAAmB3oC,KAAKgoC,OAAQpD,EAAO,SAGrC4D,GAAM,IAENA,GAAM,GADRG,GAAmB3oC,KAAKgoC,OAAQxD,EAAK,OAGnChQ,GAAO,IAEPA,GAAO,GADTmU,GAAmB3oC,KAAKgoC,OAAQQ,EAAI,QAGlCD,GAAO,IAEPA,GAAO,GADTI,GAAmB3oC,KAAKgoC,OAAQxT,EAAK,UAIrCmU,GAAmB3oC,KAAKgoC,OADtBO,GAAO,GACuBA,EAEA,EAFK,UAMhDrnC,iBACE,MAAMmnC,EAAKroC,KAAK0kC,KAAK4D,WAAY,IAAIruB,MAAOquB,UACtCC,EAAMh+B,KAAKsrB,MAAMwS,EAAK,KACtB7T,EAAMjqB,KAAKsrB,MAAM0S,EAAM,IACvBC,EAAKj+B,KAAKsrB,MAAMrB,EAAM,IACtBgQ,EAAMj6B,KAAKsrB,MAAM2S,EAAK,IACtB5D,EAAQr6B,KAAKsrB,MAAM2O,EAAM,IACzBM,EAAOv6B,KAAKsrB,MAAM+O,EAAQ,IAEhC,OAAIJ,GAAO,IACF,GAAGpiC,OAAO0iC,EAAM,KACd0D,GAAM,GACR,GAAGpmC,OAAOoiC,EAAK,KACbhQ,GAAO,GACT,GAAGpyB,OAAOomC,EAAI,KACZhU,EAAM,EACR,GAAGpyB,OAAOoyB,EAAK,KAEf,KAIXtzB,aACE,IAAIskC,EAASM,KAAe,QAAU,QAta1C,IAAoBpB,EA4ahB,OA5agBA,EAwaA1kC,KAAK0kC,MAvaX,IAAIzqB,MACL4uB,mBAAqBnE,EAAKmE,mBAuajCrD,GA7bN,WACE,GAAsB,OAAlBS,GACF,OAAOA,GAGT,MAAMF,EAAYG,KAElB,GAAIH,EAAW,CACb,MAAMC,EAASD,EAAUP,OAAO,IAAIvrB,KAAK,IAEzC,OADAgsB,KAAkBD,EAAOz5B,MAAM,OACxB05B,GAEP,OAAO,EAibK6C,GAAoB,OAAS,OAGlCzE,GAASrkC,KAAK0kC,KAAMc,GAG7BtkC,aACE,MAAM6kC,EAAYgD,KAElB,OAAIhD,EACKA,EAAUP,OAAOxlC,KAAK0kC,MAEtBL,GAASrkC,KAAK0kC,KAAM,YAMjC,SAASiE,GAAmBX,EAAQ9rC,EAAO8sC,GACzC,MAAMjD,EAxbR,SAA4BiC,EAAQ1sC,GAClC,GAAI,SAAUmH,QAAU,uBAAwBA,OAAOgjC,KACrD,IAGE,OAAO,IAAIA,KAAKwD,mBAAmBjB,EAAQ1sC,GAC3C,MAAOmW,IACP,KAAMA,cAAak0B,YACjB,MAAMl0B,IAgbMy3B,CAAmBlB,EAAQ,CAC3CR,QAAS,SAGX,OAAIzB,EACKA,EAAUP,OAAOtpC,EAAO8sC,GAWnC,SAA8B9sC,EAAO8sC,GACnC,GAAc,IAAV9sC,EACF,OAAQ8sC,GACN,IAAK,OACL,IAAK,UACL,IAAK,QACL,IAAK,OACH,MAAO,QAAQ5mC,OAAO4mC,GAExB,IAAK,MACH,MAAO,QAET,IAAK,OACL,IAAK,SACH,MAAO,QAAQ5mC,OAAO4mC,EAAM,KAE9B,IAAK,SACH,MAAO,WAEN,GAAc,IAAV9sC,EACT,OAAQ8sC,GACN,IAAK,OACL,IAAK,UACL,IAAK,QACL,IAAK,OACH,MAAO,QAAQ5mC,OAAO4mC,GAExB,IAAK,MACH,MAAO,WAET,IAAK,OACL,IAAK,SACL,IAAK,SACH,MAAO,QAAQ5mC,OAAO4mC,QAErB,IAAe,IAAX9sC,EACT,OAAQ8sC,GACN,IAAK,OACL,IAAK,UACL,IAAK,QACL,IAAK,OACH,MAAO,QAAQ5mC,OAAO4mC,GAExB,IAAK,MACH,MAAO,YAET,IAAK,OACL,IAAK,SACL,IAAK,SACH,MAAO,KAAK5mC,OAAO4mC,EAAM,aAExB,GAAI9sC,EAAQ,EACjB,OAAQ8sC,GACN,IAAK,OACL,IAAK,UACL,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,OACL,IAAK,SACL,IAAK,SACH,MAAO,MAAM5mC,OAAOlG,EAAO,KAAKkG,OAAO4mC,EAAM,UAE5C,GAAI9sC,GAAS,EAClB,OAAQ8sC,GACN,IAAK,OACL,IAAK,UACL,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,OACL,IAAK,SACL,IAAK,SACH,MAAO,GAAG5mC,QAAQlG,EAAO,KAAKkG,OAAO4mC,EAAM,SAIjD,MAAM,IAAIrD,WAAW,uCAAuCvjC,OAAO4mC,EAAM,MAtFhEG,CAAqBjtC,EAAO8sC,GAyFvC,MAAMD,GAAgBxD,GAAc,CAClCP,KAAM,UACNE,OAAQ,YAGV,MAAMkE,4BAA4B9C,oBAChCplC,mBACE,MAAMwjC,EAAO1kC,KAAK0kC,KAElB,GAAIA,EACF,OAAO,IAAIqD,aAAarD,EAAMyB,GAAkBnmC,OAAOiG,WAI3D/E,oBACEmoC,GAAYtuC,KAAKiF,MAEZspC,KACHC,KACAD,GAAsBE,YAAYD,GAAmB,MAGvDv4B,MAAMjR,oBAGRmB,uBACE,MAAMuoC,EAAKJ,GAAYlkC,QAAQnF,OAEnB,IAARypC,GACFJ,GAAYvzB,OAAO2zB,EAAI,GAGpBJ,GAAY1rC,QACX2rC,KACFI,cAAcJ,IACdA,GAAsB,kCAQ9B,MAAMD,GAAc,GAEpB,IAAIC,GAGJ,SAASC,KACP,IAAIjF,EAAMvlC,EAAG+V,EAEb,IAAK/V,EAAI,EAAG+V,EAAMu0B,GAAY1rC,OAAQoB,EAAI+V,EAAK/V,IAC7CulC,EAAO+E,GAAYtqC,GACnBulC,EAAKt+B,YAAcs+B,EAAKmC,oBAAsB,GAS7ChkC,OAAOC,eAAe5B,IAAI,mBAC7B2B,OAAO2mC,oBAAsBA,oBAC7B3mC,OAAOC,eAAeC,OAAO,gBAAiBymC,sBAGhD,MAAMO,uBAAuBP,oBAC3BloC,mBACE,MAAMskC,EAASxlC,KAAKM,aAAa,UAC3BokC,EAAO1kC,KAAK0kC,KAClB,GAAKA,EAEL,MAAe,UAAXc,EACK,IAAIuC,aAAarD,EAAMyB,GAAkBnmC,OAAO4pC,eAEhD,IAAI7B,aAAarD,EAAMyB,GAAkBnmC,OAAO6pC,WAMxDpnC,OAAOC,eAAe5B,IAAI,cAC7B2B,OAAOknC,eAAiBA,eACxBlnC,OAAOC,eAAeC,OAAO,WAAYgnC,iBAG3C,MAAMG,yBAAyBV,oBAC7BloC,mBACE,MAAMskC,EAASxlC,KAAKM,aAAa,UAC3BokC,EAAO1kC,KAAK0kC,KAClB,GAAKA,EAEL,MAAe,UAAXc,EACK,IAAIuC,aAAarD,EAAMyB,GAAkBnmC,OAAO+pC,iBAEhD,IAAIhC,aAAarD,EAAMyB,GAAkBnmC,OAAO0oC,aAMxDjmC,OAAOC,eAAe5B,IAAI,gBAC7B2B,OAAOqnC,iBAAmBA,iBAC1BrnC,OAAOC,eAAeC,OAAO,aAAcmnC,mBC/yB7C,MAAME,0BAA0B1tC,YAC5B4E,YAAY6K,EAAMk+B,GACdj5B,MAAMjF,EAAMk+B,GACZjqC,KAAKyE,cAAgBwlC,EAAKxlC,eAelC,MAAMylC,GAAW,IAAI3gC,QACrB,SAAS+D,GAASnQ,EAAIskB,GAClB,MAAM0oB,EAAM,IAAIC,eAGhB,OAFAD,EAAIvkB,KAAK,MAAOnE,GAAK,GACrB0oB,EAAIE,iBAAiB,SAAU,sBAGnC,SAAiBltC,EAAIgtC,GACjB,MAAMG,EAAUJ,GAASppC,IAAI3D,GACzBmtC,GACAA,EAAQ/rB,QACZ2rB,GAAS3oC,IAAIpE,EAAIgtC,GACjB,MAAM/5B,EAAQ,IAAM85B,GAAShjC,OAAO/J,GAC9BW,EAIV,SAAcqsC,GACV,OAAO,IAAI/pB,SAAQ,CAACC,EAASc,KACzBgpB,EAAII,OAAS,WACLJ,EAAI9mB,QAAU,KAAO8mB,EAAI9mB,OAAS,IAClChD,EAAQ8pB,EAAIK,cAGZrpB,EAAO,IAAIne,MAAMmnC,EAAIK,gBAG7BL,EAAIM,QAAUtpB,EACdgpB,EAAIO,UAfOA,CAAKP,GAEpB,OADArsC,EAAOqiB,KAAK/P,EAAOA,GACZtS,EAVAq1B,CAAQh2B,EAAIgtC,GA2BvB,MAAMQ,aACFzpC,YAAYgD,EAAWI,EAAO2R,GAC1BjW,KAAKkE,UAAYA,EACjBlE,KAAKsE,MAAQA,EACbtE,KAAKiW,QAAUA,EACfjW,KAAKy/B,SAAW,IAAIF,SAASj7B,EAAO2R,GACpCjW,KAAKiW,QAAQ+O,QAAS,EACtBhlB,KAAKsE,MAAMlD,aAAa,eAAgB,OACxCpB,KAAKsE,MAAMlD,aAAa,aAAc,SACtCpB,KAAK+iC,qBAAsB,EAC3B/iC,KAAK4qC,cArDb,SAAkBpxB,EAAU3W,EAAO,GAC/B,IAAIyrB,EACJ,OAAO,YAAauc,GAChB7xB,aAAasV,GACbA,EAAU7rB,OAAOtH,YAAW,KACxB6d,aAAasV,GACb9U,KAAYqxB,KACbhoC,IA8CkBie,CAAS9gB,KAAK4qC,cAAc5oC,KAAKhC,MAAO,KAC7DA,KAAK8qC,mBAAqB9qC,KAAK8qC,mBAAmB9oC,KAAKhC,MACvDA,KAAK+qC,YAAc/qC,KAAK+qC,YAAY/oC,KAAKhC,MACzCA,KAAKgrC,aAAehrC,KAAKgrC,aAAahpC,KAAKhC,MAC3CA,KAAKwiC,UAAYxiC,KAAKwiC,UAAUxgC,KAAKhC,MACrCA,KAAK0iC,SAAW1iC,KAAK0iC,SAAS1gC,KAAKhC,MACnCA,KAAKsE,MAAM7E,iBAAiB,UAAWO,KAAKwiC,WAC5CxiC,KAAKsE,MAAM7E,iBAAiB,QAASO,KAAKgrC,cAC1ChrC,KAAKsE,MAAM7E,iBAAiB,OAAQO,KAAK+qC,aACzC/qC,KAAKsE,MAAM7E,iBAAiB,QAASO,KAAK4qC,eAC1C5qC,KAAKiW,QAAQxW,iBAAiB,YAAaO,KAAK8qC,oBAChD9qC,KAAKiW,QAAQxW,iBAAiB,kBAAmBO,KAAK0iC,UAE1DxhC,UACIlB,KAAKsE,MAAM6B,oBAAoB,UAAWnG,KAAKwiC,WAC/CxiC,KAAKsE,MAAM6B,oBAAoB,QAASnG,KAAKgrC,cAC7ChrC,KAAKsE,MAAM6B,oBAAoB,OAAQnG,KAAK+qC,aAC5C/qC,KAAKsE,MAAM6B,oBAAoB,QAASnG,KAAK4qC,eAC7C5qC,KAAKiW,QAAQ9P,oBAAoB,YAAanG,KAAK8qC,oBACnD9qC,KAAKiW,QAAQ9P,oBAAoB,kBAAmBnG,KAAK0iC,UAE7DxhC,UAAUlG,GACN,GAAkB,WAAdA,EAAMQ,KAAoBwE,KAAKkE,UAAU0hB,KACzC5lB,KAAKkE,UAAU0hB,MAAO,EACtB5qB,EAAMqpB,kBACNrpB,EAAMqe,sBAEL,GAAIre,EAAM2d,QAAwB,YAAd3d,EAAMQ,KAAqBwE,KAAKkE,UAAU0hB,KAC/D5lB,KAAKkE,UAAU0hB,MAAO,EACtB5qB,EAAMqpB,kBACNrpB,EAAMqe,sBAEL,GAAIre,EAAM2d,QAAwB,cAAd3d,EAAMQ,MAAwBwE,KAAKkE,UAAU0hB,KAAM,CACxE,IAAK5lB,KAAKsE,MAAMpI,MAAMwjB,OAClB,OACJ1f,KAAKkE,UAAU0hB,MAAO,EACtB5qB,EAAMqpB,kBACNrpB,EAAMqe,kBAGdnY,eACIlB,KAAKo8B,eAETl7B,cACQlB,KAAK+iC,oBACL/iC,KAAK+iC,qBAAsB,EAG/B/iC,KAAKkE,UAAU0hB,MAAO,EAE1B1kB,UAAShG,OAAEA,IACP,MAAM8uB,EAAW9uB,EACjB,KAAM8uB,aAAoB3R,aACtB,OAEJ,GADArY,KAAKkE,UAAU0hB,MAAO,EAClBoE,aAAoBhB,kBACpB,OACJ,MAAM9sB,EAAQ8tB,EAAS1pB,aAAa,4BAA8B0pB,EAAShkB,YAC3EhG,KAAKkE,UAAUhI,MAAQA,EAE3BgF,qBACIlB,KAAK+iC,qBAAsB,EAE/B7hC,gBACIlB,KAAKkE,UAAU2H,gBAAgB,SAC/B7L,KAAKo8B,eAETl7B,kBACI,IAAI7F,EAAK,EACT,IAAK,MAAM8B,KAAM6C,KAAKiW,QAAQ3Y,iBAAiB,6BAC3CH,EAAG9B,GAAK,GAAG2E,KAAKiW,QAAQ5a,aAAaA,MAG7C6F,eACI,MAAM0tB,EAAQ5uB,KAAKsE,MAAMpI,MAAMwjB,OAC/B,IAAKkP,EAED,YADA5uB,KAAKkE,UAAU0hB,MAAO,GAG1B,MAAMG,EAAM/lB,KAAKkE,UAAU6hB,IAC3B,IAAKA,EACD,OACJ,MAAMtE,EAAM,IAAI+a,IAAIzW,EAAKtjB,OAAOg6B,SAAS3V,MACnChF,EAAS,IAAIC,gBAAgBN,EAAIib,OAAOr3B,MAAM,IACpDyc,EAAOvhB,OAAO,IAAKquB,GACnBnN,EAAIib,OAAS5a,EAAO7b,WACpBjG,KAAKkE,UAAUrH,cAAc,IAAIP,YAAY,cAC7CgR,GAAStN,KAAKsE,MAAOmd,EAAIxb,YACpBka,MAAKlS,IACNjO,KAAKiW,QAAQzH,UAAYP,EACzBjO,KAAKirC,kBACL,MAAMC,IAAelrC,KAAKiW,QAAQ1Q,cAAc,mBAChDvF,KAAKkE,UAAU0hB,KAAOslB,EACtBlrC,KAAKkE,UAAUrH,cAAc,IAAIP,YAAY,SAC7C0D,KAAKkE,UAAUrH,cAAc,IAAIP,YAAY,eAE5ConB,OAAM,KACP1jB,KAAKkE,UAAUrH,cAAc,IAAIP,YAAY,UAC7C0D,KAAKkE,UAAUrH,cAAc,IAAIP,YAAY,eAGrD4E,OACSlB,KAAKiW,QAAQ+O,SAElBhlB,KAAKy/B,SAASx6B,QACdjF,KAAKiW,QAAQ+O,QAAS,GAE1B9jB,QACQlB,KAAKiW,QAAQ+O,SAEjBhlB,KAAKy/B,SAASM,OACd//B,KAAKiW,QAAQ+O,QAAS,IAI9B,MAAMjF,GAAQ,IAAIxW,QAClB,MAAM4hC,4BAA4B9yB,YAC9BnX,cACI8P,QAEJ9P,oBACI,MAAMkqC,EAASprC,KAAKM,aAAa,OACjC,IAAK8qC,EACD,OACJ,MAAM9mC,EAAQtE,KAAKuF,cAAc,SAC3B0Q,EAAUrZ,SAASG,eAAequC,GAClC9mC,aAAiBtH,kBAAsBiZ,IAE7C8J,GAAMxe,IAAIvB,KAAM,IAAI2qC,aAAa3qC,KAAMsE,EAAO2R,IAC9CA,EAAQ7U,aAAa,OAAQ,YAEjCF,uBACI,MAAMulB,EAAe1G,GAAMjf,IAAId,MAC3BymB,IACAA,EAAayc,UACbnjB,GAAM7Y,OAAOlH,OAGrB+lB,UACI,OAAO/lB,KAAKM,aAAa,QAAU,GAEvCylB,QAAQtE,GACJzhB,KAAKoB,aAAa,MAAOqgB,GAE7BvlB,YACI,OAAO8D,KAAKM,aAAa,UAAY,GAEzCpE,UAAUA,GACN8D,KAAKoB,aAAa,QAASlF,GAE/B0pB,WACI,OAAO5lB,KAAKsB,aAAa,QAE7BskB,SAAS1pB,GACDA,EACA8D,KAAKoB,aAAa,OAAQ,IAG1BpB,KAAK6L,gBAAgB,QAG7B3J,gCACI,MAAO,CAAC,OAAQ,SAEpBhB,yBAAyBjC,EAAMwvB,EAAUttB,GACrC,GAAIstB,IAAattB,EACb,OACJ,MAAMslB,EAAe1G,GAAMjf,IAAId,MAC/B,GAAKymB,EAEL,OAAQxnB,GACJ,IAAK,OACY,OAAbkC,EAAoBslB,EAAaoD,QAAUpD,EAAab,OACxD,MACJ,IAAK,QACgB,OAAbzkB,IACAslB,EAAaniB,MAAMpI,MAAQiF,GAE/BnB,KAAKnD,cAAc,IAAImtC,kBAAkB,uBAAwB,CAC7DztC,SAAS,EACTkI,cAAegiB,EAAaniB,WAO3C7B,OAAOC,eAAe5B,IAAI,mBAC3B2B,OAAO0oC,oBAAsBA,oBAC7B1oC,OAAOC,eAAeC,OAAO,gBAAiBwoC,iDC3PnC,MAAME,4BAA4BhzB,YAC7CnX,cACI8P,QACAhR,KAAKP,iBAAiB,WAAYzE,IAC9B,MAAME,EAASF,EAAME,OACrB,KAAMA,aAAkBmd,aACpB,OACJ,GAAoC,QAAhCnd,EAAOoF,aAAa,UAAsBpF,EAAOoI,QAAQ,oBACzD,OACJ,MAAMgoC,EAAOvmC,MAAMC,KAAKhF,KAAK1C,iBAAiB,kCACxCsnB,EAAe0mB,EAAKnmC,QAAQmmC,EAAKjY,MAAKkY,GAAOA,EAAIj4B,QAAQ,6BAC/D,GAAmB,eAAftY,EAAMwd,KAAuB,CAC7B,IAAItN,EAAQ0Z,EAAe,EACvB1Z,GAASogC,EAAK3tC,SACduN,EAAQ,GACZsgC,GAAUxrC,KAAMkL,QAEf,GAAmB,cAAflQ,EAAMwd,KAAsB,CACjC,IAAItN,EAAQ0Z,EAAe,EACvB1Z,EAAQ,IACRA,EAAQogC,EAAK3tC,OAAS,GAC1B6tC,GAAUxrC,KAAMkL,OAEI,SAAflQ,EAAMwd,MACXgzB,GAAUxrC,KAAM,GAChBhF,EAAMqe,kBAEc,QAAfre,EAAMwd,OACXgzB,GAAUxrC,KAAMsrC,EAAK3tC,OAAS,GAC9B3C,EAAMqe,qBAGdrZ,KAAKP,iBAAiB,SAAUzE,IAC5B,MAAMswC,EAAOvmC,MAAMC,KAAKhF,KAAK1C,iBAAiB,kCAC9C,KAAMtC,EAAME,kBAAkByJ,SAC1B,OACJ,MAAM4mC,EAAMvwC,EAAME,OAAOoI,QAAQ,gBACjC,IAAKioC,IAAQA,EAAIjoC,QAAQ,oBACrB,OAEJkoC,GAAUxrC,KADIsrC,EAAKnmC,QAAQomC,OAInCrqC,oBACI,IAAK,MAAMqqC,KAAOvrC,KAAK1C,iBAAiB,iCAC/BiuC,EAAIjqC,aAAa,kBAClBiqC,EAAInqC,aAAa,gBAAiB,SAEjCmqC,EAAIjqC,aAAa,cACwB,SAAtCiqC,EAAIjrC,aAAa,iBACjBirC,EAAInqC,aAAa,WAAY,KAG7BmqC,EAAInqC,aAAa,WAAY,QAMjD,SAASoqC,GAAUC,EAAcvgC,GAC7B,MAAMogC,EAAOG,EAAanuC,iBAAiB,iCACrCouC,EAASD,EAAanuC,iBAAiB,qBACvCquC,EAAcL,EAAKpgC,GACnB0gC,EAAgBF,EAAOxgC,GAM7B,KALmBugC,EAAa5uC,cAAc,IAAIP,YAAY,uBAAwB,CAClFC,SAAS,EACTC,YAAY,EACZC,OAAQ,CAAEgI,cAAemnC,MAE7B,CAEA,IAAK,MAAML,KAAOD,EACdC,EAAInqC,aAAa,gBAAiB,SAClCmqC,EAAInqC,aAAa,WAAY,MAEjC,IAAK,MAAMyqC,KAASH,EAChBG,EAAM7mB,QAAS,EACV6mB,EAAMvqC,aAAa,aAAgBuqC,EAAMvqC,aAAa,kCACvDuqC,EAAMzqC,aAAa,WAAY,KAGvCuqC,EAAYvqC,aAAa,gBAAiB,QAC1CuqC,EAAYvqC,aAAa,WAAY,KACrCuqC,EAAYzyB,QACZ0yB,EAAc5mB,QAAS,EACvBymB,EAAa5uC,cAAc,IAAIP,YAAY,wBAAyB,CAChEC,SAAS,EACTE,OAAQ,CAAEgI,cAAemnC,OCvFjC,SAAShQ,GAAWzC,EAAUhqB,GAC1B,MAAMg0B,EAAYhK,EAASj9B,MAAMglC,UAAU,EAAG/H,EAASE,gBAAkB,GACnE+J,EAAYjK,EAASj9B,MAAMglC,UAAU/H,EAASG,cAAgB,GAC9DwS,EAA+B,IAArB3I,EAAUxlC,QAAgBwlC,EAAU52B,MAAM,OAAS,GAAK,KAClEw/B,EAAmB5I,EAAY2I,EAAU38B,EAC/CgqB,EAASj9B,MAAQ6vC,EAAmB3I,EACpCjK,EAASE,eAAiB0S,EAAiBpuC,OAC3Cw7B,EAASG,aAAeH,EAASE,eACjCF,EAASt8B,cAAc,IAAIP,YAAY,SAAU,CAC7CC,SAAS,EACTC,YAAY,KAEhB28B,EAASjgB,QAab,SAASiU,GAAOnyB,GACZ,MAAM6wB,EAAW7wB,EAAM2yB,aACvB,IAAK9B,EACD,OACJ,GAoCJ,SAAiBA,GACb,OAAO9mB,MAAMC,KAAK6mB,EAAS4B,OAAOtoB,QAAQ,UAAY,EArClDqoB,CAAQ3B,GACR,OACJ,IAAKmgB,GAAQngB,GACT,OACJ,MAAMogB,EAAQC,GAAargB,GAC3B,IAAKogB,EAAMlgB,KAAKogB,IACZ,OACJnxC,EAAMqpB,kBACNrpB,EAAMqe,iBACN,MAAMvc,EAAQ9B,EAAMikB,cACdniB,aAAiBG,qBAEvB2+B,GAAW9+B,EAAOmvC,EAAMvuC,IAAI0uC,IAAS15B,KAAK,KAE9C,SAAS25B,GAAWrxC,GAChB,MAAM6wB,EAAW7wB,EAAM2yB,aACnB9B,IACAA,EAAS+B,WAAa,QAE9B,SAASR,GAAQpyB,GACb,MAAM6wB,EAAW7wB,EAAM+yB,cACvB,IAAKlC,IAAamgB,GAAQngB,GACtB,OACJ,MAAMogB,EAAQC,GAAargB,GAC3B,IAAKogB,EAAMlgB,KAAKogB,IACZ,OACJnxC,EAAMqpB,kBACNrpB,EAAMqe,iBACN,MAAMvc,EAAQ9B,EAAMikB,cACdniB,aAAiBG,qBAEvB2+B,GAAW9+B,EAAOmvC,EAAMvuC,IAAI0uC,IAAS15B,KAAK,KAE9C,SAAS05B,GAAQvlB,GACb,OAAOslB,GAAYtlB,GAAQ,SAASA,OAAYA,EAKpD,SAASmlB,GAAQngB,GACb,OAAO9mB,MAAMC,KAAK6mB,EAAS4B,OAAOtoB,QAAQ,kBAAoB,EAElE,SAAS+mC,GAAargB,GAClB,OAAQA,EAAS2G,QAAQ,kBAAoB,IAAI7rB,MAAM,mCDkBtDlE,OAAOC,eAAe5B,IAAI,mBAC3B2B,OAAO4oC,oBAAsBA,oBAC7B5oC,OAAOC,eAAeC,OAAO,gBAAiB0oC,sBE1FlD5oC,OAAOmwB,uBAAuB9yB,UAAUojB,MAASiQ,IAC/CA,EAAQzR,QAAQnhB,OAAO,mBAAoB,kBACpCkC,OAAOygB,MAAMiQ,IDsEtB,MAAMmZ,GAAW,sBACjB,SAASH,GAAY1qB,GACjB,OAAO6qB,GAASte,KAAKvM,GAazB,SAAS8qB,GAASvxC,GACd,MAAM6wB,EAAW7wB,EAAM2yB,aACvB,IAAK9B,EACD,OACJ,GA8BJ,SAAmBA,GACf,OAAO9mB,MAAMC,KAAK6mB,EAAS4B,OAAOtoB,QAAQ,UAAY,EA/BlDqnC,CAAU3gB,GACV,OACJ,MAAM4gB,EAAQC,GAAS7gB,GACvB,IAAK4gB,EACD,OACJzxC,EAAMqpB,kBACNrpB,EAAMqe,iBACN,MAAMvc,EAAQ9B,EAAMikB,cAChBniB,aAAiBG,qBACjB2+B,GAAW9+B,EAAO6vC,GAAcF,IAGxC,SAASG,GAAa5xC,GAClB,MAAM6wB,EAAW7wB,EAAM2yB,aACnB9B,IACAA,EAAS+B,WAAa,QAE9B,SAASif,GAAU7xC,GACf,IAAKA,EAAM+yB,cACP,OACJ,MAAM0e,EAAQC,GAAS1xC,EAAM+yB,eAC7B,IAAK0e,EACD,OACJzxC,EAAMqpB,kBACNrpB,EAAMqe,iBACN,MAAMvc,EAAQ9B,EAAMikB,cAChBniB,aAAiBG,qBACjB2+B,GAAW9+B,EAAO6vC,GAAcF,IAMxC,SAASK,GAAW3kC,GAMhB,OAJcA,EAAOnC,aAAe,IAC/B0Z,OACAnd,QAAQ,MAAO,OACfA,QAAQ,MAAO,MAJC,IAUzB,SAASoqC,GAAcvhC,GACnB,MAAM2hC,EAAOhoC,MAAMC,KAAKoG,EAAK9N,iBAAiB,OACxC0vC,EAAWD,EAAK5a,QACtB,IAAK6a,EACD,MAAO,GACX,MAAMtrB,GARYurB,EAQWD,EAPtBjoC,MAAMC,KAAKioC,EAAI3vC,iBAAiB,WAAWI,IAAIovC,KAD1D,IAAsBG,EASlB,MAAMC,EAAUxrB,EAAQhkB,KAAI,IAAM,OASlC,MAAO,KARQ,GAAGgkB,EAAQhP,KAAK,WAAWw6B,EAAQx6B,KAAK,aAC1Cq6B,EACRrvC,KAAIuvC,GACEloC,MAAMC,KAAKioC,EAAI3vC,iBAAiB,OAClCI,IAAIovC,IACJp6B,KAAK,SAETA,KAAK,YAQd,SAASg6B,GAAS7gB,GACd,IAAyD,IAArD9mB,MAAMC,KAAK6mB,EAAS4B,OAAOtoB,QAAQ,aACnC,OAAO,KACX,MAAM8I,EAAO4d,EAAS2G,QAAQ,aAC9B,IAAK,UAAUxE,KAAK/f,GAChB,OAAO,KACX,MAAMw+B,EAXV,SAAoBx+B,GAChB,MAAM9Q,EAAKP,SAAS2R,cAAc,OAElC,OADApR,EAAGqR,UAAYP,EACR9Q,EAAGoI,cAAc,SAQV4nC,CAAWl/B,GACzB,OAAQw+B,GAASA,EAAMnpC,QAAQ,8BAAgC,KAAOmpC,EAS1E,SAASW,GAAUpyC,GACf,MAAM6wB,EAAW7wB,EAAM+yB,cACvB,IAAKlC,IAYT,SAAqBA,GACjB,OAAO9mB,MAAMC,KAAK6mB,EAAS4B,OAAOtoB,QAAQ,eAAiB,EAbzCkoC,CAAYxhB,GAC1B,OACJ,MAAM/uB,EAAQ9B,EAAMikB,cACpB,KAAMniB,aAAiBG,qBACnB,OACJ,MAAMkS,EAAO0c,EAAS2G,QAAQ,cACzBrjB,IAELnU,EAAMqpB,kBACNrpB,EAAMqe,iBACNuiB,GAAW9+B,EAAOqS,IE3Lf,SAAU/S,GAAM+S,GACnB,IAAIjT,EAAQ,GACRoxC,EAAa,EACb1nB,GAAO,EACX,IAAK,IAAI7mB,EAAI,EAAGA,EAAIoQ,EAAKxR,OAAQoB,GAAK,EAClB,MAAZoQ,EAAKpQ,IAA8B,MAAhBoQ,EAAKpQ,EAAI,IAA8B,OAAhBoQ,EAAKpQ,EAAI,IAAgB6mB,EAQlD,MAAZzW,EAAKpQ,IAA8B,MAAhBoQ,EAAKpQ,EAAI,IAA8B,OAAhBoQ,EAAKpQ,EAAI,IAAe6mB,IACvEA,GAAO,OACD,CAAE7Z,KAAM,OAAQ9G,MAAOqoC,EAAYpoC,IAAKnG,EAAI,EAAG7C,MAAOA,EAAMmJ,MAAM,GAAGqa,QAC3ExjB,EAAQ,GACR6C,GAAK,EACLuuC,EAAavuC,IAZb6mB,GAAO,EACH1pB,SACM,CAAE6P,KAAM,SAAU9G,MAAOqoC,EAAYpoC,IAAKnG,EAAG7C,MAAAA,IACvDA,EAAQ,KACRoxC,EAAavuC,EACbA,GAAK,GAST7C,GAASiT,EAAKpQ,IAAM,GAEpB7C,SACM,CAAE6P,KAAM,SAAU9G,MAAOqoC,EAAYpoC,IAAKiK,EAAKxR,OAAQzB,MAAAA,WF0KrE,SAAmBiB,GAIf,OAtHJ,SAAmBA,GACfA,EAAGsC,iBAAiB,WAAYmtC,IAChCzvC,EAAGsC,iBAAiB,OAAQ8sC,IAC5BpvC,EAAGsC,iBAAiB,QAASotC,IAgH7BU,CAAUpwC,GAnLd,SAAiBA,GACbA,EAAGsC,iBAAiB,WAAY4sC,IAChClvC,EAAGsC,iBAAiB,OAAQ0tB,IAC5BhwB,EAAGsC,iBAAiB,QAAS2tB,IAiL7BtkB,CAAQ3L,GA1BZ,SAAmBA,GACfA,EAAGsC,iBAAiB,QAAS2tC,IA0B7BI,CAAUrwC,GACH,CACH+I,YAAa,MAlHrB,SAAqB/I,GACjBA,EAAGgJ,oBAAoB,WAAYymC,IACnCzvC,EAAGgJ,oBAAoB,OAAQomC,IAC/BpvC,EAAGgJ,oBAAoB,QAAS0mC,IAgHxBY,CAAYtwC,GAnLxB,SAAmBA,GACfA,EAAGgJ,oBAAoB,WAAYkmC,IACnClvC,EAAGgJ,oBAAoB,OAAQgnB,IAC/BhwB,EAAGgJ,oBAAoB,QAASinB,IAiLxB/jB,CAAUlM,GA5BtB,SAAqBA,GACjBA,EAAGgJ,oBAAoB,QAASinC,IA4BxBM,CAAYvwC,QGzMxB,IAaIwwC,GAASC,GAbTC,GAAkE,SAAUC,EAAUC,EAAY7xC,GAClG,IAAK6xC,EAAWvqC,IAAIsqC,GAChB,MAAM,IAAIE,UAAU,kDAGxB,OADAD,EAAWxsC,IAAIusC,EAAU5xC,GAClBA,GAEP+xC,GAAkE,SAAUH,EAAUC,GACtF,IAAKA,EAAWvqC,IAAIsqC,GAChB,MAAM,IAAIE,UAAU,kDAExB,OAAOD,EAAWjtC,IAAIgtC,IAGnB,MAAMI,sBACThtC,YAAYitC,EAAQC,GAChBpuC,KAAKouC,WAAaA,EAClBT,GAAQpsC,IAAIvB,UAAM,GAClB4tC,GAAOrsC,IAAIvB,KAAM,IACjB6tC,GAAuB7tC,KAAM2tC,GAASQ,GACtCF,GAAuBjuC,KAAM2tC,IAASU,aAAa,IAEvDC,oBACI,OAAOL,GAAuBjuC,KAAM2tC,IAASY,KAAKtvC,KAEtDuvC,yBACI,OAAOP,GAAuBjuC,KAAM2tC,IAASY,KAAKE,aAEtDvyC,YACI,OAAO+xC,GAAuBjuC,KAAM4tC,IAExC1xC,UAAUA,GACN2xC,GAAuB7tC,KAAM4tC,GAAQ1xC,GAAS,IAC9C+xC,GAAuBjuC,KAAM2tC,IAASU,aAAanyC,GAEvD6B,cACI,OAAOkwC,GAAuBjuC,KAAM2tC,IAAS5vC,QAEjD2wC,mBACI,OAAOT,GAAuBjuC,KAAM2tC,IAASe,aAEjDA,iBAAiBxyC,GACb+xC,GAAuBjuC,KAAM2tC,IAASe,aAAexyC,GAG7DyxC,GAAU,IAAIpkC,QAAWqkC,GAAS,IAAIrkC,QAC/B,MAAMolC,qBACTztC,YAAYnD,EAASwwC,GACjBvuC,KAAKjC,QAAUA,EACfiC,KAAKuuC,KAAOA,EACZvuC,KAAK4uC,SAAW,GAEpBF,mBACI,OAAO1uC,KAAKjC,QAAQ8wC,eAAe7uC,KAAKuuC,KAAKE,aAAczuC,KAAKuuC,KAAKtvC,MAEzEyvC,iBAAiBxyC,GACb,GAA6B,IAAzB8D,KAAK4uC,SAASjxC,OACd,MAAM,IAAImxC,aAAa,0BAA2B,qBAGtD9uC,KAAK4uC,SAAS,GAAG1yC,MAAQA,EAAQ,GAAK,KAE1CgF,OAAO6L,GACH/M,KAAK4uC,SAAS7zC,KAAKgS,GAEvB7L,aAAa6tC,GACT,GAA6B,IAAzB/uC,KAAK4uC,SAASjxC,QAA8B,OAAdoxC,EAC9B/uC,KAAKjC,QAAQixC,kBAAkBhvC,KAAKuuC,KAAKE,aAAczuC,KAAKuuC,KAAKtvC,UAEhE,CACD,MAAM2N,EAAM5M,KAAK4uC,SAASlxC,KAAI2O,GAAmB,iBAANA,EAAiBA,EAAIA,EAAEnQ,QAAQwW,KAAK,IAC/E1S,KAAKjC,QAAQkxC,eAAejvC,KAAKuuC,KAAKE,aAAczuC,KAAKuuC,KAAKtvC,KAAM2N,KCvEhF,IAaIsiC,GAbArB,GAAkE,SAAUC,EAAUC,EAAY7xC,GAClG,IAAK6xC,EAAWvqC,IAAIsqC,GAChB,MAAM,IAAIE,UAAU,kDAGxB,OADAD,EAAWxsC,IAAIusC,EAAU5xC,GAClBA,GAEP+xC,GAAkE,SAAUH,EAAUC,GACtF,IAAKA,EAAWvqC,IAAIsqC,GAChB,MAAM,IAAIE,UAAU,kDAExB,OAAOD,EAAWjtC,IAAIgtC,IAGnB,MAAMqB,iBACTjuC,YAAYkK,EAAMgjC,GACdpuC,KAAKouC,WAAaA,EAClBc,GAAO3tC,IAAIvB,UAAM,GACjB6tC,GAAuB7tC,KAAMkvC,GAAQ,CAAC9jC,IACtCA,EAAKpF,YAAc,GAEvB9J,YACI,OAAO+xC,GAAuBjuC,KAAMkvC,IAAQxxC,KAAI0N,GAAQA,EAAKpF,cAAa0M,KAAK,IAEnFxW,UAAU48B,GACN94B,KAAKuC,QAAQu2B,GAEjBpsB,sBACI,OAAOuhC,GAAuBjuC,KAAMkvC,IAAQ,GAAGxiC,gBAEnDzC,kBACI,OAAOgkC,GAAuBjuC,KAAMkvC,IAAQjB,GAAuBjuC,KAAMkvC,IAAQvxC,OAAS,GAAGsM,YAEjG/I,WAAWub,GACP,MAAMjV,EAAQiV,EAAM/e,KAAI0N,GACA,iBAATA,EACA,IAAIgkC,KAAKhkC,GACbA,IAEN5D,EAAM7J,QACP6J,EAAMzM,KAAK,IAAIq0C,KAAK,KACxBnB,GAAuBjuC,KAAMkvC,IAAQ,GAAGv4B,UAAUnP,GAClD,IAAK,MAAMuF,KAAQkhC,GAAuBjuC,KAAMkvC,IAC5CniC,EAAK0I,SACTo4B,GAAuB7tC,KAAMkvC,GAAQ1nC,IC3CtC,SAAS6nC,GAAgBC,GAC5B,MAAO,CACHpuC,eAAeP,EAAU6G,EAAOsa,GAC5B9hB,KAAKuvC,gBAAgB5uC,EAAU6G,EAAOsa,IAE1C5gB,gBAAgBoW,EAAG9P,EAAOsa,GACtB,IAAIvmB,EACJ,GAAsB,iBAAXumB,GAAwBA,EAEnC,IAAK,MAAM/U,KAAQvF,EACf,GAAIuF,EAAKqhC,cAActsB,EAAQ,CAC3B,MAAM5lB,EAA2C,QAAlCX,EAAKumB,EAAO/U,EAAKqhC,mBAAgC,IAAP7yC,EAAgBA,EAAK,GAC9E+zC,EAAYviC,EAAM7Q,MAM/B,SAASszC,GAAwBziC,EAAM7Q,GAC1C6Q,EAAK7Q,MAAQoO,OAAOpO,GAEjB,SAASuzC,GAAwB1iC,EAAM7Q,GAC1C,MAAqB,kBAAVA,GACP6Q,aAAgBmhC,uBAC4B,kBAArCnhC,EAAKhP,QAAQgP,EAAKuhC,iBACzBvhC,EAAK2hC,aAAexyC,GACb,GDoBfgzC,GAAS,IAAI3lC,QChBN,MAAMmmC,GAAmBL,GAAgBG,WACEH,IAAgB,CAACtiC,EAAM7Q,KACrEuzC,GAAwB1iC,EAAM7Q,IAAUszC,GAAwBziC,EAAM7Q,OCjC1E,IAaIyzC,GAAYT,GAbZrB,GAAkE,SAAUC,EAAUC,EAAY7xC,GAClG,IAAK6xC,EAAWvqC,IAAIsqC,GAChB,MAAM,IAAIE,UAAU,kDAGxB,OADAD,EAAWxsC,IAAIusC,EAAU5xC,GAClBA,GAEP+xC,GAAkE,SAAUH,EAAUC,GACtF,IAAKA,EAAWvqC,IAAIsqC,GAChB,MAAM,IAAIE,UAAU,kDAExB,OAAOD,EAAWjtC,IAAIgtC,IAwCnB,MAAM7gC,2BAAyB2iC,iBAClC1uC,YAAYhB,EAAU4hB,EAAQ5U,EAAYwiC,IACtC,IAAIn0C,EAAIM,EACRmV,QACA2+B,GAAWpuC,IAAIvB,UAAM,GACrBkvC,GAAO3tC,IAAIvB,UAAM,GAIbrB,OAAOoC,eAAef,OAASiN,mBAAiBnN,YAChDnB,OAAOkxC,eAAe7vC,KAAMiN,mBAAiBnN,WAEjDE,KAAK2P,YAAYzP,EAASM,QAAQC,WAAU,IAC5CotC,GAAuB7tC,KAAMkvC,GAAQnqC,MAAMC,KA9CnD,UAAuB7H,GACnB,MAAM4N,EAAS5N,EAAG4E,cAAciJ,iBAAiB7N,EAAI2yC,WAAWC,UAAYD,WAAWE,aAAc,MAAM,GAC3G,IAAI5kC,EACJ,KAAQA,EAAOL,EAAOM,YAClB,GAAID,aAAgBzG,SAAWyG,EAAKG,gBAChC,IAAK,IAAIxM,EAAI,EAAGA,EAAIqM,EAAK/I,WAAW1E,OAAQoB,GAAK,EAAG,CAChD,MAAMwvC,EAAOnjC,EAAK/I,WAAWsO,KAAK5R,GAClC,GAAIwvC,GAAQA,EAAKryC,MAAMo3B,SAAS,MAAO,CACnC,MAAM2c,EAAc,IAAItB,qBAAqBvjC,EAAMmjC,GACnD,IAAK,MAAM2B,KAAS9zC,GAAMmyC,EAAKryC,OAC3B,GAAmB,WAAfg0C,EAAMnkC,KACNkkC,EAAY1vC,OAAO2vC,EAAMh0C,WAExB,CACD,MAAM6Q,EAAO,IAAImhC,sBAAsB+B,EAAaC,EAAMh0C,OAC1D+zC,EAAY1vC,OAAOwM,SACbA,SAMrB,GAAI3B,aAAgBgkC,MAAQhkC,EAAKpF,aAAeoF,EAAKpF,YAAYstB,SAAS,MAC3E,IAAK,MAAM4c,KAAS9zC,GAAMgP,EAAKpF,aAAc,CACrCkqC,EAAMhrC,IAAMkG,EAAKpF,YAAYrI,QAC7ByN,EAAK+kC,UAAUD,EAAMhrC,KACN,SAAfgrC,EAAMnkC,aACA,IAAIojC,iBAAiB/jC,EAAM8kC,EAAMh0C,QAC3C,OAkBwCk0C,CAAapwC,QAC7D6tC,GAAuB7tC,KAAM2vC,GAAYziC,GACiC,QAAzErR,GAAMN,EAAK0yC,GAAuBjuC,KAAM2vC,KAAaU,sBAAmC,IAAPx0C,GAAyBA,EAAG2F,KAAKjG,EAAIyE,KAAMiuC,GAAuBjuC,KAAMkvC,IAASptB,GAEvK5gB,OAAO4gB,GACHmsB,GAAuBjuC,KAAM2vC,IAAYJ,gBAAgBvvC,KAAMiuC,GAAuBjuC,KAAMkvC,IAASptB,8BAG7G6tB,GAAa,IAAIpmC,QAAW2lC,GAAS,IAAI3lC,QvCxEzC,IAAItB,GAAmB,YAkBvB,IAAIR,GAAW,8HACXK,GAAe,gCAiCnB,IAAIO,GAAU,gHAkBd,IAAIE,GAAU,kIACVC,GAAc,gDA4BlB,IAAII,GAAmB,+DAkBvB,IAAIF,GAAS,gGCrHb,SAAS4nC,GAAYC,GACjB,GAAsB,OAAlBA,EAAGpkC,cAAyBokC,EAAGpkC,sBAAsBkM,aACrD,MAAM,IAAIrV,MACd,MAAM6M,EAAM0gC,EAAGpkC,WAAW3F,SAC1B,IAAK,IAAIzH,EAAI,EAAGA,EAAI8Q,EAAIlS,SAAUoB,EAC9B,GAAI8Q,EAAI9Q,KAAOwxC,EACX,OAAOxxC,EAGf,OAAO,EAiBX,IAAIyxC,GAAkB,EAUtB,SAASC,GAAgBthC,GACrB,OAAOA,EACF5M,QAAQ,KAAM,SACdA,QAAQ,KAAM,UACdA,QAAQ,KAAM,UACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,QAEvB,MAAMmuC,GAAU,CACZC,MAAMxzC,GACEA,aAAcH,kBAAoBG,EAAGoH,QAC9B,OAEJ,OAEXrD,KAAK/D,GACD,MAAMgS,EAAOhS,EAAG6I,aAAe,GAC/B,OAAI7I,EAAGgP,YAAyC,QAA3BhP,EAAGgP,WAAWsB,UAC/BtQ,EAAG6I,YAAc,WAAWmJ,EAAK5M,QAAQ,OAAQ,kBAC1CpF,GAEPgS,EAAKhK,QAAQ,MAAQ,EACd,QAAQgK,SAEZ,KAAKA,OAEhByhC,OAAOzzC,GACI,KAAKA,EAAG6I,aAAe,OAElC6qC,GAAG1zC,GACQ,IAAIA,EAAG6I,aAAe,MAEjC8qC,IAAI3zC,GACO,IAAIA,EAAG6I,aAAe,MAEjC9E,WAAW/D,GACP,MAAMgS,GAAQhS,EAAG6I,aAAe,IAAI0Z,OAAOnd,QAAQ,MAAO,MACpD0+B,EAAMrkC,SAAS2R,cAAc,OAEnC,OADA0yB,EAAIj7B,YAAiBmJ,EAAH,OACX8xB,GAEX//B,EAAE/D,GACE,MAAMgS,EAAOhS,EAAG6I,aAAe,GACzB8gB,EAAO3pB,EAAGmD,aAAa,QAC7B,MAAI,WAAW0tB,KAAK7e,IAASA,IAAS2X,EAC3B3X,EAGH2X,EACO,IAAI3X,MAAS2X,KAGb3X,GAInBjO,IAAI/D,GACA,MAAMu0B,EAAMv0B,EAAGmD,aAAa,QAAU,GAChCylB,EAAM5oB,EAAGmD,aAAa,OAC5B,IAAKylB,EACD,MAAM,IAAI/iB,MACd,MAAM+tC,EAAY5zC,EAAGmE,aAAa,SAAW,WAAWmvC,GAAgBtzC,EAAGmD,aAAa,UAAY,OAAS,GACvG0wC,EAAa7zC,EAAGmE,aAAa,UAAY,YAAYmvC,GAAgBtzC,EAAGmD,aAAa,WAAa,OAAS,GACjH,OAAIywC,GAAaC,EACN,aAAaP,GAAgB/e,MAAQqf,IAAYC,UAAmBP,GAAgB1qB,OAGpF,KAAK2L,MAAQ3L,MAG5B7kB,GAAG/D,GACC,MAAM0xB,EAAO1xB,EAAGgP,WAChB,IAAK0iB,EACD,MAAM,IAAI7rB,MACd,IAAIiuC,EAAS,GACb,IApFR,SAA6BV,GACzB,MAAMW,EAAQX,EAAGY,WAAW,GACtB/L,EAASmL,EAAGY,WAAW,GAC7B,SAAID,GAASX,EAAGY,WAAWxzC,OAAS,MACJ,OAAnBuzC,EAAMzjC,UAAwC,OAAnByjC,EAAMzjC,UACpC23B,IAAWA,EAAO95B,WAAa2E,KAAKmhC,YAAehM,EAAOp/B,aAAe,IAAI0Z,SA+E9E2xB,CAAoBl0C,GACrB,GAAsB,OAAlB0xB,EAAKphB,SACL,GAAI+iC,GAAkB,IAAM3hB,EAAKniB,gBAAiB,CAE9CukC,EADYX,GAAYnzC,GAAMqzC,GAAkB,EACvC,YAGTS,EAAYX,GAAYnzC,GAAM,EAArB,UAIb8zC,EAAS,KAGjB,MAAMK,EAASL,EAAO1uC,QAAQ,MAAO,KAC/B4M,GAAQhS,EAAG6I,aAAe,IAAI0Z,OAAOnd,QAAQ,MAAO+uC,GACpDrQ,EAAMrkC,SAAS2R,cAAc,OAEnC,OADA0yB,EAAIj7B,YAAcmJ,EAAK5M,QAAQ+uC,EAAQL,GAChChQ,GAEX//B,GAAG/D,GACC,MAAMozC,EAAK3zC,SAAS2R,cAAc,MAGlC,OAFAgiC,EAAG5gC,YAAY/S,SAAS2R,cAAc,OACtCpR,EAAGoD,OAAOgwC,GACHpzC,GAEX+D,GAAG/D,GACC,MAAM05B,EAAQ3F,SAAS/zB,EAAGsQ,SAASpI,MAAM,IAEzC,OADAlI,EAAGshC,QAAW15B,MAAM8xB,EAAQ,GAAGnkB,KAAK,KAAzB,KACJvV,GAEXo0C,GAAGp0C,GACQA,GAGfuzC,GAAQa,GAAKb,GAAQc,GACrB,IAAK,IAAI3a,EAAQ,EAAGA,GAAS,IAAKA,EAC9B6Z,GAAQ,IAAI7Z,GAAW6Z,GAAQe,GAEnC,SAASC,GAAqB1yB,GAC1B,MAAM2yB,EAAe/0C,SAASg1C,mBAAmB5yB,EAAM8wB,WAAWE,cAAc,SAAU5kC,GACtF,OAAIA,EAAKqC,YAAYijC,KA7I7B,SAAkBtlC,GACd,GAAIA,aAAgB4d,mBAAgD,IAA3B5d,EAAK+lC,WAAWxzC,OAAc,CACnE,MAAMuzC,EAAQ9lC,EAAK+lC,WAAW,GAC9B,GAAID,aAAiBjgB,iBACjB,OAAOigB,EAAMnrB,MAAQ3a,EAAK0b,KAGlC,OAAO,EAsI8B+qB,CAASzmC,KApIlD,SAAoBA,GAChB,MAAyB,QAAlBA,EAAKqC,UAAyC,MAAnBrC,EAAKwH,WAmIiBk/B,CAAW1mC,IAjIvE,SAAoBA,GAChB,MAAyB,UAAlBA,EAAKqC,UAAwBrC,aAAgBpO,kBAAkC,aAAdoO,EAAKW,KAgIDgmC,CAAW3mC,IACxE0kC,WAAWkC,cAEflC,WAAWmC,eAEhBh8B,EAAU,GAChB,IAAI7K,EAAOumC,EAAatmC,WACxB,KAAOD,GACCA,aAAgBiN,aAChBpC,EAAQlb,KAAKqQ,GAEjBA,EAAOumC,EAAatmC,WAExB4K,EAAQwB,UACR,IAAK,MAAMta,KAAM8Y,EACb9Y,EAAGs1B,YAAYie,GAAQvzC,EAAGsQ,UAAUtQ,IA4C5C,MAAM6L,GAAa,IAAIO,QACvB,IAAIN,GAAY,EAChB,MAAMipC,GAAc,WAAWlkB,KAAKtG,UAAUqD,WAS9C,SAASjiB,GAAQ5E,EAAW5I,GACxB,MAAM62C,EAA6B,IAAdlpC,GACrBA,IAAaD,GAAWxF,IAAIU,GAAa,EAAI,EAC7C,MAAM6E,EAASpK,OAAOkU,OAAO,CACzBu/B,eAAe,EACfjpC,cAAc,EACdkpC,cAAe,IAChB/2C,GACH0N,GAAWzH,IAAI2C,EAAW6E,GACtBopC,GACAv1C,SAAS6C,iBAAiB,UAAWyJ,IAErCH,EAAOI,cACPjF,EAAUzE,iBAAiB,OAAQ2J,IAgB3C,SAASA,GAAOpO,GACZ,MAAME,EAASF,EAAME,OACrB,KAAMA,aAAkBmd,aACpB,OACJ,GAAID,GAAYld,GACZ,OACJ,MAAM2wB,EAAW7wB,EAAM+yB,cACvB,IAAKlC,EACD,OACJ,MAAMhE,EAAYplB,OAAOqlB,eACzB,IAAKD,EACD,OACJ,IAAIG,EACJ,IACIA,EAAQH,EAAUyqB,WAAW,GAEjC,MAAO/2C,GACH,OAEJ,MAAM4T,EAAO0Y,EAAU5hB,WACjBssC,EAASC,GAAarjC,EAAM6Y,GAAO,GACpCuqB,IAEL1mB,EAASoR,QAAQ,aAAc9tB,GAC/B0c,EAASoR,QAAQ,aAAcsV,EAAOE,eACtCz3C,EAAMqe,iBACNwO,EAAUE,kBACVF,EAAUM,SAASH,IAWvB,SAAS0qB,GAAcv1C,GACnB,IAAI+O,EAAS/O,EACb,KAAQ+O,EAASA,EAAO/L,eACpB,GAAI6I,GAAWxF,IAAI0I,GACf,OAAOA,EAInB,SAASymC,GAAazuC,GAClB,IAAK,MAAMpH,KAASoH,EAAU5G,iBAAiB,YAC3C,GAAIR,aAAiBG,qBAAuBkoB,GAAQroB,GAChD,OAAOA,EAInB,SAASoM,GAAelO,GACpB,GAzBJ,SAA4BA,GACxB,OAAQA,EAAMI,kBACI,MAAdJ,EAAMQ,KACNR,EAAM4d,SACN5d,EAAM2d,QACN3d,EAAMmJ,UACNnJ,EAAM0d,SACL1d,EAAME,kBAAkBmd,aAAeD,GAAYpd,EAAME,QAkB1D03C,CAAmB53C,GACnB,OACJ,MAAM6sB,EAAYplB,OAAOqlB,eACzB,IAAKD,EACD,OACJ,IAAIG,EACJ,IACIA,EAAQH,EAAUyqB,WAAW,GAEjC,MAAO/2C,GACH,OAEAs3C,GAAMhrB,EAAU5hB,WAAY+hB,IAC5BhtB,EAAMqe,iBAGd,SAASw5B,GAAM1jC,EAAM6Y,GACjB,MAAMuqB,EAASC,GAAarjC,EAAM6Y,GAAO,GACzC,IAAKuqB,EACD,OAAO,EACX,MAAMruC,UAAEA,EAASuuC,cAAEA,GAAkBF,EAMrC,IALmBruC,EAAUrH,cAAc,IAAIP,YAAY,kBAAmB,CAC1EC,SAAS,EACTC,YAAY,EACZC,OAAQ,CAAEurB,MAAAA,EAAOyqB,cAAAA,MAGjB,OAAO,EAEX,MAAM31C,EAAQ61C,GAAazuC,GAC3B,QAAKpH,IAyCT,SAAqB21C,EAAe31C,GAChC,IAAIg2C,EAAa,KAAKL,EAAclwC,QAAQ,MAAO,cAC/CzF,EAAMZ,QACN42C,EAAa,GAAGh2C,EAAMZ,YAAY42C,KAEtCh2C,EAAMZ,MAAQ42C,EACdh2C,EAAMD,cAAc,IAAIP,YAAY,SAAU,CAC1CC,SAAS,EACTC,YAAY,KAEhBM,EAAMoc,QACNpc,EAAMu8B,eAAiBv8B,EAAMZ,MAAMyB,OACnCb,EAAMyjC,UAAYzjC,EAAMi2C,aAnDxBC,CAAYP,EAAe31C,IACpB,GAEX,SAAS01C,GAAarjC,EAAM6Y,EAAOirB,GAC/B,IAAIR,EAAgBtjC,EAAKuQ,OACzB,IAAK+yB,EACD,OACJ,IAAIS,EAAYlrB,EAAMmrB,eACtB,IAAKD,EACD,OAGJ,GAFIA,EAAU5nC,WAAa2E,KAAKmjC,eAC5BF,EAAYA,EAAU/mC,cACpB+mC,aAAqBvuC,SACvB,OACJ,MAAMT,EAAYwuC,GAAcQ,GAChC,IAAKhvC,EACD,OACJ,MAAM5I,EAAU0N,GAAWlI,IAAIoD,GAC/B,GAAK5I,EAAL,CAEA,GAAIA,EAAQ82C,gBAAkBF,GAC1B,IACI,MAAM5kC,EA7LlB,SAAyB0a,EAAO5qB,GAC5B,MAAMsS,EAAYsY,EAAMmrB,eACxB,KAAKzjC,GAAcA,EAAUvD,YAAgBuD,EAAUvD,sBAAsBkM,aACzE,MAAM,IAAIrV,MAAM,8CAEpB,MAAMkJ,EAASwD,EAAUvD,WACzB,IAAImB,EAAW0a,EAAMqrB,gBACrB,GAAIj2C,EAAU,CACV,MAAMk2C,EAAiBhmC,EAAS/H,cAAcnI,GAC1Ck2C,IACAhmC,EAAW1Q,SAAS22C,yBACpBjmC,EAASqC,YAAY2jC,IAG7B9C,GAAkB,EAClB,MAAMD,EAAKrkC,EAAO5I,QAAQ,MAE1B,GADkB4I,EAAO5I,QAAQ,OAClB,CACX,MAAM29B,EAAMrkC,SAAS2R,cAAc,OACnC0yB,EAAItxB,YAAYrC,GAChBA,EAAW1Q,SAAS22C,yBACpBjmC,EAASqC,YAAYsxB,QAEpB,GAAIsP,GAAMA,EAAGpkC,aACiB,OAA3BokC,EAAGpkC,WAAWsB,WACd+iC,GAAkBF,GAAYC,KAE7BjjC,EAAS/H,cAAc,OAAO,CAC/B,MAAMoL,EAAO/T,SAAS2R,cAAc,MACpC,IAAKgiC,EAAGpkC,WACJ,MAAM,IAAInJ,MACd,MAAM6rB,EAAOjyB,SAAS2R,cAAcgiC,EAAGpkC,WAAWsB,UAClDkD,EAAKhB,YAAYrC,GACjBuhB,EAAKlf,YAAYgB,GACjBrD,EAAW1Q,SAAS22C,yBACpBjmC,EAASqC,YAAYkf,GAG7B,OAAOvhB,EAuJkBkmC,CAAgBxrB,EAAO1sB,EAAQ+2C,eAChDnuC,EAAUrH,cAAc,IAAIP,YAAY,2BAA4B,CAChEC,SAAS,EACTC,YAAY,EACZC,OAAQ,CAAE6Q,SAAAA,EAAU0a,MAAAA,EAAOirB,OAAAA,MAE/BvB,GAAqBpkC,GACrBmlC,EA2BZ,SAAwBnlC,GACpB,MAAMuU,EAAOjlB,SAASilB,KACtB,IAAKA,EACD,MAAO,GACX,MAAM4xB,EAAM72C,SAAS2R,cAAc,OACnCklC,EAAI9jC,YAAYrC,GAChBmmC,EAAInrB,MAAMuZ,QAAU,kCACpBhgB,EAAKlS,YAAY8jC,GACjB,IAAIhB,EAAgB,GACpB,IACI,MAAM5qB,EAAYplB,OAAOqlB,eACzB,GAAID,EAAW,CACX,MAAMG,EAAQprB,SAASqrB,cACvBD,EAAME,mBAAmBurB,GACzB5rB,EAAUE,kBACVF,EAAUM,SAASH,GACnByqB,EAAgB5qB,EAAU5hB,WAC1B4hB,EAAUE,kBACVC,EAAM0rB,kBAIV7xB,EAAK3X,YAAYupC,GAErB,OAAOhB,EAnDiBkB,CAAermC,GAAU/K,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IAEjF,MAAO6X,GACHjf,YAAW,KACP,MAAMif,KAIlB,MAAO,CAAEq4B,cAAAA,EAAevuC,UAAAA,IAgB5B,SAASihB,GAAQhoB,GACb,QAASA,EAAG8nB,aAAe,GAAK9nB,EAAG+nB,cAAgB,GA4BvD,SAAS9M,GAAYra,GACjB,MAAMkB,EAAOlB,EAAQ0P,SAASjL,cACxBuJ,GAAQhO,EAAQuC,aAAa,SAAW,IAAIkC,cAClD,MAAiB,WAATvD,GACK,aAATA,GACU,UAATA,GAA6B,WAAT8M,GAA8B,UAATA,GAC1ChO,EAAQua,kBhBzahB,IAAIrd,GAAgB,YuDApB,SAAkBk+B,GAChB,IAAIya,EAAgB,KAChBC,GAAgB,EAEhB/hB,OAAI,EACJ6C,OAAI,EACJnM,OAAS,EAEb,SAASsrB,EAAa94C,GACpB,GAAI82B,IAAM92B,EAAM+4C,SAAWpf,IAAM35B,EAAMg5C,QAAS,CAC9C,IAAIC,EAAY9a,EAAS7Q,MAAME,OAC3BA,GAAUA,IAAWyrB,IACvBJ,GAAgB,EAChB1a,EAAS7Q,MAAM4rB,UAAY,GAC3B/a,EAAShzB,oBAAoB,YAAa2tC,IAE5CtrB,EAASyrB,EAGXniB,EAAI92B,EAAM+4C,QACVpf,EAAI35B,EAAMg5C,QAGZ,IAAIp3C,EAAWu8B,EAASp3B,cACpBsR,EAAkBzW,EAASyW,gBAgB/B,SAAS8gC,IACP,KAAIN,GACA1a,EAASj9B,QAAU03C,GACnBza,EAASlU,aAAe,GAAKkU,EAASjU,cAAgB,GAA1D,CAEA,IAAIkvB,EAnBN,WAIE,IAHA,IAAIxf,EAAY,EACZz3B,EAAKg8B,EAEFh8B,IAAOP,EAASilB,MAAe,OAAP1kB,GAC7By3B,GAAaz3B,EAAGy3B,WAAa,EAC7Bz3B,EAAKA,EAAGk3C,aAGV,IAAI3rB,EAAMkM,EAAYh4B,EAAS0hB,YAAYgX,YAE3C,MAAO,CAAE5M,IAAKA,EAAK+X,OADNptB,EAAgB4iB,cAAgBvN,EAAMyQ,EAASjU,eAStCovB,GAClB5rB,EAAM0rB,EAAgB1rB,IACtB+X,EAAS2T,EAAgB3T,OAE7B,KAAI/X,EAAM,GAAK+X,EAAS,GAAxB,CAIA,IAAIyT,EAAY7yC,OAAOqgC,iBAAiBvI,GAAU3Q,OAAOjmB,QAAQ,KAAM,KAAOk+B,EAC9EtH,EAAS7Q,MAAM4rB,UAAYA,EAAY,IAAM,KAE7C,IAAIhwC,EAAYi1B,EAASh5B,cACzB,GAAI+D,aAAqBmU,YAAa,CACpC,IAAIk8B,EAAkBrwC,EAAUokB,MAAME,OACtCtkB,EAAUokB,MAAME,OAASkZ,iBAAiBx9B,GAAWskB,OACrD2Q,EAAS7Q,MAAME,OAAS,OACxB2Q,EAAS7Q,MAAME,OAAS2Q,EAAS4Z,aAAe,KAChD7uC,EAAUokB,MAAME,OAAS+rB,EACzB/rB,EAAS2Q,EAAS7Q,MAAME,OAG1BorB,EAAgBza,EAASj9B,QAG3B,SAASs4C,IACPX,GAAgB,EAChB1a,EAAS7Q,MAAME,OAAS,GACxB2Q,EAAS7Q,MAAM4rB,UAAY,GAG7B/a,EAAS15B,iBAAiB,YAAaq0C,GACvC3a,EAAS15B,iBAAiB,QAAS00C,GACnChb,EAAS15B,iBAAiB,SAAU00C,GACpC,IAAI32C,EAAO27B,EAAS37B,KAIpB,OAHIA,GAAMA,EAAKiC,iBAAiB,QAAS+0C,GACrCrb,EAASj9B,OAAOi4C,IAEb,CACLjuC,YAAa,WACXizB,EAAShzB,oBAAoB,YAAa2tC,GAC1C3a,EAAShzB,oBAAoB,QAASguC,GACtChb,EAAShzB,oBAAoB,SAAUguC,GACnC32C,GAAMA,EAAK2I,oBAAoB,QAASquC,QCvFnC,MAAMC,SACjBvzC,YAAYwzC,GAER,GADA10C,KAAKtC,IAAM,IAAIqG,IACX2wC,EACA,IAAK,MAAOh/B,EAAGtG,KAAMslC,EACjB10C,KAAKuB,IAAImU,EAAGtG,GAIxBlO,IAAI1F,GACA,MAAM0C,EAAS8B,KAAKtC,IAAIoD,IAAItF,GAC5B,OAAO0C,GAAkB,IAAI6xB,IAEjC7uB,IAAI1F,EAAKU,GACL,IAAIgC,EAAS8B,KAAKtC,IAAIoD,IAAItF,GAM1B,OALK0C,IACDA,EAAS,IAAI6xB,IACb/vB,KAAKtC,IAAI6D,IAAI/F,EAAK0C,IAEtBA,EAAOyB,IAAIzD,GACJ8D,KAEXkB,IAAI1F,GACA,OAAOwE,KAAKtC,IAAI8F,IAAIhI,GAExB0F,OAAO1F,EAAKU,GACR,MAAMgC,EAAS8B,KAAKtC,IAAIoD,IAAItF,GAC5B,IAAK0C,EACD,OAAO,EACX,IAAKhC,EACD,OAAO8D,KAAKtC,IAAIwJ,OAAO1L,GAC3B,MAAMm5C,EAAUz2C,EAAOgJ,OAAOhL,GAG9B,OAFKgC,EAAO6U,MACR/S,KAAKtC,IAAIwJ,OAAO1L,GACbm5C,EAEXzzC,MAAMhF,GACF,MAAM04C,EAAQ,GACd,IAAK,MAAMp5C,KAAOwE,KAAKsG,OACftG,KAAKkH,OAAO1L,EAAKU,KAAW8D,KAAKwD,IAAIhI,IACrCo5C,EAAM75C,KAAKS,GAGnB,OAAOo5C,EAEX1zC,OACI,OAAOlB,KAAKtC,IAAI4I,OAEpBpF,SACI,OAAOlB,KAAKtC,IAAIQ,SAEpBgD,UACI,OAAOlB,KAAKtC,IAAIskB,UAEpB9gB,CAAC2N,OAAOC,YACJ,OAAO9O,KAAKgiB,UAEhB9gB,QACIlB,KAAKtC,IAAI0S,QAEb2C,WACI,OAAO/S,KAAKtC,IAAIqV,MC7DxBwP,eAAe+L,GAAQ+Z,EAAIjhB,GACvB,IAAI/rB,EACJ,MAAMw5C,EAAO,IAAIz0B,SAAQ,CAACC,EAASc,KAC/B9lB,EAAK+iB,KAAKjjB,YAAW,IAAMgmB,EAAO,IAAIne,MAAM,aAAaqlC,MAE7D,IAAKjhB,EACD,OAAOytB,EACX,UACUz0B,QAAQ0C,KAAK,CAAC+xB,EAAMC,GAAY1tB,KAE1C,MAAO3V,IAEH,MADA2M,KAAKpF,aAAa3d,GACZoW,IAGd8Q,eAAe1f,GAAKwlC,EAAIjhB,GACpB,IAAI/rB,EACJ,MAAMw5C,EAAO,IAAIz0B,SAAQC,IACrBhlB,EAAK+iB,KAAKjjB,WAAWklB,EAASgoB,MAElC,IAAKjhB,EACD,OAAOytB,EACX,UACUz0B,QAAQ0C,KAAK,CAAC+xB,EAAMC,GAAY1tB,KAE1C,MAAO3V,IAEH,MADA2M,KAAKpF,aAAa3d,GACZoW,IAsBd,SAASqjC,GAAY1tB,GACjB,OAAO,IAAIhH,SAAQ,CAACC,EAASc,KACzB,MAAM/G,EAAQ,IAAIpX,MAAM,WACxBoX,EAAMnb,KAAO,aACTmoB,EAAO2tB,QACP5zB,EAAO/G,GAGPgN,EAAO3nB,iBAAiB,SAAS,IAAM0hB,EAAO/G,QAQ1DmI,eAAe1iB,GAAQ4hB,EAAK4mB,EAAIjhB,GAC5B,MAAM4tB,EAAS,IAAIC,UAAUxzB,GACvB0I,EAsBV,SAAkB6qB,GACd,OAAO,IAAI50B,SAAQ,CAACC,EAASc,KACrB6zB,EAAOp3B,aAAeq3B,UAAUC,KAChC70B,EAAQ20B,IAGRA,EAAOvK,QAAU,KACbuK,EAAOvK,QAAU,KACjBuK,EAAOG,OAAS,KAChBh0B,EAAO,IAAIne,MAAM,oBAErBgyC,EAAOG,OAAS,KACZH,EAAOvK,QAAU,KACjBuK,EAAOG,OAAS,KAChB90B,EAAQ20B,QApCLI,CAASJ,GACxB,IAEI,aADM50B,QAAQ0C,KAAK,CAACqH,EAAQmE,GAAQ+Z,EAAIjhB,KACjC4tB,EAEX,MAAOvjC,IAEH,MAGR8Q,eAAwB4H,GACpB,WACyBA,GACdN,QAEX,MAAOtuB,KATH85C,CAASlrB,GACH1Y,IAWd,SAAS6jC,GAAiB7zB,EAAK8zB,GAE3B,OAzDJhzB,eAAqB1nB,EAAI26C,EAAUC,EAAWC,EAAAA,EAAUtuB,GACpD,MAAM2tB,EAAU3tB,EAAS0tB,GAAY1tB,GAAU,KAC/C,IAAK,IAAIroB,EAAI,EAAGA,EAAIy2C,EAAUz2C,IAC1B,IACI,MAAM42C,EAAKZ,EAAU30B,QAAQ0C,KAAK,CAACjoB,IAAMk6C,IAAYl6C,IACrD,aAAa86C,EAEjB,MAAOlkC,IACH,GAAe,eAAXA,GAAExS,KACF,MAAMwS,GACV,GAAI1S,IAAMy2C,EAAW,EACjB,MAAM/jC,GACV,MAAM42B,EAAsB,IAAjB99B,KAAKqrC,IAAI,EAAG72C,GACjB82C,GAkBJphB,EAlBqB,GAAL4T,EAmBnB99B,KAAK04B,MAAM14B,KAAKC,SAAWD,KAAK04B,MAAMxO,WAlB/B5xB,GAAK0H,KAAKiqB,IAAIihB,EAAUpN,EAAKwN,GAAOzuB,GAiBtD,IAAcqN,EAdV,MAAM,IAAIzxB,MAAM,gBAwCT8yC,EADI,IAAMj2C,GAAQ4hB,EAAK8zB,EAAOjnB,QAASinB,EAAOnuB,SACpCmuB,EAAOC,SAAUD,EAAOE,SAAUF,EAAOnuB,8BAsB9D,MAAM2uB,aACF70C,YAAYugB,EAAKu0B,EAAUT,GACvBv1C,KAAKg1C,OAAS,KACdh1C,KAAKi2C,QAAU,KACfj2C,KAAKyhB,IAAMA,EACXzhB,KAAKg2C,SAAWA,EAChBh2C,KAAKu1C,OAASA,EAElBr0C,aACI,GAAIlB,KAAKi2C,SAAWj2C,KAAKg1C,OACrB,OACJh1C,KAAKi2C,QAAU,IAAI9uB,gBACnB,MAAMouB,EAAS52C,OAAOkU,OAAOlU,OAAOkU,OAAO,GAAI7S,KAAKu1C,QAAS,CAAEnuB,OAAQpnB,KAAKi2C,QAAQ7uB,SACpF,IACIpnB,KAAKg1C,aAAeM,GAAiBt1C,KAAKyhB,IAAK8zB,GAEnD,MAAOh6C,GAEH,YADAyE,KAAKg2C,SAASE,gBAAgBl2C,cAI9BA,KAAKi2C,QAAU,KAEnBj2C,KAAKg1C,OAAOmB,QAAWn7C,IACnBgF,KAAKg1C,OAAS,KACdh1C,KAAKg2C,SAASI,eAAep2C,KAAMhF,EAAMwd,KAAMxd,EAAMq7C,QAyCjE,IAAiB79B,EAHDgc,EAAKC,GArCKz0B,KAAKg2C,SAASM,mBACrBt2C,KAAKg2C,SAASM,kBAAkBt2C,KAAMhF,EAAMwd,OAuC9CA,EAtCSxd,EAAMwd,QAuCZ+9B,IAAoB/9B,IAASg+B,IArCjCx2C,KAAKg2C,SAASE,gBAAgBl2C,MAG9B7E,YAAW,IAAM6E,KAAK4lB,SA8BtB4O,EA9BqC,IA8BhCC,EA9BqC,IA+B/ClqB,KAAKC,UAAYiqB,EAAMD,GAAOA,KA5BjCx0B,KAAKg1C,OAAOyB,UAAaz7C,IACrBgF,KAAKg2C,SAASU,wBAAwB12C,KAAMhF,EAAMiR,OAEtDjM,KAAKg2C,SAASW,cAAc32C,MAEhCkB,MAAMsX,EAAM69B,GACJr2C,KAAKi2C,SACLj2C,KAAKi2C,QAAQ13B,QACbve,KAAKi2C,QAAU,MAEVj2C,KAAKg1C,SACVh1C,KAAKg1C,OAAOmB,QAAU,KACtBn2C,KAAKg1C,OAAOnrB,MAAMrR,EAAM69B,GACxBr2C,KAAKg1C,OAAS,KACdh1C,KAAKg2C,SAASI,eAAep2C,KAAMwY,EAAM69B,GACzCr2C,KAAKg2C,SAASE,gBAAgBl2C,OAGtCkB,KAAK+K,GACGjM,KAAKg1C,QACLh1C,KAAKg1C,OAAOtK,KAAKz+B,GAGzB/K,SACI,QAASlB,KAAKg1C,UAStB,MAAMuB,GAAmB,KACnBC,GAAiB,KCnLjBltC,GAAa,IAAIsV,QAIhB,SAASg4B,GAAiB7pC,EAAM7Q,GACnC,OAJwB26C,EAIR36C,IAHToN,GAAW9F,IAAIqzC,KAIlB36C,EAAM6Q,IACC,GANR,IAAqB8pC,ECA5B,MAAMC,GAAiB,IAAIvtC,QAC3B,MAAMwtC,aACF71C,YAAYnD,EAASgO,GACjB/L,KAAKjC,QAAUA,EACfiC,KAAK+L,KAAOA,EACZ/L,KAAKjC,QAAQ0B,iBAAiBO,KAAK+L,KAAM/L,MACzC82C,GAAeh2C,IAAId,KAAKjC,SAASwD,IAAIvB,KAAK+L,KAAM/L,MAEpDkB,IAAI81C,GACuB,mBAAZA,EACPh3C,KAAK0R,YAAcslC,EAASh1C,KAAKhC,KAAKjC,SAEb,iBAAbi5C,GAAyD,mBAAzBA,EAAStlC,YACrD1R,KAAK0R,YAAcslC,EAAStlC,YAAY1P,KAAKg1C,IAG7Ch3C,KAAKjC,QAAQoI,oBAAoBnG,KAAK+L,KAAM/L,MAC5C82C,GAAeh2C,IAAId,KAAKjC,SAASmJ,OAAOlH,KAAK+L,OAGrD7K,WAAW6L,GACF+pC,GAAetzC,IAAIuJ,EAAKhP,UACzB+4C,GAAev1C,IAAIwL,EAAKhP,QAAS,IAAIgG,KACzC,MAAMgI,EAAOgB,EAAKuhC,cAAcjpC,MAAM,GAChC4xC,EAAmBH,GAAeh2C,IAAIiM,EAAKhP,SACjD,OAAIk5C,EAAiBzzC,IAAIuI,GACdkrC,EAAiBn2C,IAAIiL,GACzB,IAAIgrC,aAAahqC,EAAKhP,QAASgO,I1DP9C,SAASmrC,GAAgBnqC,EAAM7Q,GAC3B,IAJJ,SAAoBA,GAChB,MAAwB,iBAAVA,GAAsB2S,OAAOC,YAAY5S,EAGlDyS,CAAWzS,GACZ,OAAO,EACX,GAAI6Q,aAAgBoiC,iBAAkB,CAClC,MAAM1yB,EAAQ,GACd,IAAK,MAAM9L,KAAQzU,EACf,GAAIyU,aAAgBxS,iBAAgB,CAChC,MAAMmP,EAAW1Q,SAAS22C,yBAC1B5iC,EAAK3S,WAAWsP,GAChBmP,EAAM1hB,QAAQuS,EAAS6jC,iBAElBxgC,aAAgBi/B,iBACrBnzB,EAAM1hB,QAAQ4V,EAAKwgC,YAGnB10B,EAAM1hB,KAAKuP,OAAOqG,IAK1B,OAFI8L,EAAM9e,QACNoP,EAAKxK,WAAWka,IACb,EAIP,OADA1P,EAAK7Q,MAAQ6I,MAAMC,KAAK9I,GAAOwW,KAAK,MAC7B,EAYf,MAAMykC,GAAY,IAAI5tC,QAChB6tC,GAAoB,IAAI7tC,QACxB8tC,GAA4B,IAAI9tC,QAC/B,MAAMpL,iBACT+C,YAAYjD,EAASC,EAAQgP,GACzBlN,KAAK/B,QAAUA,EACf+B,KAAK9B,OAASA,EACd8B,KAAKkN,UAAYA,EAErBhN,eACI,GAAIi3C,GAAU3zC,IAAIxD,KAAK/B,SACnB,OAAOk5C,GAAUr2C,IAAId,KAAK/B,SAEzB,CACD,MAAMiC,EAAWtD,SAAS2R,cAAc,YAClCrJ,EAAMlF,KAAK/B,QAAQN,OAAS,EAGlC,OAFAuC,EAASsO,UAAYxO,KAAK/B,QAAQmJ,QAAO,CAACwF,EAAK0qC,EAAKv4C,IAAM6N,EAAM0qC,GAAOv4C,EAAImG,EAAM,MAAMnG,OAAS,KAAK,IACrGo4C,GAAU51C,IAAIvB,KAAK/B,QAASiC,GACrBA,GAGfgB,WAAWnD,GACP,MAAMmC,EAAWF,KAAKE,SACtB,GAAIk3C,GAAkBt2C,IAAI/C,KAAamC,EAAU,CAC7Ck3C,GAAkB71C,IAAIxD,EAASmC,GAC/B,MAAMS,EAAW,IAAIsM,mBAAiB/M,EAAUF,KAAK9B,OAAQ8B,KAAKkN,WAQlE,OAPAmqC,GAA0B91C,IAAIxD,EAAS4C,QACnC5C,aAAmBoxC,iBACnBpxC,EAAQwE,WAAW5B,EAAS6F,UAG5BzI,EAAQ4R,YAAYhP,IAI5B02C,GAA0Bv2C,IAAI/C,GAASwS,OAAOvQ,KAAK9B,SAG3D,MAAME,GAAmBixC,IA/ClB,SAAqBtiC,EAAM7Q,GAC9B06C,GAAiB7pC,EAAM7Q,IACnBuzC,GAAwB1iC,EAAM7Q,I0DnB/B,SAAsB6Q,EAAM7Q,GAC/B,SAAI6Q,aAAgBmhC,uBAAyBnhC,EAAKuhC,cAAc71B,WAAW,SACvEs+B,aAAaQ,IAAIxqC,GAAMxL,IAAIrF,GAC3B6Q,EAAKhP,QAAQixC,kBAAkBjiC,EAAKyhC,mBAAoBzhC,EAAKuhC,gBACtD,G1DgBPkJ,CAAazqC,EAAM7Q,IAhD3B,SAA4B6Q,EAAM7Q,GAC9B,OAAIA,aAAiBiC,kBAAkB4O,aAAgBoiC,mBACnDjzC,EAAM8B,WAAW+O,IACV,GA8CP0qC,CAAmB1qC,EAAM7Q,IA1CjC,SAAiC6Q,EAAM7Q,GACnC,OAAIA,aAAiB0zC,kBAAoB7iC,aAAgBoiC,mBACjDjzC,EAAMi1C,WAAWxzC,QACjBoP,EAAKxK,WAAWrG,EAAMi1C,aACnB,GAuCPuG,CAAwB3qC,EAAM7Q,IAC9Bg7C,GAAgBnqC,EAAM7Q,IACtBszC,GAAwBziC,EAAM7Q,ayD5CZy7C,GETWz7C,GAAW6Q,IAC5C,KAAMA,aAAgBoiC,kBAClB,OACJ,MAAMjvC,EAAWtD,SAAS2R,cAAc,YACxCrO,EAASsO,UAAYtS,EACrB,MAAMoR,EAAW1Q,SAAS2Q,WAAWrN,EAASM,SAAS,GACvDuM,EAAKxK,WAAW+K,EAAS6jC,aFIlB,IAAIjzC,KACP,MAAMsb,EAAWm+B,MAAoBz5C,GAErC,OADAoL,GAAW3J,IAAI6Z,GACRA,KAJR,IAAmBm+B,GGXtBtoC,GAAEoC,GAAEzH,GAAEjL,GAAEkW,GAAE,SAAS5F,EAAEoC,GAAG,MAAM,CAACxS,KAAKoQ,EAAEnT,WAAM,IAASuV,GAAG,EAAEA,EAAEmP,MAAM,EAAEoB,QAAQ,GAAG3mB,GAAG,MAAM+G,OAAO6X,KAAKC,MAAM,KAAK9X,OAAOmI,KAAK04B,MAAM,cAAc14B,KAAKC,UAAU,QAAQ9L,GAAE,SAAS2Q,EAAEoC,GAAG,IAAI,GAAGmmC,oBAAoBC,oBAAoBvkB,SAASjkB,GAAG,CAAC,IAAIrF,EAAE,IAAI4tC,8BAA8BvoC,GAAG,OAAOA,EAAEqd,aAAahvB,IAAI+T,MAAM,OAAOzH,EAAErG,QAAQ,CAACoI,KAAKsD,EAAEyoC,UAAS,IAAK9tC,GAAG,MAAMqF,MAAMzF,IAAE,EAAGpL,GAAE,SAAS6Q,EAAEoC,GAAG7H,IAAG,oBAAoBmuC,iBAAiBt4C,iBAAiB,+BAA+BmK,IAAE,GAAInK,iBAAiB,6BAA6BuK,EAAEjL,GAAG,WAAWnC,SAASo7C,kBAAkB3oC,EAAEtQ,GAAG0S,GAAGtL,oBAAoB,mBAAmB6D,GAAE,OAAO,IAAKiuC,GAAE,SAAS5oC,GAAG5P,iBAAiB,qBAAqBgS,GAAGA,EAAEymC,WAAW7oC,EAAEoC,MAAK,IAAKhI,GAAE,mBAAmBmV,QAAQ,IAAIA,QAAQ,IAAImR,IAAI1jB,GAAE,SAASgD,EAAEoC,EAAEzH,GAAG,IAAIjL,EAAE,OAAO,WAAW0S,EAAEvV,OAAO,IAAI8N,GAAGP,GAAEjG,IAAIiO,IAAI,WAAW7U,SAASo7C,mBAAmBvmC,EAAEmP,MAAMnP,EAAEvV,OAAO6C,GAAG,IAAI0S,EAAEmP,YAAO,IAAS7hB,KAAKA,EAAE0S,EAAEvV,MAAMmT,EAAEoC,OAAgPlT,WAAvO,SAAS8Q,EAAEoC,GAAG,IAAIzH,EAAEjL,EAAEkW,GAAE,MAAM,GAAGrL,EAAE,SAASyF,GAAGA,EAAE8oC,iBAAiBp5C,EAAE7C,OAAOmT,EAAEnT,MAAM6C,EAAEijB,QAAQjnB,KAAKsU,GAAGrF,MAAMP,EAAE/K,GAAE,eAAekL,GAAGH,IAAIO,EAAEqC,GAAEgD,EAAEtQ,EAAE0S,GAAGjT,eAAciL,EAAE2uC,cAAc16C,IAAIkM,GAAGI,OAAOiuC,eAAcl5C,EAAEkW,GAAE,MAAM,GAAGjL,EAAEqC,GAAEgD,EAAEtQ,EAAE0S,WAAW,GAAErC,GAAE,WAAW,MAAM,WAAWxS,SAASo7C,gBAAgB,EAAE,EAAA,GAAKtnB,GAAE,WAAWlyB,aAAY6Q,GAAG,IAAIoC,EAAEpC,EAAEgpC,UAAU95C,GAAEkT,KAAI,IAAKzD,GAAE,WAAW,OAAOzP,GAAE,IAAIA,GAAE6Q,KAAIshB,KAAIunB,eAAc98C,uBAAuBoD,GAAE6Q,KAAIshB,OAAM,OAAO,CAAC2nB,gBAAgB,OAAO95C,MAAmYuI,WAA5X,SAASuI,EAAEoC,GAAG,IAAIzH,EAAEjL,EAAEiP,KAAIpE,EAAEqL,GAAE,OAAOzW,EAAEE,GAAE,kBAAkB2Q,GAAG,2BAA2BA,EAAEpQ,OAAOT,GAAGA,EAAE2f,aAAa9O,EAAEipC,UAAUv5C,EAAEs5C,YAAYzuC,EAAE1N,MAAMmT,EAAEipC,UAAU1uC,EAAEoY,QAAQjnB,KAAKsU,GAAG5F,GAAE9J,IAAIiK,GAAGI,SAASxL,IAAIwL,EAAEqC,GAAEgD,EAAEzF,EAAE6H,GAAGwmC,aAAYl5C,GAAG6K,EAAEqL,GAAE,OAAOjL,EAAEqC,GAAEgD,EAAEzF,EAAE6H,GAAG8mC,kCAAkCA,kCAAkC3uC,EAAE1N,MAAMs8C,YAAYt+B,MAAMnb,EAAEs5C,UAAU5uC,GAAE9J,IAAIiK,GAAGI,iBAAiB,CAAC+H,SAAQ,EAAG5S,SAAQ,IAAIw1B,GAAE,IAAI1a,KAAKw+B,GAAE,SAAS15C,EAAEkW,GAAG5F,KAAIA,GAAE4F,EAAExD,GAAE1S,EAAEiL,GAAE,IAAIiQ,KAAKy+B,GAAEvyC,qBAAqBwyC,OAAMA,GAAE,WAAW,GAAGlnC,IAAG,GAAGA,GAAEzH,GAAE2qB,GAAE,CAAC,IAAI1f,EAAE,CAAC2jC,UAAU,cAAc35C,KAAKoQ,GAAEtD,KAAK7Q,OAAOmU,GAAEnU,OAAOsB,WAAW6S,GAAE7S,WAAW87C,UAAUjpC,GAAEgpC,UAAUQ,gBAAgBxpC,GAAEgpC,UAAU5mC,IAAG1S,GAAE+5C,kBAAkBzpC,GAAGA,EAAE4F,MAAMlW,GAAE,KAAKg6C,GAAE,SAAS1pC,GAAG,GAAGA,EAAE7S,WAAW,CAAC,IAAIiV,GAAGpC,EAAEgpC,UAAU,KAAK,IAAIp+B,KAAKu+B,YAAYt+B,OAAO7K,EAAEgpC,UAAU,eAAehpC,EAAEtD,KAAK,SAASsD,EAAEoC,GAAG,IAAIzH,EAAE,WAAWyuC,GAAEppC,EAAEoC,GAAGwD,KAAKlW,EAAE,WAAWkW,KAAKA,EAAE,WAAW9O,oBAAoB,YAAY6D,EAAElD,IAAGX,oBAAoB,gBAAgBpH,EAAE+H,KAAIrH,iBAAiB,YAAYuK,EAAElD,IAAGrH,iBAAiB,gBAAgBV,EAAE+H,IAA9N,CAAkO2K,EAAEpC,GAAGopC,GAAEhnC,EAAEpC,KAAKqpC,GAAE,SAASrpC,GAAG,CAAC,YAAY,UAAU,aAAa,eAAeypC,kBAAkBrnC,GAAG,OAAOpC,EAAEoC,EAAEsnC,GAAEjyC,eAAS,SAASkD,EAAEJ,GAAG,IAAImK,EAAExV,EAAEyP,KAAIoB,EAAE6F,GAAE,OAAOyb,EAAE,SAASrhB,GAAGA,EAAEipC,UAAU/5C,EAAE85C,YAAYjpC,EAAElT,MAAMmT,EAAEwpC,gBAAgBxpC,EAAEipC,UAAUlpC,EAAE4S,QAAQjnB,KAAKsU,GAAG5F,GAAE9J,IAAIyP,GAAG2E,MAAMilC,EAAEt6C,GAAE,cAAcgyB,GAAG3c,EAAE1H,GAAErC,EAAEoF,EAAExF,GAAGovC,GAAGx6C,eAAcw6C,EAAEZ,cAAc16C,IAAIgzB,GAAGsoB,EAAE76B,gBAAe,GAAI66B,GAAGf,eAAc,IAAIv5C,EAAE0Q,EAAE6F,GAAE,OAAOlB,EAAE1H,GAAErC,EAAEoF,EAAExF,GAAG7K,GAAE,GAAG0S,IAAG,EAAEpC,GAAE,KAAKqpC,GAAEj5C,kBAAkBf,EAAEgyB,EAAE3xB,GAAEhE,KAAK2D,GAAGi6C,kBAAU,SAAStpC,EAAEoC,GAAG,IAAIzH,EAAEjL,EAAEiP,KAAIpE,EAAEqL,GAAE,OAAOlB,EAAE,SAAS1E,GAAG,IAAIoC,EAAEpC,EAAEipC,UAAU7mC,EAAE1S,EAAEs5C,YAAYzuC,EAAE1N,MAAMuV,EAAE7H,EAAEoY,QAAQjnB,KAAKsU,IAAIrF,KAAKzL,EAAEG,GAAE,2BAA2BqV,GAAG,GAAGxV,EAAE,CAACyL,EAAEqC,GAAEgD,EAAEzF,EAAE6H,GAAG,IAAIrC,EAAE,WAAW3F,GAAEjG,IAAIoG,KAAKrL,EAAE65C,cAAc16C,IAAIqW,GAAGxV,EAAE4f,aAAa1U,GAAE9J,IAAIiK,GAAGI,MAAM,CAAC,UAAU,SAAS8uC,kBAAkBzpC,GAAG5P,iBAAiB4P,EAAED,EAAE,CAAC0C,MAAK,EAAG3S,SAAQ,OAAQX,GAAE4Q,GAAE,GAAI6oC,aAAYl5C,GAAG6K,EAAEqL,GAAE,OAAOjL,EAAEqC,GAAEgD,EAAEzF,EAAE6H,GAAG8mC,kCAAkCA,kCAAkC3uC,EAAE1N,MAAMs8C,YAAYt+B,MAAMnb,EAAEs5C,UAAU5uC,GAAE9J,IAAIiK,GAAGI,wBAAiB,SAASqF,GAAG,IAAIoC,EAAEzH,EAAEiL,GAAE,QAAQxD,EAAE,WAAW,IAAI,IAAIA,EAAE+mC,YAAYS,iBAAiB,cAAc,IAAI,WAAW,IAAI5pC,EAAEmpC,YAAYU,OAAOznC,EAAE,CAACmnC,UAAU,aAAaN,UAAU,GAAG,IAAI,IAAItuC,KAAKqF,EAAE,oBAAoBrF,GAAG,WAAWA,IAAIyH,EAAEzH,GAAGO,KAAKkqB,IAAIplB,EAAErF,GAAGqF,EAAE8pC,gBAAgB,IAAI,OAAO1nC,EAAhL,GAAqLzH,EAAE9N,MAAM8N,EAAE4W,MAAMnP,EAAE2nC,cAAcpvC,EAAEgY,QAAQ,CAACvQ,GAAGpC,EAAErF,GAAG,MAAMqF,MAAM,aAAazS,SAASghB,WAAWziB,WAAWsW,EAAE,GAAGhS,iBAAiB,WAAWgS,oKCoBzvHjI,GAAWtN,GAAW6Q,IAC3C,QAAc7N,IAAVhD,GAAuB6Q,aAAgBmC,eACvC,GAAIhT,IAAU6Q,EAAK7Q,MAAO,CACtB,MAAM+C,EAAO8N,EAAKwC,UAAUtQ,KAC5B8N,EAAKwC,UAAUxR,QAAQ8N,gBAAgB5M,SAI3C8N,EAAKK,SAASlR;;;;;;;;;;;;;qBCZhBm9C,GAAsB,CAACC,EAAeC,KACxC,MAAMr1C,EAAYo1C,EAAc5pC,UAAUvD,WACpCqtC,OAA4Bt6C,IAAfq6C,EAA2BD,EAAc1pC,QACxD2pC,EAAW7pC,UACTA,EAAYxL,EAAUuI,aAAaH,IAAgBktC,GACzDt1C,EAAUuI,aAAaH,IAAgBktC,GACvC,MAAMC,EAAU,IAAIjqC,SAAS8pC,EAAch+C,SAE3C,OADAm+C,EAAQ9rC,gBAAgB+B,GACjB+pC,GAELC,GAAa,CAAC3sC,EAAM7Q,KACtB6Q,EAAKK,SAASlR,GACd6Q,EAAKM,SACEN,GAEL4sC,GAAmB,CAACL,EAAevsC,EAAM8C,KAC3C,MAAM3L,EAAYo1C,EAAc5pC,UAAUvD,WACpCqtC,EAAa3pC,EAAMA,EAAIH,UAAY4pC,EAAc1pC,QACjDA,EAAU7C,EAAK6C,QAAQ3F,YACzB2F,IAAY4pC,G7CXS,EAACt1C,EAAWe,EAAOC,EAAM,KAAMyR,EAAS,QACjE,KAAO1R,IAAUC,GAAK,CAClB,MAAM8E,EAAI/E,EAAMgF,YAChB/F,EAAUuI,aAAaxH,EAAO0R,GAC9B1R,EAAQ+E,I6CQR4vC,CAAc11C,EAAW6I,EAAK2C,UAAWE,EAAS4pC,IAGpDK,GAAc9sC,IAChBhD,EAAYgD,EAAK2C,UAAUvD,WAAYY,EAAK2C,UAAW3C,EAAK6C,QAAQ3F,cAKlE6vC,GAAc,CAACjrB,EAAM5pB,EAAOC,KAC9B,MAAMxH,EAAM,IAAIqG,IAChB,IAAK,IAAIhF,EAAIkG,EAAOlG,GAAKmG,EAAKnG,IAC1BrB,EAAI6D,IAAIstB,EAAK9vB,GAAIA,GAErB,OAAOrB,GAGLq8C,GAAgB,IAAIxwC,QACpBywC,GAAe,IAAIzwC,eAoBHC,GAAU,CAACsiB,EAAOmuB,EAAiB/5C,KACrD,IAAIg6C,EAOJ,YANiBh7C,IAAbgB,EACAA,EAAW+5C,OAEc/6C,IAApB+6C,IACLC,EAAQD,GAEJX,IACJ,KAAMA,aAAyB9pC,UAC3B,MAAM,IAAIxM,MAAM,4CAIpB,MAAMm3C,EAAWJ,GAAcj5C,IAAIw4C,IAAkB,GAC/Cc,EAAUJ,GAAal5C,IAAIw4C,IAAkB,GAI7Ce,EAAW,GAGXC,EAAY,GACZC,EAAU,GAChB,IAUIC,EACAC,EAXAvvC,EAAQ,EACZ,IAAK,MAAMyF,KAAQmb,EACfyuB,EAAQrvC,GAASgvC,EAAQA,EAAMvpC,EAAMzF,GAASA,EAC9CovC,EAAUpvC,GAAShL,EAASyQ,EAAMzF,GAClCA,IASJ,IAAIwvC,EAAU,EACVC,EAAUR,EAASx8C,OAAS,EAC5Bi9C,EAAU,EACVC,EAAUP,EAAU38C,OAAS,EAoMjC,KAAO+8C,GAAWC,GAAWC,GAAWC,GACpC,GAA0B,OAAtBV,EAASO,GAGTA,SAEC,GAA0B,OAAtBP,EAASQ,GAGdA,SAEC,GAAIP,EAAQM,KAAaH,EAAQK,GAElCP,EAASO,GACLlB,GAAWS,EAASO,GAAUJ,EAAUM,IAC5CF,IACAE,SAEC,GAAIR,EAAQO,KAAaJ,EAAQM,GAElCR,EAASQ,GACLnB,GAAWS,EAASQ,GAAUL,EAAUO,IAC5CF,IACAE,SAEC,GAAIT,EAAQM,KAAaH,EAAQM,GAElCR,EAASQ,GACLnB,GAAWS,EAASO,GAAUJ,EAAUO,IAC5ClB,GAAiBL,EAAea,EAASO,GAAUL,EAASQ,EAAU,IACtEH,IACAG,SAEC,GAAIT,EAAQO,KAAaJ,EAAQK,GAElCP,EAASO,GACLlB,GAAWS,EAASQ,GAAUL,EAAUM,IAC5CjB,GAAiBL,EAAea,EAASQ,GAAUR,EAASO,IAC5DC,IACAC,SASA,QANyB17C,IAArBs7C,IAGAA,EAAmBV,GAAYS,EAASK,EAASC,GACjDJ,EAAmBX,GAAYM,EAASM,EAASC,IAEhDH,EAAiBh3C,IAAI42C,EAAQM,IAK7B,GAAKF,EAAiBh3C,IAAI42C,EAAQO,IAKlC,CAID,MAAMG,EAAWL,EAAiB35C,IAAIy5C,EAAQK,IACxCG,OAAuB77C,IAAb47C,EAAyBX,EAASW,GAAY,KAC9D,GAAgB,OAAZC,EAAkB,CAGlB,MAAMtB,EAAUJ,GAAoBC,EAAea,EAASO,IAC5DhB,GAAWD,EAASa,EAAUM,IAC9BP,EAASO,GAAWnB,OAIpBY,EAASO,GACLlB,GAAWqB,EAAST,EAAUM,IAClCjB,GAAiBL,EAAeyB,EAASZ,EAASO,IAGlDP,EAASW,GAAY,KAEzBF,SAzBAf,GAAWM,EAASQ,IACpBA,SANAd,GAAWM,EAASO,IACpBA,IAkCZ,KAAOE,GAAWC,GAAS,CAGvB,MAAMpB,EAAUJ,GAAoBC,EAAee,EAASQ,EAAU,IACtEnB,GAAWD,EAASa,EAAUM,IAC9BP,EAASO,KAAanB,EAG1B,KAAOiB,GAAWC,GAAS,CACvB,MAAMI,EAAUZ,EAASO,KACT,OAAZK,GACAlB,GAAWkB,GAInBhB,GAAcx4C,IAAI+3C,EAAee,GACjCL,GAAaz4C,IAAI+3C,EAAeiB"}