{"version":3,"file":"settings.js","sources":["app/assets/modules/github/settings/actions-policies.ts","app/assets/modules/github/settings/actions-policy-popover.ts","app/assets/modules/github/settings/add-runner-input.ts","app/assets/modules/github/settings/advanced-security-usage-list.ts","app/assets/modules/github/settings/appearance-form-element.ts","app/assets/modules/github/settings/appearance-preview-element.ts","app/assets/modules/github/settings/apps.ts","app/assets/modules/github/settings/apps/installation-repo-selection.ts","app/assets/modules/github/settings/dependabot-repository-selection-input.ts","app/assets/modules/github/settings/integrations-callback-urls.ts","app/assets/modules/github/settings/integrations-edit.ts","app/assets/modules/github/settings/integrations.ts","app/assets/modules/github/settings/notifications.ts","app/assets/modules/github/settings/oauth-apps.ts","app/assets/modules/github/settings/email.ts","app/assets/modules/github/settings/key-links.ts","app/assets/modules/github/settings/org-secrets.ts","app/assets/modules/github/settings/repository-collabs.ts","app/assets/modules/github/settings/repository-options.ts","app/assets/modules/github/settings/repository-restore.ts","app/assets/modules/github/settings/repository-security-analysis.ts","app/assets/modules/github/settings/repository-selection-input.ts","app/assets/modules/github/settings/repository-settings.ts","app/assets/modules/github/settings/retention-form-element.ts","app/assets/modules/github/settings/runner-bulk-actions.ts","app/assets/modules/github/settings/runner-labels.ts","app/assets/modules/github/settings/saved-replies.ts","app/assets/modules/github/settings/security-analysis.ts","app/assets/modules/github/settings/webauthn-create.ts","app/assets/modules/github/settings/selected-item-list.ts","app/assets/modules/github/settings/theme-picker-element.ts","app/assets/modules/github/animate.ts","app/assets/modules/github/settings/user-add.ts","app/assets/modules/github/settings/user-settings.ts","app/assets/modules/github/settings/pages-composer.ts","app/assets/modules/github/settings/upload-repository-image.ts","app/assets/modules/github/settings/user-blocks.ts","app/assets/modules/github/settings/user-sessions.ts"],"sourcesContent":["import {on} from 'delegated-events'\n\nfunction selectRepoItem(event: Event) {\n  const item = event.target as HTMLInputElement\n  const form = item.closest<HTMLElement>('.js-policy-repos-container')!.querySelector('.js-policy-repos-form')!\n  const selectedRepoInput = createRepoInput(item)\n  const existing = form.querySelector(`[value='${selectedRepoInput.value}']`)\n  if (existing) {\n    existing.replaceWith(selectedRepoInput)\n  } else {\n    form.append(selectedRepoInput)\n  }\n}\n\nfunction createRepoInput(item: HTMLInputElement): HTMLInputElement {\n  const input = document.createElement('input')\n  input.type = 'hidden'\n  input.name = item.checked ? 'enable[]' : 'disable[]'\n  input.value = item.value\n\n  return input\n}\n\non('change', '.js-policy-repos-container .js-repository-item-checkbox', selectRepoItem)\n","import {controller, target} from '@github/catalyst'\n\n@controller\nclass ActionsPolicyPopoverElement extends HTMLElement {\n  @target popover: HTMLElement\n\n  togglePopover() {\n    this.popover.hidden = !this.popover.hidden\n  }\n}\n","import {getState, replaceState} from '../history'\nimport {on} from 'delegated-events'\n\non(\n  'details-menu-selected',\n  '.js-actions-runner-platform-menu',\n  function (event) {\n    const target = event.detail.relatedTarget as Element\n    const selection = target.closest<HTMLElement>('.js-actions-runner-instructions')!\n    const architectureMenu = selection.querySelector<HTMLElement>('.js-actions-runner-architecture-menu')!\n\n    const os = target.getAttribute('data-download-os')!\n    const defaultArchitecture = architectureMenu.getAttribute('data-default-architecture')!\n\n    for (const el of architectureMenu.querySelectorAll<HTMLElement>('[data-download-os]')) {\n      const elementOS = el.getAttribute('data-download-os')!\n      el.hidden = elementOS !== os\n      if (elementOS === os && el.getAttribute('data-download-architecture')! === defaultArchitecture) {\n        el.click()\n      }\n    }\n\n    selection.querySelector<HTMLElement>('.js-actions-runner-windows-instructions')!.hidden = os !== 'win'\n    selection.querySelector<HTMLElement>('.js-actions-runner-unix-instructions')!.hidden = os === 'win'\n\n    updateUrlParams('os', os)\n  },\n  {capture: true}\n)\n\non(\n  'details-menu-selected',\n  '.js-actions-runner-architecture-menu',\n  function (event) {\n    const target = event.detail.relatedTarget as Element\n    const selection = target.closest<HTMLElement>('.js-actions-runner-instructions')!\n    const downloadUrl = target.getAttribute('data-download-url')!\n    const filename = target.getAttribute('data-download-filename')!\n    const token = target.getAttribute('data-download-token')!\n    const hash = target.getAttribute('data-download-hash')!\n\n    for (const el of selection.querySelectorAll('.js-action-runner-url')) {\n      el.textContent = downloadUrl\n    }\n\n    for (const el of selection.querySelectorAll('.js-action-runner-filename')) {\n      el.textContent = filename\n    }\n\n    for (const el of selection.querySelectorAll('.js-action-runner-token')) {\n      el.textContent = token\n    }\n\n    for (const el of selection.querySelectorAll('.js-action-runner-hash')) {\n      el.textContent = hash\n    }\n    const architecture = target.getAttribute('data-download-architecture')!\n    updateUrlParams('arch', architecture)\n  },\n  {capture: true}\n)\n\nfunction updateUrlParams(key: string, value: string) {\n  const urlParams = new URLSearchParams(window.location.search)\n  urlParams.set(key, value)\n\n  const url = new URL(window.location.href, window.location.origin)\n  url.search = urlParams.toString()\n  replaceState(getState(), '', url.toString())\n}\n","import {fetchSafeDocumentFragment} from '../fetch'\nimport {on} from 'delegated-events'\nimport {pushState} from '../history'\nimport {ready} from '../document-ready'\n\n// If the page parameter is provided, the page number in the\n// container's src URL will be updated to the provided number.\n// Otherwise the src URL will be used as-is.\n//\n// This function is exported so that it can be tested.\nexport async function retrieveAdvancedSecurityEntities(page?: number) {\n  const container = document.querySelector<HTMLDivElement>('.js-ghas-entity-list-container')\n  if (container == null) {\n    return\n  }\n\n  const showOnError = container.querySelector<HTMLElement>('[data-show-on-error]')\n  const loadingElement = container.querySelector<HTMLElement>('[data-loading]')\n\n  const dataContainer = container.querySelector<HTMLElement>('[data-content-container]')\n  if (dataContainer == null) {\n    handleErrorState(showOnError, loadingElement, dataContainer)\n    return\n  }\n\n  let src = container.getAttribute('data-src')\n  if (src == null) {\n    handleErrorState(showOnError, loadingElement, dataContainer)\n    return\n  }\n\n  // Update the page number if one has been explicitly passed in\n  // and hide the pager, replacing it with a spinner.\n  //\n  // There's no javascript to handle showing the pager again and\n  // hiding the paging spinner, since the container's entire contents\n  // - including the pager - are replaced with the response data (or\n  // error message) anyway!\n  if (page !== undefined) {\n    const srcURL = new URL(src, window.origin)\n\n    srcURL.pathname = srcURL.pathname.replace(/\\d+$/, page.toString())\n\n    const newSrc = srcURL.toString()\n\n    if (src === newSrc) {\n      // another container has triggered a statechange but we are still on the correct page and do not need\n      // to fetch again\n      return\n    }\n\n    src = newSrc\n\n    const pager = container.querySelector<HTMLElement>('.js-advanced-security-entities-pagination')\n    if (pager) {\n      pager.hidden = true\n    }\n    const pagerLoadingElement = container.querySelector('[data-pager-loading]')\n    if (pagerLoadingElement) {\n      pagerLoadingElement.removeAttribute('hidden')\n    }\n  } else {\n    if (dataContainer.children.length > 0) {\n      // another pjax container has reloaded but we are already showing a page and we do not need\n      // to fetch again\n      return\n    }\n  }\n\n  let entityList\n  try {\n    entityList = await fetchSafeDocumentFragment(document, src)\n  } catch {\n    handleErrorState(showOnError, loadingElement, dataContainer)\n    return\n  }\n  if (!entityList) {\n    handleErrorState(showOnError, loadingElement, dataContainer)\n    return\n  }\n\n  if (loadingElement) {\n    loadingElement.hidden = true\n  }\n\n  dataContainer.innerHTML = ''\n  dataContainer.appendChild(entityList)\n}\n\nfunction handleErrorState(\n  showOnError: HTMLElement | null,\n  loadingElement: HTMLElement | null,\n  dataContainer: HTMLElement | null\n) {\n  if (showOnError) {\n    showOnError.hidden = false\n  }\n  if (loadingElement) {\n    loadingElement.hidden = true\n  }\n  if (dataContainer) {\n    dataContainer.innerHTML = ''\n  }\n}\n\n// retrieve the repo/org list on page load\n;(async () => {\n  await ready\n  retrieveAdvancedSecurityEntities()\n})()\n\n// switching between settings pages is handled by pjax, so doesn't trigger a\n// full page reload. Listen for pjax:end to handle this\ndocument.addEventListener('pjax:end', function () {\n  retrieveAdvancedSecurityEntities()\n})\n\nwindow.addEventListener('popstate', function (event) {\n  if (event.state === null) {\n    // the user has popped through all the states and gone back to the first page\n    // this will not trigger a statechange event so we must reload it explicitly\n    retrieveAdvancedSecurityEntities(1)\n  }\n})\n\n// reload entries on a push/pop state change\nwindow.addEventListener('statechange', function () {\n  const pageNumber = parseInt(\n    // See AdvancedSecurityEntitiesLinkRenderer::PAGE_PARAM for param name\n    new URLSearchParams(document.location.search).get('advanced_security_entities_page') || ''\n  )\n  if (isNaN(pageNumber)) {\n    return\n  }\n\n  retrieveAdvancedSecurityEntities(pageNumber)\n})\n\non('click', '.js-advanced-security-entities-pagination a', function (event) {\n  if (event == null || event.target == null) {\n    return\n  }\n  const href = (event.target as HTMLAnchorElement).href\n\n  const hrefURL = new URL(href, window.origin)\n\n  const currentParams = new URLSearchParams(document.location.search)\n\n  for (const [key, value] of currentParams) {\n    if (!hrefURL.searchParams.has(key)) {\n      hrefURL.searchParams.append(key, value)\n    }\n  }\n\n  pushState(null, '', hrefURL.toString())\n\n  event.preventDefault()\n})\n","import {ColorMode, getClientTheme, getPreferredColorMode, setClientMode, setClientTheme} from '../color-modes'\nimport {controller, target, targets} from '@github/catalyst'\n\n@controller\nclass AppearanceFormElement extends HTMLElement {\n  @target saveMessage: HTMLElement\n  @targets modePanels: HTMLElement[]\n\n  connectedCallback() {\n    // In order to prevent pollution of metrics, remove the profile_to_settings\n    // URL parameter on the Appearance > Settings page so folks are less likely\n    // to include it when copying the URL of the page from the menu bar.\n    let url = document.URL\n    if (url.match(/profile_to_settings=1&?/)) {\n      // Remove profile_to_settings=1 and optional &\n      url = url.replace(/profile_to_settings=1&?/, '')\n      if (url.match(/\\?$/)) {\n        // incase profile_to_settings was the only param, remove the leftover ?\n        url = url.replace(/\\?$/, '')\n      }\n      window.history.replaceState({}, document.title, url)\n    }\n  }\n\n  changePanel(event: Event) {\n    const select = event.currentTarget as HTMLSelectElement\n    const modeName = select.value\n    for (const panel of this.modePanels) {\n      const hidden = panel.getAttribute('data-mode-panel') !== modeName\n      panel.hidden = hidden\n      if (!hidden) {\n        const form = panel.querySelector('form') as HTMLFormElement\n        if (form) {\n          this.activateForm(form)\n        }\n      }\n    }\n  }\n\n  activateForm(form: HTMLFormElement) {\n    const selectedInputs = form.querySelectorAll<HTMLInputElement>('input[type=\"radio\"]:checked')\n    if (selectedInputs.length === 0) {\n      const currentMode = getPreferredColorMode()\n      const userTheme = getClientTheme(currentMode as ColorMode)\n      const input = form.querySelector<HTMLInputElement>(`input[value=${userTheme}]`)\n      if (input) {\n        input.checked = true\n        this.changeTheme(input)\n      }\n    } else {\n      for (const selectedInput of selectedInputs) {\n        this.changeTheme(selectedInput)\n      }\n    }\n    form.dispatchEvent(new Event('submit'))\n  }\n\n  themeClicked(event: Event) {\n    const selectedInput = event.currentTarget as HTMLInputElement\n    this.changeTheme(selectedInput)\n  }\n\n  changeTheme(input: HTMLInputElement) {\n    this.statusReset()\n    const theme = input.value\n    const themeType = input.getAttribute('data-type')\n    const mode = input.getAttribute('data-mode')\n\n    if (theme && themeType && mode) {\n      setClientMode(mode as ColorMode)\n      // Temporary until :color_modes_multi_themes feature flag ships\n      if (theme === 'auto') {\n        setClientTheme('light', 'light' as ColorMode)\n        setClientTheme('dark', 'dark' as ColorMode)\n      } else {\n        setClientTheme(theme, themeType as ColorMode)\n      }\n    }\n  }\n\n  async saveTheme(event: Event) {\n    event.preventDefault()\n    this.loading()\n\n    const form = event.currentTarget as HTMLFormElement\n    const formData = new FormData(form)\n    const response = await fetch(form.action, {\n      method: form.method,\n      body: formData,\n      headers: {'X-Requested-With': 'XMLHttpRequest'}\n    })\n\n    if (response.status === 200) {\n      this.saved()\n    } else {\n      this.errored()\n    }\n  }\n\n  statusReset() {\n    this.saveMessage.classList.remove('status-indicator-success', 'status-indicator-loading', 'status-indicator-failed')\n  }\n\n  loading() {\n    this.statusReset()\n    this.saveMessage.classList.add('status-indicator-loading')\n  }\n\n  saved() {\n    this.statusReset()\n    this.saveMessage.classList.add('status-indicator-success')\n  }\n\n  errored() {\n    this.statusReset()\n    this.saveMessage.classList.add('status-indicator-failed')\n  }\n}\n","import {ColorMode, getPreferredColorMode} from '../color-modes'\nimport {controller, target, targets} from '@github/catalyst'\n\n@controller\nclass AppearancePreviewElement extends HTMLElement {\n  @target boxElement: HTMLElement\n  @target activeLabel: HTMLElement\n  @targets themePreviews: HTMLElement[]\n\n  connectedCallback() {\n    this.checkActive()\n    window\n      .matchMedia(`(prefers-color-scheme: ${this.getAttribute('data-mode')})`)\n      .addEventListener('change', () => this.checkActive())\n  }\n\n  themePreview(e: Event) {\n    const disc = e.currentTarget as HTMLElement\n    if (!disc) {\n      return\n    }\n    const theme = disc.getAttribute('data-theme')\n    for (const preview of this.themePreviews) {\n      preview.hidden = preview.getAttribute('data-theme') !== theme\n    }\n  }\n\n  previewReset() {\n    const selectedTheme = this.boxElement.querySelector('input:checked') as HTMLInputElement\n    const theme = selectedTheme.value\n    for (const preview of this.themePreviews) {\n      preview.hidden = preview.getAttribute('data-theme') !== theme\n    }\n  }\n\n  checkActive() {\n    if ((this.getAttribute('data-mode') as ColorMode) === getPreferredColorMode()) {\n      this.boxElement.classList.add('Box--blue')\n      this.activeLabel.hidden = false\n    } else {\n      this.boxElement.classList.remove('Box--blue')\n      this.activeLabel.hidden = true\n    }\n  }\n}\n","import {debounce} from '@github/mini-throttle'\nimport {onInput} from '../onfocus'\nimport {remoteForm} from '@github/remote-form'\nimport {requestSubmit} from '../form'\n\nremoteForm('.js-app-bgcolor-form', async function (form, wants) {\n  const noticeContainer = form.querySelector('.js-app-bgcolor-save-notice')\n  if (!noticeContainer) {\n    return\n  }\n\n  let response\n  try {\n    response = await wants.html()\n  } catch (responseError) {\n    noticeContainer.classList.remove('visible')\n  }\n\n  if (response) {\n    noticeContainer.classList.add('visible')\n    setTimeout(() => noticeContainer.classList.remove('visible'), 1500)\n  }\n})\n\nfunction updateLogoBackgroundColor(container: Element, bgcolor: string) {\n  const bgcolorEl = container.querySelector('.js-app-logo-with-bgcolor')\n\n  if (bgcolorEl instanceof HTMLElement) {\n    bgcolorEl.style.backgroundColor = `#${bgcolor}`\n  }\n}\n\nfunction saveLogoBackgroundColor(form: HTMLFormElement, input: HTMLInputElement) {\n  if (input.checkValidity()) {\n    requestSubmit(form)\n  }\n}\n\nonInput('.js-app-bgcolor-input', function (event) {\n  const input = event.target\n  if (!(input instanceof HTMLInputElement)) return\n  const form = input.closest<HTMLFormElement>('form')!\n  const color = input.value.replace(/^#/, '')\n\n  if (color.length < 1) {\n    input.classList.remove('color-text-danger')\n    updateLogoBackgroundColor(form, input.defaultValue)\n    return\n  }\n\n  if (input.checkValidity()) {\n    input.classList.remove('color-text-danger')\n    updateLogoBackgroundColor(form, color)\n\n    if (form.classList.contains('js-app-bgcolor-form')) {\n      debounce(() => saveLogoBackgroundColor(form, input), 400)()\n    }\n  } else {\n    input.classList.add('color-text-danger')\n    updateLogoBackgroundColor(form, input.defaultValue)\n  }\n})\n","// GitHub Apps: Installation repository select menu behavior\n\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\n\nfunction selectedRepositories() {\n  return document.querySelectorAll<HTMLInputElement>('.js-selected-repository-field')\n}\n\nfunction isMaxRepositoriesSelected() {\n  const form = document.querySelector('.js-integrations-install-form')\n  if (form instanceof HTMLFormElement) {\n    const max = +(form.getAttribute('data-max-repos') || 0)\n    return max > 0 && selectedRepositories().length >= max\n  }\n}\n\n// Fetch new menu content, excluding selected repositories\nfunction toggleRepoVisibilityFromResults() {\n  const menu = document.querySelector<HTMLElement>('#repository-menu-list')!\n  const ids = Array.from(selectedRepositories()).map(input => input.value)\n  let anyVisible = false\n  for (const item of menu.querySelectorAll<HTMLButtonElement>('[role=menuitem]')) {\n    const hidden = ids.includes(item.value)\n    if (!anyVisible && !hidden) anyVisible = true\n    item.hidden = hidden\n  }\n  const noRepo = menu.querySelector('.js-no-repository-found')\n  if (noRepo instanceof HTMLElement) noRepo.hidden = anyVisible\n}\n\n// Disable the submit button is repository selection is required\nfunction updateFormValidity() {\n  const selectRepos = document.querySelector<HTMLInputElement>('.js-select-repositories-radio')!\n  const formIsValid = !selectRepos.checked || selectedRepositories().length > 0\n  const button = document.querySelector('.js-integrations-install-form-submit')\n  if (button && button instanceof HTMLButtonElement) {\n    button.disabled = !formIsValid\n  }\n}\n\n// Remove repository selection inputs if repository selection is not required\nfunction toggleRepoSelectionSection() {\n  const selectRepos = document.querySelector<HTMLInputElement>('.js-select-repositories-radio')!\n  const repoSection = document.querySelector<HTMLElement>('.js-integrations-install-repo-selection')!\n  repoSection.classList.toggle('has-removed-contents', !selectRepos.checked)\n}\n\nfunction updateRepositoriesSelectedCopy() {\n  const count = selectedRepositories().length\n  const repoCountEl = document.querySelector<HTMLElement>('.js-integration-total-repos')!\n  repoCountEl.hidden = count === 0\n  // eslint-disable-next-line i18n-text/no-en\n  repoCountEl.textContent = `Selected ${count} ${count === 1 ? 'repository' : 'repositories'}.`\n}\n\nobserve('.js-apps-install-select-repositories-container remote-input', el => {\n  el.addEventListener('remote-input-success', toggleRepoVisibilityFromResults)\n  el.addEventListener('remote-input-error', toggleRepoVisibilityFromResults)\n})\n\non(\n  'details-menu-selected',\n  '.js-apps-install-select-repositories-menu',\n  function (event) {\n    const button = event.detail.relatedTarget as Element\n\n    // Copy template content and insert selected repository into the \"picked\" list\n    const pickedCountainer = document.querySelector<HTMLElement>('.js-integrations-install-repo-picked')!\n    const result = button.querySelector<HTMLTemplateElement>('template')!.content.cloneNode(true)\n    pickedCountainer.prepend(result)\n\n    // Remove any errors from the form\n    document.querySelector<HTMLElement>('.js-min-repository-error')!.hidden = true\n    document.querySelector<HTMLElement>('.js-max-repository-warning')!.hidden = !isMaxRepositoriesSelected()\n\n    // Update selected repo counts and enable the install/save button if\n    // necessary\n    updateRepositoriesSelectedCopy()\n    updateFormValidity()\n    toggleRepoVisibilityFromResults()\n  },\n  {capture: true}\n)\n\non('change', '.js-integrations-install-form', updateFormValidity)\n\non('click', '.js-repository-picker-remove', function (event) {\n  // Remove the element from the \"Picked\" list\n  const row = event.currentTarget.closest<HTMLElement>('.js-repository-picker-result')!\n  row.remove()\n\n  // Show an error message if no repos are selected\n  document.querySelector<HTMLElement>('.js-min-repository-error')!.hidden = selectedRepositories().length > 0\n\n  updateRepositoriesSelectedCopy()\n  updateFormValidity()\n  toggleRepoVisibilityFromResults()\n})\n\non('change', '.js-installation-repositories-radio', toggleRepoSelectionSection)\n","import type AutocompleteElement from '@github/auto-complete-element'\nimport {TemplateInstance} from '@github/template-parts'\nimport {on} from 'delegated-events'\nimport {onKey} from '../onfocus'\nimport {parseHTML} from '../parse-html'\n\nasync function submitAndUpdate(event: CustomEvent) {\n  const form = event.currentTarget as HTMLFormElement\n  event.preventDefault()\n  submitAndUpdateForm(form)\n}\n\nasync function submitAndUpdateForm(form: HTMLFormElement) {\n  const response = await fetch(form.action, {\n    method: form.method,\n    body: new FormData(form),\n    headers: {Accept: 'text/fragment+html'}\n  })\n\n  // Show an error message (if request fails)\n  if (response.status >= 400) {\n    // eslint-disable-next-line i18n-text/no-en\n    const message = 'An unknown error occurred.'\n    const template = document.querySelector<HTMLTemplateElement>('template.js-flash-template')!\n    template.after(new TemplateInstance(template, {className: 'flash-error', message}))\n  } else {\n    const target = <HTMLElement>form.closest('[data-replace-remote-form-target]')\n    const partial = parseHTML(document, await response.text())\n    target.replaceWith(partial)\n  }\n}\n\non('submit', '.js-dependabot-selected-repos-remove-form', submitAndUpdate)\n\n// Add a selected repo to the list and clear the search box\non('auto-complete-change', '.js-dependabot-selected-repos-add-auto-complete', function (event) {\n  const autoComplete = event.target as AutocompleteElement\n  if (!autoComplete.value) {\n    return\n  }\n\n  const input = autoComplete.querySelector<HTMLInputElement>('.js-dependabot-selected-repos-add-input')\n  input!.value = autoComplete.value\n  autoComplete.value = ''\n\n  const addForm = <HTMLFormElement>autoComplete.closest('form')\n  submitAndUpdateForm(addForm)\n})\n\n// Don't let users accidentally submit the form when you hit enter\nonKey('keydown', '.js-dependabot-selected-repos-add-search', function (event: KeyboardEvent) {\n  if (event.key === 'Enter') {\n    event.preventDefault()\n  }\n})\n","// Add and remove Callback URLs for a GitHub App\n\nimport {on} from 'delegated-events'\n\nfunction replaceEndWith(value: string, separator: string, replacement: string): string {\n  const parts = value.split(separator)\n  parts[parts.length - 1] = replacement\n  return parts.join(separator)\n}\n\n// Adds the `required` class to the form-group container of all callback URL\n// fields to indicate that the field is now required.\nexport function markCallbackUrlsRequired(required: boolean) {\n  const container = document.querySelector<HTMLElement>('.js-application-callback-urls')\n  if (!container) return\n\n  const formGroups = container.querySelectorAll<HTMLElement>('.js-application-callback-url')\n  const formGroupsLength = formGroups.length\n  if (formGroupsLength === 0) return\n\n  for (const field of formGroups) {\n    if (required) {\n      field.classList.add('required')\n    } else {\n      field.classList.remove('required')\n    }\n  }\n}\n\n// Delete the ApplicationCallbackURL if the form field has been cleared out.\non('change', 'input.js-application-callback-url-field', function ({currentTarget}) {\n  let hiddenInputId = currentTarget.id\n  hiddenInputId = replaceEndWith(hiddenInputId, '_', '_destroy')\n\n  const hiddenInput = document.getElementById(hiddenInputId)\n\n  if (hiddenInput instanceof HTMLInputElement) {\n    const inputValue = (<HTMLInputElement>currentTarget).value\n\n    if (inputValue === '') {\n      hiddenInput.value = 'true'\n    } else {\n      hiddenInput.value = 'false'\n    }\n  }\n})\n\non('click', '.js-add-application-callback-url', function (event) {\n  event.preventDefault()\n\n  const container = document.querySelector<HTMLElement>('.js-application-callback-urls')\n  if (!container) return\n\n  const formGroups = container.querySelectorAll<HTMLElement>('.js-application-callback-url')\n  const formGroupsLength = formGroups.length\n\n  if (formGroupsLength === 0) return\n\n  const formGroup = formGroups[formGroupsLength - 1]\n  const newFormGroup = formGroup.cloneNode(true)\n\n  if (!(newFormGroup instanceof HTMLElement)) return\n\n  // Keep track of the index with a data-index attribute\n  // on the container rather than relying on the number\n  // of input groups.\n  let currentIndex = container.getAttribute('data-index')\n  if (currentIndex === null) currentIndex = '0'\n\n  const incrementedIndex = (parseInt(currentIndex, 10) + 1).toString()\n  container.setAttribute('data-index', incrementedIndex)\n\n  const formLabel = newFormGroup.querySelector<HTMLLabelElement>('label')\n  if (!formLabel) return\n\n  const labelForValue = formLabel.getAttribute('for')!\n  formLabel.setAttribute('for', labelForValue.replace(/\\d+/, currentIndex))\n\n  const formInput = newFormGroup.querySelector<HTMLInputElement>('input')\n  if (!formInput) return\n\n  formInput.id = formInput.id.replace(/\\d+/, currentIndex)\n  formInput.name = formInput.name.replace(/\\d+/, currentIndex)\n  formInput.value = ''\n\n  formGroup.insertAdjacentElement('afterend', newFormGroup)\n})\n\non('click', '.js-delete-application-callback-url', function (event) {\n  event.preventDefault()\n  const currentTarget = event.currentTarget\n\n  const formGroup = currentTarget.closest<HTMLElement>('.js-application-callback-url')\n  if (!formGroup) return\n\n  const formInput = formGroup.querySelector<HTMLInputElement>('input')\n  if (!formInput) return\n\n  const container = document.querySelector<HTMLElement>('.js-application-callback-urls')\n  if (!container) return\n\n  const formGroups = container.querySelectorAll<HTMLElement>('.js-application-callback-url')\n\n  if (formGroups.length > 1) {\n    formGroup.remove()\n  } else {\n    formInput.value = ''\n  }\n\n  let hiddenInputId = formInput.id\n  hiddenInputId = replaceEndWith(hiddenInputId, '_', '_destroy')\n\n  const hiddenInput = document.getElementById(hiddenInputId)\n  if (!(hiddenInput instanceof HTMLInputElement)) return\n\n  hiddenInput.value = 'true'\n})\n","// Edit an Integration (GitHub App)\n// The same form is used for both creating new Apps and updating existing Apps.\n\nimport {markCallbackUrlsRequired} from './integrations-callback-urls'\nimport {on} from 'delegated-events'\n\nfunction setupUrlField() {\n  return document.querySelector<HTMLInputElement>('input.js-edit-integration-setup-url')!\n}\n\nfunction setupUrlHint() {\n  const formGroup = setupUrlField().closest<HTMLElement>('.form-group')!\n\n  return formGroup.querySelector<HTMLElement>('.js-setup-url-hint')!\n}\n\nfunction helpTextForRedirectOnUpdate() {\n  return document.querySelector<HTMLElement>('.js-help-text-for-redirect-on-update')!\n}\n\nfunction updateSetupUrlHint(value: string) {\n  if (value) setupUrlHint().textContent = value\n}\n\non('change', '.js-edit-integration-request-oauth-on-install', function (event) {\n  const target = event.target as HTMLInputElement\n  const urlField = setupUrlField()\n\n  if (target.checked) {\n    markCallbackUrlsRequired(true)\n    urlField.disabled = true\n    urlField.placeholder = urlField.getAttribute('data-hint-unavailable-when-install') || ''\n\n    const hintUrl = urlField.getAttribute('data-hint-same-as-callback-url') || ''\n    updateSetupUrlHint(hintUrl)\n\n    const redirectOnUpdateHint = helpTextForRedirectOnUpdate()\n    redirectOnUpdateHint.textContent =\n      redirectOnUpdateHint.getAttribute('data-hint-redirect-on-update-callback-url') || ''\n  } else {\n    markCallbackUrlsRequired(false)\n    urlField.disabled = false\n    urlField.placeholder = ''\n    urlField.value = urlField.getAttribute('data-setup-url') || ''\n\n    const hintUrl = urlField.getAttribute('data-hint-setup-url') || ''\n    updateSetupUrlHint(hintUrl)\n\n    const redirectOnUpdateHint = helpTextForRedirectOnUpdate()\n    redirectOnUpdateHint.textContent = redirectOnUpdateHint.getAttribute('data-hint-redirect-on-update-setup-url') || ''\n  }\n})\n","// Integrations\n\nimport './integrations-callback-urls'\nimport './integrations-edit'\n\nimport {changeValue} from '../form'\nimport {on} from 'delegated-events'\nimport {onKey} from '../onfocus'\n\nfunction enableFormSubmission() {\n  const updatePermissionsButton = document.getElementById('js-update-integration-permissions')\n\n  if (updatePermissionsButton) {\n    updatePermissionsButton.removeAttribute('disabled')\n  }\n}\n\n// A list of the currently selected \"resource\" permissions for the Integration\n// based on the permissions drop downs.\n\n// E.g. [\"issues\", \"pull_requests\", \"metadata\"]\nfunction selectedResources(): string[] {\n  const inputs = document.querySelectorAll<HTMLInputElement>(\n    '[id^=integration_permission_]:checked:not([data-permission=\"none\"])'\n  )\n  return Array.from(inputs, input => input.getAttribute('data-resource')!)\n}\n\n// A NodeList of all the '.js-integration-hook-event' input nodes that are:\n// 1. Currently 'checked'\n// 2. Belong to the given \"resource\". E.g. \"issues\", \"pull_requests\" etc.\nfunction checkedHookEventsForResource(resource: string | null) {\n  if (!resource) return []\n  return Array.from(\n    document.querySelectorAll<HTMLInputElement>(`.js-integration-hook-event[data-resource~=\"${resource}\"]:checked`)\n  )\n}\n\n// A list of all the '.js-integration-hook-event' input nodes that are:\n// 1. Currently 'checked'\n// 2. Belong to resources permissions that are selected. E.g. \"Read\", \"Read &\n//    Write\" or \"Admin\".\nfunction checkedHookEventNodes() {\n  return selectedResources().flatMap(resource => checkedHookEventsForResource(resource))\n}\n\n// Can the given Hook event be hidden based on the chosen Integration\n// resource permissions?\n// E.g. When Issues is \"Read\" but Pull Requests is \"None\" the \"Milestones\"\n// event should still be visible because it applies to *both* resource types.\nfunction hookEventCheckboxCanBeHidden(node: HTMLInputElement): boolean {\n  return !checkedHookEventNodes().includes(node)\n}\n\non('change', '.js-integration-permissions-selector [id^=integration_permission_]', function ({currentTarget}) {\n  const permission = currentTarget.getAttribute('data-permission')\n  const resource = currentTarget.getAttribute('data-resource') || ''\n\n  // One event can apply to multiple resources (E.g. milestones apply to both\n  // Issues and Pull Requests). To model this in HTML data-resource can\n  // contain one or more resource names separated by spaces. E.g.\n  // data-resource=\"issues pull_requests\", which we select using the ~= CSS\n  // attribute condition.\n  const hookEvents = document.querySelectorAll<HTMLInputElement>(\n    `.js-integration-hook-event[data-resource~=\"${resource}\"]`\n  )\n  const permissionContainers = document.querySelectorAll(`.js-dropdown-container[data-resource~=\"${resource}\"]`)\n\n  enableFormSubmission()\n\n  if (permission !== 'none') {\n    const hookPermissionErrors = document.querySelectorAll(\n      `.js-integration-hook-event-permission-error[data-resource~='${resource}']`\n    )\n    for (const error of hookPermissionErrors) {\n      /* eslint-disable-next-line github/no-d-none */\n      error.classList.add('d-none')\n    }\n\n    for (const el of hookEvents) {\n      el.readOnly = false\n    }\n\n    currentTarget.closest<HTMLElement>('.js-list-group-item')!.classList.remove('disabled')\n    for (const el of permissionContainers) {\n      /* eslint-disable-next-line github/no-d-none */\n      el.classList.remove('d-none')\n    }\n  } else {\n    // The integrator has selected \"none\" as the permission for this resource.\n    // Hide all Hook event checkboxes related to this resource:\n    for (const el of hookEvents) {\n      if (hookEventCheckboxCanBeHidden(el)) {\n        // Disable the event hook checkbox\n        el.readOnly = true\n        el.checked = false\n\n        // Hide the hook checkbox's container\n        /* eslint-disable-next-line github/no-d-none */\n        el.closest<HTMLElement>('.js-dropdown-container')!.classList.add('anim-fade-in', 'd-none')\n      }\n    }\n\n    // Disable the current resource permission checkbox so we don't send a\n    // value to the server when this form is submitted.\n    currentTarget.closest<HTMLElement>('.js-list-group-item')!.classList.add('disabled')\n\n    if (resource === 'single_file') {\n      clearSubmittedFields(resource, '.js-single-files-path-list')\n    } else if (resource === 'content_references') {\n      clearSubmittedFields(resource, '.js-content-references-domain-list')\n    }\n  }\n})\n\nfunction clearSubmittedFields(resource: string, selectedList: string) {\n  // Hide the resource container\n  /* eslint-disable-next-line github/no-d-none */\n  document\n    .querySelector<HTMLElement>(`.js-dropdown-container[data-resource~='${resource}']`)!\n    .classList.add('anim-fade-in', 'd-none')\n\n  document.querySelector<HTMLElement>(selectedList)!.innerHTML = ''\n}\n\n// Toggle the 'required' state of the Hook URL input Field to let users know\n// that they need to provide a value when the hook is active.\nfunction toggleHookUrlRequired(active: boolean) {\n  const hookUrlField = document.querySelector<HTMLElement>('.js-hook-url-field')\n  if (!hookUrlField) return\n\n  hookUrlField.classList.toggle('required')\n  if (active) {\n    hookUrlField.setAttribute('required', 'required')\n  } else {\n    hookUrlField.removeAttribute('required')\n  }\n\n  const hookUrlFieldContainer = hookUrlField.closest('dl.form-group')\n  if (!hookUrlFieldContainer) return\n\n  hookUrlFieldContainer.classList.toggle('required')\n}\n\non('change', '.js-hook-active-checkbox', function (event) {\n  const currentTarget = event.currentTarget as HTMLInputElement\n  for (const el of document.querySelectorAll<HTMLElement>('.js-integration-hook-enabled')) {\n    el.hidden = !currentTarget.checked\n  }\n\n  toggleHookUrlRequired(currentTarget.checked)\n})\n\nfunction toggleMetadataSelectionMenu(readOn = false) {\n  const metadataReadInput = document.querySelector<HTMLInputElement>(\n    '.js-integration-permissions-selector [id=integration_permission_metadata_read]'\n  )!\n  const row = metadataReadInput.closest<HTMLElement>('.js-list-group-item')!\n\n  if (readOn) {\n    changeValue(metadataReadInput, true)\n  }\n\n  row.querySelector<HTMLElement>('.js-mandatory-label')!.hidden = !readOn\n\n  for (const input of row.querySelectorAll<HTMLInputElement>('input')) {\n    if (input !== metadataReadInput) input.disabled = readOn\n  }\n}\n\n// Has the user selected no repository-related permissions?\nfunction noRepoPermissionSelected(): boolean {\n  let noneSelected = true\n  const allSelectedRepoPermissions = document.querySelectorAll(\n    '.js-integration-permissions-selector [id^=integration_permission_][data-resource-parent=repository]:checked'\n  )\n  for (const repoPermission of allSelectedRepoPermissions) {\n    const permission = repoPermission.getAttribute('data-permission') || 'none'\n    const resource = repoPermission.getAttribute('data-resource') || ''\n    if (resource !== 'metadata' && permission !== 'none') {\n      noneSelected = false\n      break\n    }\n  }\n  return noneSelected\n}\n\n// Handle the mandatory repository metadata permission:\n//\n// When an integrator selects _any_ repository-related permission they are\n// _always_ granted the metadata permission.\n//\n// To make this clear in the UI we select 'Read-only' in the repository\n// metadata permissions select menu and disable the menu until _no_ repository\n// permissions are selected.\non(\n  'change',\n  '.js-integration-permissions-selector [id^=integration_permission_][data-resource-parent^=repository]',\n  function ({currentTarget}) {\n    const permission = currentTarget.getAttribute('data-permission')\n    const resource = currentTarget.getAttribute('data-resource') || ''\n\n    if (resource !== 'metadata') {\n      if (permission !== 'none') {\n        toggleMetadataSelectionMenu(true)\n      } else {\n        // If no repository permission is selected, re-enable the\n        // repository-metadata menu so that the user can deselect it if they\n        // want.\n        if (noRepoPermissionSelected()) {\n          toggleMetadataSelectionMenu()\n        }\n      }\n    }\n  }\n)\n\non('change', '.js-integration-permissions-selector [name^=integration]', enableFormSubmission)\n\non('click', '.js-integration-permissions-selector .js-integration-hook-event', function (event) {\n  const target = event.currentTarget as HTMLInputElement\n\n  if (target.readOnly) {\n    const sendEvents = target.closest<HTMLElement>('.js-send-events')!\n    const errorMessage = sendEvents.querySelector<HTMLElement>('.js-integration-hook-event-permission-error')!\n    /* eslint-disable-next-line github/no-d-none */\n    errorMessage.classList.remove('d-none')\n    event.preventDefault()\n  }\n})\n\nfunction addDomain() {\n  const input = document.querySelector<HTMLInputElement>('.js-content-references input')!\n  const template = document.querySelector<HTMLTemplateElement>('.js-content-references template')!\n  const list = document.querySelector<HTMLElement>('.js-content-references-domain-list')!\n\n  const domain = input.value\n  if (!domain) return\n\n  const item = template.content.cloneNode(true)\n  if (!(item instanceof DocumentFragment)) return\n  item.querySelector<HTMLInputElement>('input')!.value = domain\n  item.querySelector<HTMLElement>('.js-content-references-domain-url')!.textContent = domain\n  input.value = ''\n\n  list.appendChild(item)\n\n  list.closest<HTMLElement>('.Box')!.hidden = false\n\n  enableFormSubmission()\n}\n\nonKey('keydown', '.js-content-references input', function (event: KeyboardEvent) {\n  if (event.key !== 'Enter') return\n  event.preventDefault()\n  addDomain()\n})\n\non('click', '.js-content-references .js-domain-add', addDomain)\n\non('click', '.js-content-references .js-close', function (event) {\n  if (!(event.target instanceof Element)) return\n  const item = event.target.closest<HTMLElement>('li')!\n  const list = item.parentElement\n  if (!list) return\n  list.removeChild(item)\n\n  if (list.querySelectorAll('li').length === 0) {\n    list.closest<HTMLElement>('.Box')!.hidden = true\n  }\n\n  enableFormSubmission()\n})\n\nfunction addPath() {\n  const input = document.querySelector<HTMLInputElement>('.js-single-files input')!\n  const template = document.querySelector<HTMLTemplateElement>('.js-single-files template')!\n  const list = document.querySelector<HTMLElement>('.js-single-files-path-list')!\n\n  const path = input.value\n  if (!path) return\n\n  const item = template.content.cloneNode(true)\n  if (!(item instanceof DocumentFragment)) return\n  item.querySelector<HTMLInputElement>('input')!.value = path\n  item.querySelector<HTMLElement>('.js-single-files-path')!.textContent = path\n  input.value = ''\n\n  list.appendChild(item)\n\n  list.closest<HTMLElement>('.Box')!.hidden = false\n\n  enableFormSubmission()\n}\n\nonKey('keydown', '.js-single-files input', function (event: KeyboardEvent) {\n  if (event.key !== 'Enter') return\n  event.preventDefault()\n  addPath()\n})\n\non('click', '.js-single-files .js-path-add', addPath)\n\non('click', '.js-single-files .js-close', function (event) {\n  if (!(event.target instanceof Element)) return\n  const item = event.target.closest<HTMLElement>('li')!\n  const list = item.parentElement\n  if (!list) return\n  list.removeChild(item)\n\n  if (list.querySelectorAll('li').length === 0) {\n    list.closest<HTMLElement>('.Box')!.hidden = true\n  }\n\n  enableFormSubmission()\n})\n","import {on} from 'delegated-events'\n\nimport {remoteForm} from '@github/remote-form'\n\n// Give the target a class name, while clearing out the indicator classes from\n// all other status-indicator elements.\nfunction setIndicator(target: Element, className: string) {\n  for (const statusIndicator of document.querySelectorAll('.js-setting-toggle .js-status-indicator')) {\n    statusIndicator.classList.remove('status-indicator-success', 'status-indicator-loading', 'status-indicator-failed')\n  }\n  target.classList.add(className)\n}\n\n// Auto-subscribe checkbox toggle\nremoteForm('.js-setting-toggle', async function (form, wants) {\n  const target = form.querySelector<HTMLElement>('.js-status-indicator')!\n  setIndicator(target, 'status-indicator-loading')\n  try {\n    await wants.text()\n    setIndicator(target, 'status-indicator-success')\n  } catch (error) {\n    setIndicator(target, 'status-indicator-failed')\n  }\n})\n\n// Show/hide the notification email section based on emails being available.\non('change', '.js-toggle-email-settings input', function () {\n  const emails = document.querySelector<HTMLElement>('.js-notification-emails')!\n  const anyChecked = document.querySelector('.js-toggle-email-settings input:checked')\n  /* eslint-disable-next-line github/no-d-none */\n  emails.classList.toggle('d-none', !anyChecked)\n})\n\n// Enable the failures-only option only if CI notifications are enabled, i.e.\n// either Email or Web delivery options were checked.\n//\n// Disable and uncheck the option completely if CI notifications are disabled,\n// i.e. neither delivery options were checked.\non('change', '.js-toggle-ci-failures-only-setting input', function () {\n  const notificationsEnabled = !!document.querySelector('.js-toggle-ci-failures-only-setting input:checked')\n  const failuresOnlyCheckbox = document.querySelector<HTMLInputElement>('.js-ci-failures-only-settings input')!\n  const label = failuresOnlyCheckbox.closest('label')\n\n  if (label) {\n    label.classList.toggle('color-text-tertiary', !notificationsEnabled)\n  }\n\n  // only uncheck if notifications are disabled - preserve selection otherwise\n  if (!notificationsEnabled) failuresOnlyCheckbox.checked = false\n\n  failuresOnlyCheckbox.disabled = !notificationsEnabled\n})\n","import {fetchSafeDocumentFragment} from '../fetch'\nimport {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\nimport {requestSubmit} from '../form'\n\n// Delete a token or revoke an application\nremoteForm('.js-revoke-access-form', async function (form, wants) {\n  await wants.html()\n  const id = form.getAttribute('data-id')!\n  const type = form.getAttribute('data-type-name')!\n  const target = document.querySelector<HTMLElement>(`.js-revoke-item[data-type='${type}'][data-id='${id}']`)!\n  target.remove()\n  if (target.classList.contains('new-token')) {\n    document.querySelector<HTMLElement>('.js-flash-new-token')!.remove()\n  }\n})\n\n// Remove an oauth application image\non('click', '.js-delete-oauth-application-image', function () {\n  const form = document.querySelector<HTMLFormElement>('.js-delete-oauth-application-image-form')!\n  requestSubmit(form)\n})\n\n// Add a new oauth application callback url form\non('click', '.js-new-callback', function (event) {\n  event.preventDefault()\n  const target = event.currentTarget\n\n  const container = target.closest<HTMLElement>('.js-callback-urls')!\n  const urlForm = container.querySelector<HTMLElement>('.js-callback-url')!\n  const newUrlForm = urlForm.cloneNode(true)\n  if (!(newUrlForm instanceof HTMLElement)) return\n\n  newUrlForm.classList.remove('is-default-callback')\n  const formInput = newUrlForm.querySelector<HTMLInputElement>('input')!\n  formInput.value = ''\n\n  container.classList.add('has-many')\n  target.parentNode!.insertBefore(newUrlForm, target)\n})\n\n// Delete an oauth application callback url\non('click', '.js-delete-callback', function (event) {\n  event.preventDefault()\n\n  const target = event.currentTarget\n  const callbackUrl = target.closest<HTMLElement>('.js-callback-url')!\n  callbackUrl.remove()\n\n  const container = target.closest<HTMLElement>('.js-callback-urls')!\n  const urls = container.querySelectorAll<HTMLElement>('.js-callback-url')\n  if (urls.length <= 1) {\n    container.classList.remove('has-many')\n  }\n})\n\non('click', '.js-oauth-application-whitelist .js-deny-this-request', function (event) {\n  const target = event.currentTarget\n  const targetSibling = target.nextElementSibling as HTMLInputElement\n\n  targetSibling.value = 'denied'\n  requestSubmit(target.closest<HTMLFormElement>('.js-org-application-access-form')!)\n})\n\n// Fetch keys list.\nasync function fetchKeysList(root: HTMLElement) {\n  if (!root) return\n  const url = root.getAttribute('data-url')\n  if (!url) return\n\n  let fragment\n  try {\n    fragment = await fetchSafeDocumentFragment(document, url)\n    root.innerHTML = ''\n    root.append(fragment)\n  } catch (e) {\n    // fall back to reloading the page\n    window.location.reload()\n  }\n}\n\n// Generating new integration key\non('click', '.js-generate-integration-key', function () {\n  const wrapper = document.querySelector<HTMLElement>('.js-integration-key-management-wrapper')!\n  wrapper.classList.add('downloading')\n\n  if (wrapper.classList.contains('js-integration-key-multi')) {\n    wrapper.classList.add('has-keys')\n\n    setTimeout(function () {\n      const root = document.querySelector<HTMLElement>('.js-integration-keys-container')!\n      if (root) fetchKeysList(root)\n    }, 1000)\n  }\n})\n\n// Delete an integration key; disable delete button for last remaining key\nremoteForm('.js-remove-integration-key', async function (form, wants) {\n  try {\n    await wants.text()\n  } catch (error) {\n    // This is not the error we expected, re-throw since we don't know how to\n    // handle it.\n    if (!error.response) throw error\n\n    form.closest<HTMLElement>('details')!.removeAttribute('open')\n\n    const wrapper = document.querySelector<HTMLElement>('.js-integration-key-management-wrapper')!\n    const errContainer = wrapper.querySelector<HTMLElement>('.js-error-container')!\n\n    const errLabel = errContainer.querySelector<HTMLElement>('.js-error-message')!\n    switch (error.response.status) {\n      case 500:\n        errLabel.textContent = 'Oops, something went wrong.'\n        break\n      case 404:\n        errLabel.textContent = 'Oops, that key could not be found.'\n        break\n      default:\n        errLabel.textContent = error.response.json.message\n    }\n\n    wrapper.classList.add('error')\n    return\n  }\n\n  const keyId = form.getAttribute('data-key-id')!\n  const key = document.getElementById(keyId)\n\n  if (key) {\n    const root = key.closest<HTMLElement>('.js-integration-keys-container')!\n    if (root) fetchKeysList(root)\n  }\n})\n\non('click', '.js-error-dismiss', function () {\n  const root = document.querySelector<HTMLElement>('.js-integration-keys-container')!\n  if (root) fetchKeysList(root)\n})\n\non('change', '.js-checkbox-scope', function (event) {\n  const target = event.currentTarget as HTMLInputElement\n  if (target.checked) {\n    addToSelectedBy(target, 'user')\n  } else {\n    removeFromSelectedBy(target, 'user')\n  }\n\n  // Check scope subsets if the parent is checked\n  toggleScopeSubsets(target)\n})\n\nfunction toggleScopeSubsets(target: HTMLInputElement) {\n  const container = target.closest<HTMLElement>('.js-check-scope-container')!\n  const scopes = container.querySelectorAll<HTMLInputElement>('.js-checkbox-scope')\n\n  for (const checkbox of scopes) {\n    if (checkbox !== target) {\n      if (target.checked) {\n        addToSelectedBy(checkbox, target.value)\n      } else removeFromSelectedBy(checkbox, target.value)\n    }\n  }\n}\n\n// Some scopes have related scopes. Auto-select those scope families.\non('change', '[data-check-related-scopes]', function (event) {\n  const parent = event.currentTarget as HTMLInputElement\n  const scopes = parent.getAttribute('data-check-related-scopes')!.split(' ')\n\n  for (const scope of scopes) {\n    const childScopes = document.querySelectorAll<HTMLInputElement>(`[data-scope-for=\"${scope}\"] .js-checkbox-scope`)\n\n    for (const checkbox of childScopes) {\n      if (parent.checked) {\n        addToSelectedBy(checkbox, parent.value)\n      } else removeFromSelectedBy(checkbox, parent.value)\n    }\n  }\n})\n\nasync function enabledCheckedAndDisabledScopes(event: Event) {\n  const newTokenForm = event.currentTarget as HTMLFormElement\n  const checkedParentSelector = '.js-checkbox-scope:checked:disabled'\n  const checkedParentScopes = newTokenForm.querySelectorAll<HTMLInputElement>(checkedParentSelector)\n  for (const scope of checkedParentScopes) {\n    scope.disabled = false\n  }\n}\n\n// Enable all the checked-disabled parent scopes on submit so they make it to the controller\non('submit', '#new_oauth_access', enabledCheckedAndDisabledScopes)\non('submit', '.js-edit-oauth-access', enabledCheckedAndDisabledScopes)\n\nfunction removeFromSelectedBy(target: HTMLInputElement, actor: string) {\n  let selectedBy = fetchSelectedByArray(target)\n  selectedBy = removeItemFromArray(selectedBy, actor)\n  target.setAttribute('data-selected-by', selectedBy.join(' '))\n  updateDependencyGraph(target)\n}\n\nfunction addToSelectedBy(target: HTMLInputElement, actor: string) {\n  const selectedBy = fetchSelectedByArray(target)\n  selectedBy.push(actor)\n  target.setAttribute('data-selected-by', selectedBy.join(' '))\n  updateDependencyGraph(target)\n}\n\nfunction updateDependencyGraph(target: HTMLInputElement) {\n  const selectedBy = target.getAttribute('data-selected-by')\n  target.checked = selectedBy !== ''\n  target.disabled = target.checked && selectedBy !== 'user'\n}\n\nfunction fetchSelectedByArray(target: HTMLInputElement) {\n  if (target.getAttribute('data-selected-by')) {\n    return target.getAttribute('data-selected-by')!.split(' ')\n  }\n  return []\n}\n\nfunction removeItemFromArray(arr: string[], value: string) {\n  const index = arr.indexOf(value)\n  if (index > -1) {\n    arr.splice(index, 1)\n  }\n  return arr\n}\n","import {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\n\n// Disable email preference button if JS enabled.\nobserve('.js-email-global-unsubscribe-form', function (el) {\n  el.querySelector<HTMLInputElement>('.js-email-global-unsubscribe-submit')!.disabled = true\n})\n\n// Disable button until email preference has changed from current value.\non('change', '.js-email-global-unsubscribe-form', function (event) {\n  const target = event.currentTarget\n  const unsubscribeButton = target.querySelector<HTMLInputElement>('.js-email-global-unsubscribe-submit')!\n  const options = target.querySelectorAll<HTMLInputElement>('.js-email-global-unsubscribe')\n\n  // Check if any of the options have changed\n  const changed = Array.from(options).some(el => el.checked !== el.defaultChecked)\n\n  // Disable the button if nothing has changed\n  unsubscribeButton.disabled = !changed\n})\n\nremoteForm('.js-email-unsubscribe-form', async function (form, wants) {\n  await wants.text()\n  for (const el of document.querySelectorAll('.js-email-unsubscribe-message')) {\n    if (el instanceof HTMLElement) el.hidden = !el.hidden\n  }\n})\n","import {debounce} from '@github/mini-throttle'\nimport {onInput} from '../onfocus'\n\n// Get the src attribute from the check target.\nfunction getCheckTargetSrc(checkTarget: HTMLElement): string {\n  const src = checkTarget.getAttribute('src')\n  if (!src) return ''\n\n  const link = document.createElement('a')\n  link.href = src\n  return link.href\n}\n\n// Input Event Handler.\nasync function handleInput(event: Event) {\n  const field = event.target as HTMLInputElement\n  const form = field.form!\n  const inputs = form.querySelectorAll<HTMLInputElement>('.js-key-link-input')\n\n  const formData = new FormData()\n  for (const input of inputs) {\n    formData.append(input.name, input.value)\n  }\n\n  const checkTarget = form.querySelector<HTMLElement>('.js-key-link-check')!\n  const src = getCheckTargetSrc(checkTarget)\n  const token = checkTarget.parentElement!.querySelector<HTMLInputElement>('.js-key-link-check-csrf')!\n  const response = await fetch(src, {\n    method: 'POST',\n    mode: 'same-origin',\n    body: formData,\n    headers: {\n      'Scoped-CSRF-Token': token.value,\n      'X-Requested-With': 'XMLHttpRequest'\n    }\n  })\n  if (!response.ok) {\n    checkTarget.hidden = true\n    return\n  }\n  const preview = await response.text()\n\n  checkTarget.innerHTML = preview\n  checkTarget.hidden = false\n}\n\nonInput('.js-key-link-input', debounce(handleInput, 300))\n","import {on} from 'delegated-events'\n\nconst selectedRepositories = 'VISIBILITY_SELECTED_REPOSITORIES'\n\nexport function updateSelectedRepositoryCount() {\n  const selection = document.querySelector<HTMLElement>('.js-org-secrets-selection')!\n\n  const selectedPermissionInput = selection.querySelector<HTMLElement>('.js-secrets-visibility-menu input:checked')!\n  const currentPermission = selectedPermissionInput.getAttribute('value')!\n  const repositoryAccessDialog = selection.querySelector<HTMLElement>('.js-repository-items-dialog')!\n  repositoryAccessDialog.hidden = currentPermission !== selectedRepositories\n\n  const container = selection.querySelector<HTMLElement>('.js-repository-selection-component')!\n  const count = Array.from(container.querySelectorAll<HTMLInputElement>('.js-repository-item-checkbox')).filter(\n    el => el.checked\n  ).length\n\n  const selectedReposLabel = repositoryAccessDialog.querySelector<HTMLElement>('.js-selected-repos-label')!\n  selectedReposLabel.hidden = currentPermission !== selectedRepositories\n  selectedReposLabel.querySelector<HTMLElement>('.js-selected-repositories-count')!.textContent = count.toString()\n  selectedReposLabel.querySelector<HTMLElement>('.js-multiple-repositories-text')!.hidden = count === 1\n  selectedReposLabel.querySelector<HTMLElement>('.js-single-repository-text')!.hidden = count !== 1\n}\n\nexport function enableSaveSecretButton(event: Event) {\n  const container = (event.target as Element).closest<HTMLElement>('.js-encrypt-submit')!\n  const button = container.querySelector<HTMLButtonElement>('.js-btn-save-secret')\n  if (!button) return\n  button.disabled = false\n  button.setAttribute('aria-disabled', 'false')\n}\n\non('click', '.js-new-secret-value-button', function (event) {\n  const button = event.currentTarget\n  const formGroup = button.closest<HTMLElement>('.js-secret-value-form-group')!\n  formGroup.querySelector<HTMLElement>('.js-new-secret-value-input')!.hidden = false\n  formGroup.querySelector<HTMLElement>('.js-new-secret-value-prompt')!.hidden = true\n  enableSaveSecretButton(event)\n})\n\non('reset', '.js-org-secrets-selection .js-repository-selection-component', updateSelectedRepositoryCount)\non('details-menu-selected', '.js-secrets-visibility-menu', enableSaveSecretButton, {capture: true})\non('details-menu-selected', '.js-secrets-visibility-menu', updateSelectedRepositoryCount, {capture: true})\n","import {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\nimport {requestSubmit} from '../form'\n\nfunction showError(message: string, context: Element) {\n  const error = context.querySelector<HTMLElement>('.js-repo-access-error')!\n  error.textContent = message\n  /* eslint-disable-next-line github/no-d-none */\n  error.classList.remove('d-none')\n}\n\n// Reset all errors on the collaborators screen\nfunction hideErrors() {\n  for (const error of document.querySelectorAll('.js-repo-access-error')) {\n    error.textContent = ''\n    /* eslint-disable-next-line github/no-d-none */\n    error.classList.add('d-none')\n  }\n}\n\nfunction checkCollaboratorCountMessaging(context: Element) {\n  const collabCount = context.querySelectorAll('.js-repo-access-entry').length\n  context.classList.toggle('is-empty', collabCount === 0)\n  const collabSelect = context.querySelector('.js-collab-limit')\n  if (collabSelect) {\n    const collabLimit = parseInt(collabSelect.getAttribute('data-collab-limit') || '', 10)\n    const upsell = context.querySelector<HTMLElement>('.js-over-limit')!\n    const form = context.querySelector<HTMLElement>('.js-under-limit')!\n    /* eslint-disable-next-line github/no-d-none */\n    upsell.classList.toggle('d-none', collabCount < collabLimit)\n    /* eslint-disable-next-line github/no-d-none */\n    form.classList.toggle('d-none', collabCount >= collabLimit)\n  }\n}\n\n// Reset collaborator/teams autocompleter, avoiding submission of partial matches\nfunction resetInviteForm(form: HTMLFormElement) {\n  const button = form.querySelector<HTMLButtonElement>('.js-add-new-collab')\n  if (button) {\n    button.disabled = true\n  }\n}\n\nfunction handleTeamAdd(teamId: string) {\n  const select = document.querySelector('.js-repo-access-team-select')\n  if (select) {\n    let withoutAccess = 0\n    for (const item of select.querySelectorAll<HTMLElement>('.js-repo-access-team-select-option')) {\n      if (teamId === item.getAttribute('data-team-id')) {\n        item.hidden = true\n      }\n      if (!item.hidden) {\n        withoutAccess++\n      }\n    }\n    if (withoutAccess === 0) {\n      select.closest<HTMLElement>('.js-repo-access-group')!.classList.add('no-form')\n    }\n  }\n}\n\nfunction handleTeamRemove(teamId: string) {\n  const select = document.querySelector('.js-repo-access-team-select')\n  if (select) {\n    const team = select.querySelector(`[data-team-id='${teamId}']`)\n    if (team instanceof HTMLElement) {\n      team.hidden = false\n    }\n    select.closest<HTMLElement>('.js-repo-access-group')!.classList.remove('no-form')\n  }\n}\n\nasync function handleInviteResponse(form: HTMLFormElement, wants: import('@github/remote-form').Kicker) {\n  hideErrors()\n\n  const response = await wants.json()\n  const data = response.json\n  let list\n  const container = form.closest<HTMLElement>('.js-repo-access-container')!\n  const group = container.querySelector<HTMLElement>('.js-repo-access-group')!\n  if (group.id === 'collaborators') {\n    list = group.querySelector('.js-repo-access-list-invites')\n  } else {\n    list = group.querySelector('.js-repo-access-list')\n  }\n  const field = form.querySelector('.js-add-repo-access-field')\n  if (field instanceof HTMLInputElement) {\n    const teamId = field.value\n    field.value = ''\n\n    if (group.id === 'teams') {\n      handleTeamAdd(teamId)\n    }\n  }\n\n  if (data['error']) {\n    showError(data['error'], group)\n    return\n  }\n\n  resetInviteForm(form)\n  if (list) {\n    list.insertAdjacentHTML('beforeend', data['html'])\n    const entries = list.querySelectorAll('.js-repo-access-entry')\n    entries[entries.length - 1].querySelector<HTMLElement>('a')!.focus()\n  }\n  checkCollaboratorCountMessaging(group)\n\n  if (data['seats'] || data['seats'] === 0) {\n    const seatsString = data['seats'] === 1 ? 'seat' : 'seats'\n    const availableSeatsEl = document.getElementById('available-seats')\n    if (availableSeatsEl) {\n      availableSeatsEl.innerHTML = `${data['seats']} ${seatsString}`\n    }\n  }\n}\n\n// Update the hidden team ID field and submit when select menu changes.\n// Used instead of a radio buttion to simplify combined team/collab submit handler below.\non(\n  'details-menu-selected',\n  '.js-repo-access-team-select-menu',\n  function (event) {\n    const item = event.detail.relatedTarget as Element\n    const teamId = item.getAttribute('data-team-id') || ''\n    const teamIdField = item\n      .closest('.js-repo-access-group')!\n      .querySelector<HTMLInputElement>('.js-add-repo-access-field')!\n    teamIdField.value = teamId\n    requestSubmit(teamIdField.form!)\n  },\n  {capture: true}\n)\n\n// Add entry to repo access list (handles both collaborators and teams)\nremoteForm('.js-add-repo-access-form', handleInviteResponse)\n\n// Remove entry from repo access list (handles both collaborators and teams)\nremoteForm('.js-remove-repo-access-form', async function (form, wants) {\n  if (form.hasAttribute('data-skip-remote')) {\n    return\n  }\n\n  try {\n    await wants.text()\n  } catch (responseError) {\n    showError(form.getAttribute('data-error-message') || '', form.closest<HTMLElement>('.js-repo-access-group')!)\n    return\n  }\n\n  hideErrors()\n  const entry = form.closest<HTMLElement>('.js-repo-access-entry')!\n  const group = form.closest<HTMLElement>('.js-repo-access-group')!\n  if (group.id === 'teams') {\n    handleTeamRemove(entry.getAttribute('data-team-id') || '')\n  }\n  entry.remove()\n  checkCollaboratorCountMessaging(group)\n})\n\nfunction toggleHidden(els: HTMLElement[]) {\n  for (const el of els) {\n    el.hidden = !el.hidden\n  }\n}\n\nfunction reenableAllRoles(inpts: NodeListOf<HTMLInputElement>) {\n  for (const rInpt of inpts) {\n    rInpt.disabled = false\n    const roleDiv = rInpt.closest<HTMLElement>('.js-role-checkbox')!\n    roleDiv.classList.remove('color-text-tertiary')\n  }\n}\n\nfunction toggleRoleBadge(badge: Element | null, state: boolean) {\n  if (badge instanceof HTMLElement) {\n    badge.hidden = state\n  }\n}\n\non('combobox-commit', '.js-repo-add-access-search', function (event) {\n  if (!(event.target instanceof Element)) return\n  const container = event.target.closest<HTMLElement>('.js-repo-add-access-search')!\n  const item = event.target.closest<HTMLElement>('.js-autocomplete-item')!\n\n  const selectLabel = container.querySelector<HTMLElement>('.js-selected-member-id')!\n  selectLabel.textContent = event.target.getAttribute('data-autocomplete-label') || 'selection'\n\n  const selectionBadge = container.querySelector<HTMLElement>('.js-selected-member-badge')!\n  const itemSelectionBadge = item.querySelector<HTMLElement>('.js-selection-badge')!\n  selectionBadge.innerHTML = itemSelectionBadge.innerHTML\n\n  toggleHidden(\n    Array.from(container.querySelectorAll('.js-repo-add-access-search-selected, .js-repo-add-access-search-selection'))\n  )\n\n  // Hide the base role icon by default\n  const baseRoleBadge = container.querySelector('.js-base-role-badge')\n  toggleRoleBadge(baseRoleBadge, true)\n\n  // disable roles\n  const memberType = item.getAttribute('data-type')\n  const orgAdmin = item.hasAttribute('data-admin')\n\n  // clear out old styling if the user navigated away from adding a user\n  const inputSelector = orgAdmin ? `[data-disable-org-admin]` : `[data-disable-org-role]`\n  const roleInputs = container.querySelectorAll<HTMLInputElement>(inputSelector)\n\n  const allInputs = container.querySelectorAll<HTMLInputElement>(`input[name=\"role\"]`)\n\n  // Roles are not displayed on user-owned repositories,\n  // Hence need for this check to guard against when roles are not displayed,\n  // So Element not found error is not raised.\n  if (allInputs.length > 0) {\n    reenableAllRoles(allInputs)\n\n    if (memberType === 'org-member') {\n      toggleRoleBadge(baseRoleBadge, false)\n      // hide all roles that are lower than default\n      for (const rI of roleInputs) {\n        rI.disabled = true\n        const roleDiv = rI.closest<HTMLElement>('.js-role-checkbox')!\n        roleDiv.classList.add('color-text-tertiary')\n      }\n    }\n\n    if (orgAdmin) {\n      container.querySelector<HTMLInputElement>('.js-role-admin')!.checked = true\n    } else if (baseRoleBadge && memberType === 'org-member') {\n      const baseRoleCheckBox = baseRoleBadge\n        .closest<HTMLElement>('.js-role-checkbox')!\n        .querySelector<HTMLInputElement>('input[name=\"role\"]')!\n      baseRoleCheckBox.checked = true\n    } else if (\n      memberType === 'outside-collab' ||\n      memberType === 'team' ||\n      memberType === 'org-member' ||\n      memberType === 'email'\n    ) {\n      container.querySelector<HTMLInputElement>('.js-role-pull')!.checked = true\n    }\n  }\n})\n\non('click', '.js-cancel-selection', function (event) {\n  if (!(event.target instanceof Element)) return\n  const container = event.target.closest<HTMLElement>('.js-repo-add-access-search')!\n\n  const input = container.querySelector<HTMLInputElement>('.js-repo-add-access-search-input')!\n  input.value = ''\n\n  const allInputs = container.querySelectorAll<HTMLInputElement>(`input[name=\"role\"]`)\n  reenableAllRoles(allInputs)\n\n  toggleHidden(\n    Array.from(container.querySelectorAll('.js-repo-add-access-search-selected, .js-repo-add-access-search-selection'))\n  )\n  const baseRoleBadge = container.querySelector('.js-base-role-badge')\n  toggleRoleBadge(baseRoleBadge, true)\n})\n\non('details-dialog-close', '.js-add-access-form', function ({currentTarget}) {\n  const input = currentTarget.querySelector<HTMLInputElement>('.js-repo-add-access-search-input')!\n  input.value = ''\n\n  const allInputs = input.querySelectorAll<HTMLInputElement>(`input[name=\"role\"]`)\n  reenableAllRoles(allInputs)\n\n  const selection = currentTarget.querySelector<HTMLElement>('.js-repo-add-access-search-selection')!\n  const selected = currentTarget.querySelector<HTMLElement>('.js-repo-add-access-search-selected')!\n  if (selected.hidden) return\n  toggleHidden([selected, selection])\n  const baseRoleBadge = input.querySelector('.js-base-role-badge')\n  toggleRoleBadge(baseRoleBadge, true)\n})\n","import type AutocompleteElement from '@github/auto-complete-element'\nimport {addThrottledInputEventListener} from '../throttled-input'\nimport {fetchSafeDocumentFragment} from '../fetch'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\n\non('change', '.js-repo-features-form input[type=checkbox]', function ({currentTarget}) {\n  const repoOption = currentTarget.closest<HTMLElement>('.js-repo-option')!\n  const indicator = repoOption.querySelector<HTMLElement>('.js-status-indicator')!\n  indicator.classList.remove('status-indicator-success', 'status-indicator-failed')\n  indicator.classList.add('status-indicator-loading')\n})\n\nremoteForm('.js-repo-features-form', async function (form, wants) {\n  let response\n  try {\n    response = await wants.html()\n  } catch (error) {\n    for (const el of form.querySelectorAll('.status-indicator-loading')) {\n      el.classList.remove('status-indicator-loading')\n      el.classList.add('status-indicator-failed')\n      const option = el.closest<HTMLElement>('.js-repo-option')!\n      const checkbox = option.querySelector<HTMLInputElement>('input[type=checkbox]')!\n      checkbox.checked = !checkbox.checked\n    }\n    return\n  }\n  for (const el of form.querySelectorAll('.status-indicator-loading')) {\n    el.classList.remove('status-indicator-loading')\n    el.classList.add('status-indicator-success')\n  }\n\n  document.querySelector<HTMLElement>('.js-repo-nav')!.replaceWith(response.html)\n})\n\non('change', '.js-merge-features-form input[type=checkbox]', function ({currentTarget}) {\n  const form = (currentTarget as HTMLInputElement).form!\n\n  // Clear option group error states.\n  for (const el of form.querySelectorAll('.errored')) {\n    el.classList.remove('errored')\n  }\n\n  // Show loading indicator.\n  const option = currentTarget.closest<HTMLElement>('.js-repo-option')!\n  const indicator = option.querySelector<HTMLElement>('.js-status-indicator')!\n  indicator.classList.remove('status-indicator-success', 'status-indicator-failed')\n  indicator.classList.add('status-indicator-loading')\n})\n\nremoteForm('.js-merge-features-form', async function (form, wants) {\n  try {\n    await wants.text()\n  } catch (error) {\n    const warningSelector =\n      error.response && error.response.text.endsWith('(protected_branch_policy)')\n        ? '.js-no-merge-commit-warning'\n        : '.js-select-one-warning'\n    for (const el of form.querySelectorAll(warningSelector)) {\n      if (el instanceof HTMLElement) {\n        el.hidden = false\n      }\n    }\n\n    for (const el of form.querySelectorAll('.status-indicator-loading')) {\n      el.classList.remove('status-indicator-loading')\n      el.classList.add('status-indicator-failed')\n\n      // Show error message.\n      const option = el.closest<HTMLElement>('.js-repo-option')!\n      option.classList.add('errored')\n\n      const checkbox = option.querySelector<HTMLInputElement>('input[type=checkbox]')!\n      checkbox.checked = !checkbox.checked\n    }\n\n    // Clear all success indicators.\n    for (const el of form.querySelectorAll('.status-indicator-success')) {\n      el.classList.remove('status-indicator-success')\n    }\n\n    return\n  }\n\n  // Clear option group error states.\n  for (const el of form.querySelectorAll('.errored')) {\n    el.classList.remove('errored')\n  }\n  for (const el of form.querySelectorAll('.js-select-one-warning, .js-no-merge-commit-warning')) {\n    if (el instanceof HTMLElement) {\n      el.hidden = true\n    }\n  }\n\n  // Show success indicator.\n  for (const el of form.querySelectorAll('.status-indicator-loading')) {\n    el.classList.remove('status-indicator-loading')\n    el.classList.add('status-indicator-success')\n  }\n})\n\n// toggle to Require status checks to pass before merging\non('change', 'input.js-required-status-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-settings')!\n  const el = container.querySelector<HTMLElement>('.js-required-statuses')!\n  /* eslint-disable-next-line github/no-d-none */\n  el.classList.toggle('d-none', !(currentTarget as HTMLInputElement).checked)\n})\n\n// toggle to Require deployments before merging\non('change', 'input.js-required-deployments-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-settings')!\n  const el = container.querySelector<HTMLElement>('.js-required-deployments')!\n  el.hidden = !(currentTarget as HTMLInputElement).checked\n})\n\non('change', 'input.js-required-status-checkbox', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branches-item')!\n  const badge = container.querySelector<HTMLElement>('.js-required-status-badge')!\n  /* eslint-disable-next-line github/no-d-none */\n  badge.classList.toggle('d-none', !(currentTarget as HTMLInputElement).checked)\n})\n\n// Restrict who can push to this branch.\non('change', '.js-authorized-branch-pushers-toggle, input.js-authorized-review-dismisser-toggle', function ({\n  currentTarget\n}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-options')!\n  const el = container.querySelector<HTMLElement>('.js-authorized-pushers')!\n  /* eslint-disable-next-line github/no-d-none */\n  el.classList.toggle('d-none', !(currentTarget as HTMLInputElement).checked)\n\n  el.querySelector<HTMLInputElement>('.js-add-protected-branch-user-or-team input')!.focus()\n})\n\n// Merge queue toggle: display alert when disabling the merge queue.\non('click', '.js-protected-branch-merge-queue-toggle', function (event) {\n  const checkbox = event.currentTarget as HTMLInputElement\n  const msg = checkbox.getAttribute('data-confirm-if-checked') || ''\n\n  if (!checkbox.checked && !confirm(msg)) {\n    event.preventDefault()\n  }\n\n  const container = checkbox.closest<HTMLElement>('.js-protected-branch-settings')!\n  const el = container.querySelector<HTMLElement>('.js-protected-branch-merge-queue-settings')!\n  el.hidden = !(checkbox as HTMLInputElement).checked\n})\n\n// Enforce all configured restrictions for administrators.\non('change', '.js-protected-branch-include-admin-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-settings')!\n  const permissions = container.querySelectorAll('.js-protected-branch-admin-permission')\n  for (const el of permissions) {\n    /* eslint-disable-next-line github/no-d-none */\n    el.classList.toggle('d-none')\n    /* eslint-disable-next-line github/no-d-none */\n    el.classList.toggle('active', !el.classList.contains('d-none'))\n  }\n})\n\n// Toggle the maximum number of allowed pushers.\nfunction toggleMaxAllowedPushers(container: HTMLElement) {\n  const allowedPushers = container.querySelector<HTMLElement>('.js-authorized-pushers')!\n  if (!allowedPushers.getAttribute('data-limit')) return\n  const allowedPushersLimit = parseInt(allowedPushers.getAttribute('data-limit') || '')\n  const allowedPushersCount = allowedPushers.querySelectorAll('.js-authorized-user-or-team').length\n  allowedPushers.classList.toggle('at-limit', allowedPushersCount >= allowedPushersLimit)\n}\n\n// Grant branch push access to a user.\non('auto-complete-change', '.js-add-protected-branch-user-or-team', async function ({target: completer}) {\n  const autocompleter = completer as AutocompleteElement\n  const searchValue = autocompleter.value\n  if (!searchValue) return\n  autocompleter.value = ''\n\n  const container = autocompleter.closest<HTMLElement>('.js-protected-branch-options')!\n  const list = container.querySelector<HTMLElement>('.js-authorized-users-and-teams')!\n  const found = list.querySelector(`div[data-user-or-team-name='${searchValue}']`)\n  if (found) {\n    found.querySelector<HTMLElement>('.js-protected-branch-pusher')!.classList.add('user-already-added')\n    return\n  }\n\n  const dataURL = autocompleter.getAttribute('data-add-url')!\n  const url = new URL(dataURL, window.location.origin)\n  const params = new URLSearchParams(url.search.slice(1))\n  params.append('item', searchValue)\n  url.search = params.toString()\n\n  list.append(await fetchSafeDocumentFragment(document, url.toString()))\n  toggleMaxAllowedPushers(container)\n})\n\n// Remove users who are authorized to push to a specific branch.\non('click', '.js-remove-authorized-user-or-team', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-options')!\n  currentTarget.closest<HTMLElement>('.js-authorized-user-or-team')!.remove()\n  toggleMaxAllowedPushers(container)\n})\n\non('click', '.js-pages-cname-save-btn', function () {\n  const removeButton = document.querySelector<HTMLButtonElement>('.js-pages-cname-remove-btn')!\n  if (removeButton) {\n    removeButton.disabled = false\n  }\n})\n\n// disable pages-cname save button until value changes\nobserve('#pages-cname-field', {\n  constructor: HTMLInputElement,\n  add(el) {\n    addThrottledInputEventListener(el, function () {\n      const button = document.querySelector<HTMLButtonElement>('.js-pages-cname-save-btn')!\n      const removeButton = document.querySelector<HTMLButtonElement>('.js-pages-cname-remove-btn')!\n\n      if (el.value === '' && removeButton) {\n        button.disabled = true\n      } else {\n        button.disabled = el.value === el.defaultValue\n      }\n    })\n  }\n})\n\n// Load the HTTPS status check for Pages custom domains.\nobserve('.js-pages-https-status-form', {\n  constructor: HTMLFormElement,\n  add(form) {\n    const req = new Request(form.action, {method: form.method, body: new FormData(form)})\n    ;(async () => {\n      try {\n        const html = await fetchSafeDocumentFragment(document, req)\n        form.replaceWith(html)\n      } catch (error) {\n        if (error.response && error.response.status === 404) {\n          // ignore\n        } else {\n          throw error\n        }\n      }\n    })()\n  }\n})\n\n// Query certificate status every 15 seconds.\nconst certificateQueryDuration = 15 * 1000\nsetTimeout(checkCertificateStatus, certificateQueryDuration)\nasync function checkCertificateStatus() {\n  const content = document.querySelector('.js-pages-certificate-status')\n  if (content) {\n    const url = content.getAttribute('data-status-url')!\n    const fragment = await fetchSafeDocumentFragment(document, url)\n    content.replaceWith(fragment)\n    setTimeout(checkCertificateStatus, certificateQueryDuration)\n  }\n}\n\n// Query DNS 2 seconds after page load\nsetTimeout(checkDomainStatus, 2000)\nasync function checkDomainStatus() {\n  const content = document.querySelector('.js-pages-domain-status')\n  if (content) {\n    const status = content.getAttribute('data-domain-state')!\n    if (status === 'done') return\n    const url = content.getAttribute('data-domain-status-url')!\n    const fragment = await fetchSafeDocumentFragment(document, url)\n    content.replaceWith(fragment)\n  }\n}\n\nfunction getPageSourceSubmitBtn() {\n  return document.querySelector<HTMLButtonElement>('.js-update-page-source-btn')!\n}\n\nfunction getPageSource(name: string) {\n  const source = document.querySelector(`input[name=${name}]:checked`)\n  if (source) {\n    return (source as HTMLInputElement).value\n  }\n  return null\n}\n\n// This flash warning is only created if a gh-pages branch exists in a project repo or if we have a user repo\nfunction getPageWarningMessage() {\n  const flashWarning = document.querySelector('.js-disable-page-warning')\n  if (flashWarning) {\n    return flashWarning as HTMLElement\n  }\n  return null\n}\n\nconst pageSourceBranch = getPageSource('source')\nconst pageSourceDir = getPageSource('source_dir')\n\non('change', '.js-select-branch', event => {\n  const input = event.target as HTMLInputElement\n  if (input.name !== 'source') return\n  const sourceDirSelector = document.querySelector<HTMLElement>('.js-select-source-dir')!\n  const branchIcon = document.querySelector<HTMLElement>('.js-branch-icon')!\n  if (input.value !== '') {\n    branchIcon.hidden = false\n    sourceDirSelector.hidden = false\n  } else {\n    branchIcon.hidden = true\n    sourceDirSelector.hidden = true\n  }\n\n  const warningObject = getPageWarningMessage()\n  if (warningObject != null) {\n    if (input.value === '') {\n      warningObject.hidden = false\n    } else {\n      warningObject.hidden = true\n    }\n  }\n\n  if (input.value !== pageSourceBranch) {\n    getPageSourceSubmitBtn().disabled = false\n    //If 'None' source is selected\n    if (input.value === '' && warningObject != null) {\n      getPageSourceSubmitBtn().disabled = true\n    }\n  } else {\n    if (pageSourceDir === getPageSource('source_dir') || pageSourceBranch === '') {\n      getPageSourceSubmitBtn().disabled = true\n    }\n  }\n})\n\non('change', '.js-select-source-dir', event => {\n  const input = event.target as HTMLInputElement\n  if (input.name !== 'source_dir') return\n  const sourceDir = input.value\n  if (sourceDir !== pageSourceDir) {\n    getPageSourceSubmitBtn().disabled = false\n  } else {\n    if (getPageSource('source') === pageSourceBranch) {\n      getPageSourceSubmitBtn().disabled = true\n    }\n  }\n})\n","import {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\nimport {parseHTML} from '../parse-html'\n\nfunction disableRestoreButton(parent: Element) {\n  const button = parent.querySelector<HTMLButtonElement>('form>button')!\n  button.disabled = true\n\n  const summary = parent.querySelector<HTMLElement>('summary')!\n  summary.classList.add('disabled')\n\n  for (const detail of parent.querySelectorAll('details')) {\n    detail.removeAttribute('open')\n  }\n}\n\nfunction restoreStatus(parent: Element, html: DocumentFragment) {\n  const container = parent.querySelector<HTMLElement>('.js-restore-status')!\n  container.innerHTML = ''\n  container.append(html)\n}\n\non('submit', '.js-repo-restore', async function (event) {\n  const form = event.currentTarget as HTMLFormElement\n  event.preventDefault()\n  let response\n  const parent = form.closest<HTMLElement>('.js-deleted-repository')!\n  try {\n    response = await fetch(form.action, {\n      method: form.method,\n      body: new FormData(form),\n      headers: {\n        Accept: 'text/html',\n        'X-Requested-With': 'XMLHttpRequest'\n      }\n    })\n  } catch {\n    // Ignore network errors\n  }\n  if (!response || !response.ok) return\n  const html = parseHTML(document, await response.text())\n  restoreStatus(parent, html)\n})\n\nobserve('.js-restore-repo-job', function (el) {\n  const parent = el.closest<HTMLElement>('.js-deleted-repository')!\n  disableRestoreButton(parent)\n})\n\non('click', '.js-disableable-summary.disabled', e => e.preventDefault())\n","import {on} from 'delegated-events'\n\non('click', '.js-used-by-selector-button', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-used-by-selector')!\n  if (container != null) {\n    const indicator = container.querySelector<HTMLElement>('.js-status-indicator')!\n    if (indicator != null) {\n      indicator.classList.remove('status-indicator-success', 'status-indicator-failed')\n      indicator.classList.add('status-indicator-loading')\n    }\n  }\n})\n","import {\n  enableSaveSecretButton,\n  updateSelectedRepositoryCount as updateMainFormSelectedRepositoryCount\n} from './org-secrets'\nimport {fire, on} from 'delegated-events'\nimport DetailsDialogElement from '@github/details-dialog-element'\nimport {fetchSafeDocumentFragment} from '../fetch'\nimport {observe} from 'selector-observer'\n\nconst dataStore = new WeakMap<Element, number>()\nconst stateChangedCheckboxes = new WeakMap<Element, Set<string>>()\n\n// The maximum number of times we should load another page of pinnable items automatically, just\n// when the user wants to filter the list of pinnable items\nconst repoPageLimit = 100\n\nasync function loadMoreRepositoryItems(loadMoreButton: HTMLButtonElement) {\n  const repositorySelectionComponent = loadMoreButton.closest<HTMLElement>('.js-repository-selection-component')!\n  const timesLoaded = dataStore.get(repositorySelectionComponent) || 0\n  if (timesLoaded > repoPageLimit) {\n    return\n  }\n\n  loadMoreButton.textContent = loadMoreButton.getAttribute('data-disable-with')!\n  loadMoreButton.disabled = true\n\n  dataStore.set(repositorySelectionComponent, timesLoaded + 1)\n\n  const url = loadMoreButton.getAttribute('data-url')!\n  fetchItemsAsync(repositorySelectionComponent, url)\n\n  // This event needs to fire after the data-action is bound\n  await Promise.resolve()\n  repositorySelectionComponent.dispatchEvent(new CustomEvent('repository-items-loaded'))\n}\n\nasync function fetchItemsAsync(repositorySelectionComponent: HTMLElement, url: string) {\n  const html = await fetchSafeDocumentFragment(document, url)\n\n  repositorySelectionComponent.querySelector<HTMLElement>('.js-more-repository-items-replace-target')!.replaceWith(html)\n\n  // When a page of repository items is loaded into the DOM, update the filtering in case the user\n  // has typed a query into the text input\n  filterRepositoryItems(repositorySelectionComponent)\n}\n\non('click', '.js-more-repository-items-button', function (event: Event) {\n  const button = event.currentTarget as HTMLButtonElement\n  loadMoreRepositoryItems(button)\n})\n\nobserve('.js-more-repository-items-button', {\n  constructor: HTMLButtonElement,\n  add: loadMoreRepositoryItems\n})\n\nfunction filterRepositoryItems(repositorySelectionComponent: HTMLElement) {\n  fire(repositorySelectionComponent.querySelector<HTMLElement>('.js-repository-items-filter-input')!, 'change')\n}\n\nfunction saveChangedCheckbox(event: Event) {\n  const checkbox = event.target as HTMLInputElement\n\n  if (!(checkbox?.type === 'checkbox')) return\n\n  const selectionComponent = checkbox.closest<HTMLElement>('.js-repository-selection-component')!\n  const changedSet = stateChangedCheckboxes.get(selectionComponent) || new Set<string>()\n\n  // If a checkbox is toggled twice, it is back to its original state, so we should forget it\n  if (changedSet.has(checkbox.value)) changedSet.delete(checkbox.value)\n  else changedSet.add(checkbox.value)\n\n  stateChangedCheckboxes.set(selectionComponent, changedSet)\n\n  const container = checkbox.closest<HTMLElement>('.js-repository-items-dialog')!\n\n  setUpdateSelectionButtonState(container, changedSet.size > 0)\n}\n\nfunction setUpdateSelectionButtonState(container: HTMLElement, enable: boolean) {\n  const updateSelectionButton = container.querySelector<HTMLButtonElement>('.js-btn-select-repositories')!\n  updateSelectionButton.disabled = !enable\n  updateSelectionButton.setAttribute('aria-disabled', String(!enable))\n}\n\nfunction undoChangedCheckboxes(event: Event) {\n  const container = (event.currentTarget as Element).closest<HTMLElement>('.js-repository-items-dialog')\n  if (!container) return\n  const repositorySelectionComponent = container.querySelector<HTMLElement>('.js-repository-selection-component')!\n  if (!repositorySelectionComponent.hasAttribute('data-discard-changes-on-close')) return\n  const changedSet = stateChangedCheckboxes.get(repositorySelectionComponent)\n  if (!changedSet) return\n\n  for (const value of changedSet.keys()) {\n    const checkbox = repositorySelectionComponent.querySelector<HTMLInputElement>(`[value='${value}']`)!\n    checkbox.checked = !checkbox.checked\n  }\n\n  // Update the desired state on exit-without-save by clearing the set of checkboxes that will be toggled\n  stateChangedCheckboxes.set(repositorySelectionComponent, new Set())\n\n  setUpdateSelectionButtonState(container, false)\n}\n\nfunction updateSelectedRepositoryCount(event: CustomEvent) {\n  const repositorySelectionComponent = event.currentTarget as Element\n  const container = repositorySelectionComponent.closest('.js-repository-items-dialog')\n  if (!container) return\n\n  const count = Array.from(\n    repositorySelectionComponent.querySelectorAll<HTMLInputElement>('.js-repository-item-checkbox')\n  ).filter(el => el.checked).length\n\n  const itemsCountContainer = container.querySelector<HTMLElement>('.js-selected-repositories-count-container')!\n  itemsCountContainer.querySelector<HTMLElement>('.js-selected-repositories-count')!.textContent = count.toString()\n  itemsCountContainer.querySelector<HTMLElement>('.js-multiple-repositories-text')!.hidden = count === 1\n  itemsCountContainer.querySelector<HTMLElement>('.js-single-repository-text')!.hidden = count !== 1\n}\n\non('change', '.js-repository-selection-component', updateSelectedRepositoryCount)\non('reset', '.js-repository-selection-component', updateSelectedRepositoryCount)\non('change', '.js-repository-selection-component', saveChangedCheckbox)\non('click', '.js-btn-select-repositories', function (event) {\n  const container = (event.target as Element).closest<HTMLElement>('.js-repository-items-dialog')!\n  const repositorySelectionComponent = container.querySelector<HTMLElement>('.js-repository-selection-component')!\n\n  stateChangedCheckboxes.set(repositorySelectionComponent, new Set())\n\n  // Close the details dialog\n  const detailsDialog = repositorySelectionComponent.closest<DetailsDialogElement>('details-dialog')!\n  detailsDialog.toggle(false)\n\n  updateMainFormSelectedRepositoryCount()\n  enableSaveSecretButton(event)\n})\non('details-dialog-close', '.js-repository-items-dialog', undoChangedCheckboxes)\n","import {on} from 'delegated-events'\nimport {onInput} from './../onfocus'\n\nconst TEAM_IDS = 'team_ids[]'\n\nconst getTeamIds = (checkboxSelector: string): string[] => {\n  const params = new URLSearchParams(window.location.search)\n\n  const teamIds = new Set(params.getAll(TEAM_IDS))\n\n  const checkboxes = document.querySelectorAll<HTMLInputElement>(checkboxSelector)\n  for (const cb of checkboxes) {\n    if (cb.checked) {\n      teamIds.add(cb.value)\n    } else {\n      teamIds.delete(cb.value)\n    }\n  }\n\n  return [...teamIds]\n}\n\nconst getPaginationLinks = () => {\n  return document.querySelectorAll<HTMLAnchorElement>('.js-repo-team-suggestions-pagination > a')\n}\n\non('click', '.js-repo-toggle-team', async function () {\n  const teamIds = getTeamIds('.js-repo-toggle-team')\n\n  //update the url of each pagination link (next/prev) to include the set of selected team_ids\n  for (const link of getPaginationLinks()) {\n    const href = link.getAttribute('href')!\n    if (href) {\n      const url = new URL(href, window.location.origin)\n      const search = new URLSearchParams(url.search.slice(1))\n      search.delete(TEAM_IDS)\n      for (const id of teamIds) {\n        search.append(TEAM_IDS, id)\n      }\n      url.search = search.toString()\n      link.setAttribute('href', url.toString())\n    }\n  }\n\n  //and finally update the set of ids in the form's hidden input\n  const input = document.querySelector<HTMLInputElement>('[name=\"team_ids\"]')!\n  input.value = teamIds.join(',')\n})\n\nonInput('.js-synced-repo-owner-input', function (event) {\n  const input = event.target as HTMLInputElement\n  const syncName = input.getAttribute('data-sync')\n  if (!syncName) {\n    return\n  }\n\n  const syncedElements = document.querySelectorAll(`[data-sync-with=\"${syncName}\"]`)\n  for (const syncedElement of syncedElements) {\n    syncedElement.textContent = input.value\n  }\n})\n","import {controller, target} from '@github/catalyst'\nimport {announceFromElement} from '../aria-live'\n\n@controller\nclass RetentionFormElement extends HTMLElement {\n  @target group: HTMLElement\n  @target input: HTMLInputElement\n  @target button: HTMLButtonElement\n  @target minMessage: HTMLElement\n  @target maxMessage: HTMLElement\n  @target note: HTMLElement\n\n  validate() {\n    this.resetState()\n\n    if (!this.input.value) return\n\n    const value: number = +this.input.value\n    const min_string = this.input.getAttribute('data-min')\n    const max_string = this.input.getAttribute('data-max')\n\n    if (min_string && value < +min_string) {\n      this.group.classList.add('errored')\n      this.minMessage.hidden = false\n      announceFromElement(this.note)\n      return\n    }\n\n    if (max_string && value > +max_string) {\n      this.group.classList.add('errored')\n      this.maxMessage.hidden = false\n      announceFromElement(this.note)\n      return\n    }\n\n    this.button.disabled = false\n  }\n\n  resetState() {\n    this.minMessage.hidden = true\n    this.maxMessage.hidden = true\n    this.group.classList.remove('errored')\n    this.button.disabled = true\n  }\n}\n","import {on} from 'delegated-events'\nimport {requestSubmit} from '../form'\n\n// Copy selected menu item into hidden field and schedule submit on menu close.\nfunction selectItem(event: CustomEvent) {\n  const item = event.detail.relatedTarget\n  const menu = item.closest('.js-runner-bulk-menu')!\n  const input = createInput(item)\n  const form = menu.querySelector('.js-runner-bulk-form')!\n  const existing = form.querySelector(`[value='${input.value}']`)\n  if (existing) {\n    existing.replaceWith(input)\n  } else {\n    form.append(input)\n  }\n\n  menu.addEventListener('toggle', submitOnMenuClose, {once: true})\n}\n\nfunction createInput(item: Element): HTMLInputElement {\n  const selected = item.getAttribute('aria-checked') === 'true'\n\n  const input = document.createElement('input')\n  input.type = 'hidden'\n  input.name = selected ? 'add[]' : 'remove[]'\n  input.value = item.getAttribute('data-value')!\n\n  return input\n}\n\nfunction submitOnMenuClose({currentTarget}: Event) {\n  if (currentTarget instanceof Element) {\n    const form = currentTarget.querySelector<HTMLFormElement>('.js-runner-bulk-form')!\n    requestSubmit(form)\n  }\n}\n\n// Enter bulk actions mode once one item is checked.\non('change', '.js-runner-bulk-actions-toggle', function () {\n  const checked = !!document.querySelector('.js-runner-bulk-actions-toggle:checked')\n  document.querySelector<HTMLElement>('.js-runner-default-header')!.hidden = checked\n  document.querySelector<HTMLElement>('.js-runner-bulk-actions-header')!.hidden = !checked\n})\n\non('details-menu-selected', '.js-runner-bulk-menu', selectItem, {capture: true})\n","import {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\nimport {requestSubmit} from '../form'\n\n// When the user creates a new label, update the list of available labels\n//to choose from, so the user can immediately apply their new label.\nremoteForm('.js-create-runner-label-form', async function (form, wants) {\n  let response\n  const labelsMenu = form.closest<HTMLElement>('.js-runner-labels-menu')!\n  const errorContainer = labelsMenu.querySelector<HTMLElement>('.js-runner-label-error')!\n\n  try {\n    response = await wants.html()\n  } catch (error) {\n    if (error.response.json?.message && errorContainer) {\n      errorContainer.textContent = error.response.json.message\n      errorContainer.hidden = false\n    }\n\n    return\n  }\n\n  if (!response || !response.html) return\n\n  if (errorContainer) {\n    errorContainer.hidden = true\n    errorContainer.textContent = ''\n  }\n\n  const input = response.html.querySelector<HTMLInputElement>('.js-label-input')\n  const list = labelsMenu.querySelector<HTMLElement>('.js-filterable-runner-labels')!\n  list.prepend(response.html)\n\n  // Select added label. This will trigger any listeners for label selection as well\n  input?.click()\n\n  const field = labelsMenu.querySelector<HTMLInputElement>('.js-label-filter-field')!\n  field.value = ''\n  field.focus()\n})\n\nfunction submitOnMenuClose({currentTarget}: Event) {\n  if (currentTarget instanceof Element) {\n    const form = currentTarget.querySelector<HTMLFormElement>('.js-runner-labels-form')!\n    requestSubmit(form)\n  }\n}\n\n// On item selection, add listener to submit form on menu close\non(\n  'details-menu-selected',\n  '.js-runner-labels-details',\n  function (event) {\n    const menu = event.currentTarget\n    menu.addEventListener('toggle', submitOnMenuClose, {once: true})\n  },\n  {capture: true}\n)\n","import {remoteForm} from '@github/remote-form'\n\nremoteForm('.js-saved-reply-delete', async function (form, wants) {\n  await wants.text()\n\n  const container = form.closest('.js-saved-reply-container')!\n  const count = container.querySelectorAll('.js-saved-reply-list-item').length\n\n  container.classList.toggle('has-replies', count > 1)\n\n  const emptyContainer = container.querySelector<HTMLElement>('.js-saved-reply-empty-container')!\n  if (count === 1) emptyContainer.hidden = false\n\n  const item = form.closest('.js-saved-reply-list-item')!\n  item.remove()\n})\n","import {controller, target} from '@github/catalyst'\nimport {requestSubmit} from '../form'\n\n@controller\nclass AdvancedSecurityNewReposElement extends HTMLElement {\n  @target checkbox: HTMLFormElement\n  @target status: HTMLElement\n  @target dialog: HTMLDetailsElement\n  @target form: HTMLFormElement\n\n  // Handle the checkbox changing state\n  toggle() {\n    if (this.checkbox.checked) {\n      // Show the dialog if they're enabling\n      // Hide the status indicator - it may be shown from a previous submission,\n      // but we don't want to give the impression that the current selection has\n      // been submitted yet.\n      this.status.hidden = true\n      this.dialog.open = true\n    } else {\n      // For disable, just submit the form, but ensure the indicator is visible\n      this.status.hidden = false\n      requestSubmit(this.form)\n    }\n  }\n\n  // Handle the buttons in the confirmation dialog\n\n  confirm() {\n    this.status.hidden = false\n    requestSubmit(this.form)\n    this.dialog.open = false\n  }\n\n  // clear the checkbox if the dialog is closed by anything other\n  // than the confirm button (which won't fire this event)\n  close() {\n    this.checkbox.checked = false\n  }\n}\n","import type {CredentialCreationOptionsJSON, PublicKeyCredentialWithAttestationJSON} from '@github/webauthn-json'\n\nimport {create, supported} from '@github/webauthn-json'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\nimport {parseHTML} from '../parse-html'\nimport {remoteForm} from '@github/remote-form'\nimport sudo from '../sudo'\n\ninterface RegistrationResponse {\n  nickname?: string\n  webauthn_register_request?: JSON\n  registration?: string\n  error?: string\n}\n\n/******* Reading/writing registration form data ********/\n\nfunction u2fForm(): HTMLFormElement | null {\n  return document.querySelector<HTMLFormElement>('.js-add-u2f-registration-form')\n}\n\nconst registerRequestDataAttribute = 'data-webauthn-register-request'\n\nfunction updateDataAttribute(data: RegistrationResponse): void {\n  if (data.webauthn_register_request) {\n    u2fForm()?.setAttribute(registerRequestDataAttribute, JSON.stringify(data.webauthn_register_request))\n  }\n}\n\n/******* DOM listeners ********/\n\nremoteForm('.js-u2f-registration-delete', async function (form, wants) {\n  const registration = form.closest<HTMLElement>('.js-u2f-registration')!\n  // Trigger a spinner while deleting a U2F device\n  registration.classList.add('is-sending')\n\n  const response = await wants.json()\n\n  // Remove the U2F registration from the list once deleted\n  updateDataAttribute(response.json)\n  registration.remove()\n})\n\n// Reveal the form the input when 'register a new device' is clicked\non('click', '.js-add-u2f-registration-link', function () {\n  const newDeviceBox = document.querySelector<HTMLElement>('.js-new-u2f-registration')!\n  newDeviceBox.classList.add('is-active')\n  newDeviceBox.classList.remove('is-showing-error')\n  const nickname = document.querySelector<HTMLInputElement>('.js-u2f-registration-nickname-field')!\n  nickname.focus()\n})\n\n/******* Error Handling ********/\n\n// Reveal the error message with optional custom text content.\nfunction showError(text?: string) {\n  const newDeviceBox = document.querySelector<HTMLElement>('.js-new-u2f-registration')!\n  newDeviceBox.classList.add('is-showing-error')\n  newDeviceBox.classList.remove('is-sending')\n\n  for (const el of newDeviceBox.querySelectorAll<HTMLElement>('.js-webauthn-message')) {\n    el.hidden = true\n  }\n\n  const error_container = newDeviceBox.querySelector<HTMLElement>('.js-webauthn-registration-error')!\n  const error_message = newDeviceBox.querySelector<HTMLElement>('.js-webauthn-registration-error-message')!\n\n  if (text) {\n    error_message.textContent = text\n  } else {\n    error_message.textContent = ''\n  }\n\n  error_container.hidden = false\n}\n\n/******* Registration ********/\n\nfunction resetForm() {\n  const newDeviceBox = document.querySelector<HTMLElement>('.js-new-u2f-registration')!\n  newDeviceBox.classList.remove('is-sending', 'is-active')\n}\n\n// Persist the client's registration response on the server.\nasync function saveRegistration(registerResponseJSON: PublicKeyCredentialWithAttestationJSON): Promise<void> {\n  const sudoPassed = await sudo()\n  if (!sudoPassed) {\n    throw new Error('sudo failed')\n  }\n\n  const form = document.querySelector<HTMLFormElement>('.js-add-u2f-registration-form')!\n\n  ;(form.elements.namedItem('response') as HTMLInputElement).value = JSON.stringify(registerResponseJSON)\n\n  let response\n  try {\n    response = await fetch(form.action, {\n      method: form.method,\n      body: new FormData(form),\n      headers: {accept: 'application/json', 'X-Requested-With': 'XMLHttpRequest'}\n    })\n    if (!response.ok) {\n      throw new Error('Response was not ok')\n    }\n    const data: RegistrationResponse = await response.json()\n    updateDataAttribute(data)\n    resetForm()\n    const htmlString = data.registration\n    if (htmlString) {\n      const registrations = <HTMLElement>document.querySelector('.js-u2f-registrations')\n      if (registrations) {\n        // Security key\n        registrations.append(parseHTML(document, htmlString))\n      } else {\n        // Trusted device\n        document.querySelector<HTMLInputElement>('.js-u2f-registration-nickname-field')!.value = data.nickname || ''\n        document.querySelector<HTMLDivElement>('.js-new-u2f-registration-success')!.hidden = false\n        document.querySelector<HTMLDivElement>('.js-new-u2f-registration')!.hidden = true\n        document.querySelector<HTMLDivElement>('.js-new-u2f-registration-alternative')!.hidden = true\n        document.querySelector<HTMLButtonElement>('.js-trusted-device-continue')!.focus()\n      }\n    }\n  } catch {\n    if (response) {\n      const errorResponse: RegistrationResponse = await response.json()\n      updateDataAttribute(errorResponse)\n      showError(errorResponse.error)\n    } else {\n      showError()\n    }\n  }\n}\n\nfunction showSpinner() {\n  const newDeviceBox = document.querySelector<HTMLElement>('.js-new-u2f-registration')!\n  newDeviceBox.classList.add('is-sending')\n  newDeviceBox.classList.remove('is-showing-error')\n}\n\n// Ask the device to register itself when the user taps its button.\nasync function waitForWebauthnDevice(): Promise<void> {\n  try {\n    showSpinner()\n\n    const registerRequestJSON: CredentialCreationOptionsJSON = JSON.parse(\n      u2fForm()!.getAttribute(registerRequestDataAttribute)!\n    )\n    const registerResponse = await create(registerRequestJSON)\n    await saveRegistration(registerResponse)\n  } catch (error) {\n    showError()\n    throw error\n  }\n}\n\nfunction attemptSecurityKeyRegistration(): void {\n  waitForWebauthnDevice()\n}\n\non('click', '.js-add-u2f-registration-retry', function () {\n  attemptSecurityKeyRegistration()\n})\n\n// Reveal the trusted device registration form.\nobserve('.js-add-u2f-registration-form.for-trusted-device', {\n  constructor: HTMLFormElement,\n  add(el) {\n    el.hidden = false\n    const registerButton = document.querySelector<HTMLInputElement>('.js-trusted-device-registration-button')!\n    registerButton.focus()\n  }\n})\n\n// Handle the creation of a new registration.\non('submit', '.js-add-u2f-registration-form', function (event) {\n  event.preventDefault()\n  attemptSecurityKeyRegistration()\n})\n\nobserve('.js-webauthn-box', function (el) {\n  // Remove the 'unsupported' message.\n  el.classList.toggle('available', supported())\n})\n\non('auto-check-success', '.js-u2f-registration-nickname-field', function () {\n  const continueButton = document.querySelector<HTMLInputElement>('.js-trusted-device-continue')!\n  continueButton.disabled = false\n})\n\non('auto-check-send', '.js-u2f-registration-nickname-field', function () {\n  const continueButton = document.querySelector<HTMLInputElement>('.js-trusted-device-continue')!\n  continueButton.disabled = true\n})\n","import {controller, target, targets} from '@github/catalyst'\nimport IncludeFragmentElement from '@github/include-fragment-element'\n\n@controller\nclass SelectedItemListElement extends HTMLElement {\n  @target selectedCount: HTMLElement\n  @target pluralItemsDescription: HTMLElement\n  @target singularItemDescription: HTMLElement\n  @target description: HTMLElement\n  @targets items: HTMLInputElement[]\n  @target includeFragment: IncludeFragmentElement\n\n  connectedCallback() {\n    this.includeFragment.addEventListener('include-fragment-replaced', () => {\n      this.updateCount()\n    })\n  }\n\n  get count(): number {\n    return this.items.filter(item => item.checked).length\n  }\n\n  updateCount() {\n    const count = this.count\n    this.selectedCount.textContent = String(count)\n\n    this.description.hidden = count <= 0\n    this.pluralItemsDescription.hidden = count === 1\n    this.singularItemDescription.hidden = count !== 1\n  }\n\n  hideDescription() {\n    this.description.hidden = true\n  }\n\n  showDescription() {\n    const count = this.count\n    this.description.hidden = count <= 0\n  }\n}\n","import {controller, target, targets} from '@github/catalyst'\nimport {animate} from '../animate'\nimport {requestSubmit} from '../form'\n\nconst themePageCount = 6\n\n@controller\nclass ThemePickerElement extends HTMLElement {\n  @target pagePreview: HTMLElement\n  @target spinner: HTMLElement\n  @target fullPicker: HTMLElement\n  @target miniPicker: HTMLElement\n  @target themeName: HTMLElement\n  @target scrollBackwardsLink: HTMLButtonElement\n  @target scrollForwardsLink: HTMLButtonElement\n  @target themeLinksContainer: HTMLElement\n\n  @targets themeLinks: HTMLAnchorElement[]\n\n  // Optional Elements\n  @target themeSlugInput: HTMLInputElement | undefined\n  @target editForm: HTMLFormElement | undefined\n  @target publishForm: HTMLFormElement | undefined\n  @target publishThemeSlugInput: HTMLInputElement | undefined\n  @target previewForm: HTMLFormElement | undefined\n\n  scrolledPage = 0\n  selectedTheme?: HTMLAnchorElement\n\n  connectedCallback() {\n    this.theme(this.themeLinks.find(e => e.classList.contains('selected')) || this.themeLinks[0])\n    this.updateScrollLinks()\n  }\n\n  hideSpinner() {\n    this.spinner.hidden = true\n  }\n\n  onThemeLinkClick(e: Event) {\n    this.theme(e.currentTarget as HTMLAnchorElement)\n    e.preventDefault()\n  }\n\n  toggleFullPicker(event: Event) {\n    const currentTarget = event.currentTarget as Element\n    this.fullPicker.hidden = !this.fullPicker.hidden\n    this.miniPicker.hidden = !this.fullPicker.hidden\n    this.scrollToTheme(this.theme(), false)\n    currentTarget.classList.toggle('open')\n  }\n\n  onEditClick(e: Event) {\n    if (this.editForm) requestSubmit(this.editForm)\n    e.preventDefault()\n  }\n\n  onPublishClick(e: Event) {\n    if (this.publishThemeSlugInput) {\n      this.publishThemeSlugInput.value = this.theme()?.getAttribute('data-theme-slug') || ''\n    }\n    if (this.publishForm) requestSubmit(this.publishForm)\n    e.preventDefault()\n  }\n\n  prevPage() {\n    this.scrollToTheme(this.themeLinks[0])\n    this.updateScrollLinks()\n  }\n\n  nextPage() {\n    this.scrollToTheme(this.themeLinks[themePageCount])\n    this.updateScrollLinks()\n  }\n\n  updateScrollLinks() {\n    const initial = this.scrolledPage === 0\n\n    this.scrollBackwardsLink.disabled = initial\n    this.scrollBackwardsLink.classList.toggle('disabled', initial)\n    this.scrollForwardsLink.disabled = !initial\n    this.scrollForwardsLink.classList.toggle('disabled', !initial)\n  }\n\n  selectedThemeIndex(): number {\n    return this.themeLinks.indexOf(this.selectedTheme!)\n  }\n\n  prevTheme(event: Event) {\n    let index = (this.selectedThemeIndex() - 1) % this.themeLinks.length\n    if (index < 0) {\n      index += this.themeLinks.length\n    }\n    this.theme(this.themeLinks[index])\n    event.preventDefault()\n  }\n\n  nextTheme(event: Event) {\n    this.theme(this.themeLinks[(this.selectedThemeIndex() + 1) % this.themeLinks.length])\n    event.preventDefault()\n  }\n\n  scrollToTheme(theme: HTMLAnchorElement | undefined, animated = true) {\n    this.scrolledPage = Math.floor(this.themeLinks.indexOf(theme!) / themePageCount)\n    let destination = 0\n    if (this.scrolledPage > 0) {\n      const link = this.themeLinks[this.scrolledPage * themePageCount]\n      destination = link.offsetLeft\n    }\n\n    const container = this.themeLinksContainer\n    const distance = destination - container.scrollLeft\n    if (animated && distance !== 0) {\n      const duration = 150\n      animate(delta => {\n        if (delta < 0) return\n        const before = container.scrollLeft\n        container.scrollLeft = Math[destination - before > 0 ? 'min' : 'max'](\n          before + distance * (delta / duration),\n          destination\n        )\n        const after = container.scrollLeft\n        if (before === after) return false\n      })\n    } else {\n      container.scrollLeft = destination\n    }\n  }\n\n  theme(theme?: HTMLAnchorElement): HTMLAnchorElement | undefined {\n    if (theme) {\n      this.selectedTheme = theme\n      this.showPreviewFor(theme)\n      for (const themeLink of this.themeLinks) {\n        themeLink.classList.remove('selected')\n      }\n      theme.classList.add('selected')\n      this.scrollToTheme(theme)\n      this.themeName.textContent = theme.getAttribute('data-theme-name')\n    } else {\n      return this.selectedTheme\n    }\n  }\n\n  private showPreviewFor(theme: HTMLAnchorElement) {\n    this.spinner.hidden = false\n    if (theme.getAttribute('data-theme-gem')) {\n      this.pagePreview.setAttribute('src', theme.href) // Jekyll themes only.\n    } else {\n      if (this.themeSlugInput) this.themeSlugInput.value = this.theme()?.getAttribute('data-theme-slug') || ''\n      if (this.previewForm) requestSubmit(this.previewForm)\n    }\n  }\n}\n","// Execute callback inside animation frame.\nexport function animate(render: (number: number) => void | false): Promise<void> {\n  return new Promise(resolve => {\n    let lastFrame = performance.now()\n    function tick() {\n      window.requestAnimationFrame(now => {\n        if (render(now - lastFrame) !== false) {\n          lastFrame = now\n          tick()\n        } else {\n          resolve()\n        }\n      })\n    }\n    tick()\n  })\n}\n","import type AutocompleteElement from '@github/auto-complete-element'\nimport {observe} from 'selector-observer'\nimport {on} from 'delegated-events'\n\n// Reset user selecting autocompleter, avoiding submission of partial matches.\nfunction resetUserAddForm(form: Element, enabled: boolean) {\n  const submit = form.querySelector<HTMLButtonElement>('.js-add-new-user')!\n  submit.disabled = !enabled\n}\n\n// Ensure user selecting submit button is disabled on page load (including via pjax)\nobserve('.js-add-user-form', function (form) {\n  resetUserAddForm(form, false)\n})\n\non('auto-complete-change', '.js-add-user-completer', function ({target: completer}) {\n  const autocompleter = completer as AutocompleteElement\n  const form = autocompleter.closest<HTMLElement>('.js-add-user-form')!\n  resetUserAddForm(form, !!autocompleter.value)\n\n  const designatedUser = document.querySelector('.js-designated-user')\n  if (designatedUser) {\n    if (autocompleter.value) {\n      designatedUser.textContent = `@${autocompleter.value}`\n    } else {\n      designatedUser.textContent = designatedUser.getAttribute('data-autocomplete-text')\n    }\n  }\n})\n\nexport {resetUserAddForm}\n","import {TemplateInstance} from '@github/template-parts'\nimport {on} from 'delegated-events'\nimport {parseHTML} from '../parse-html'\nimport {remoteForm} from '@github/remote-form'\n\nremoteForm('.js-verify-ssh-key', async function (form, wants) {\n  await wants.html()\n\n  const parent = form.closest<HTMLElement>('li')!\n  parent.querySelector<HTMLElement>('.js-unverified-user-key-notice')!.remove()\n  parent.querySelector<HTMLElement>('.js-user-key-icon')!.classList.remove('color-text-danger')\n\n  form.remove()\n})\n\n// Leave a collaborated repository\nremoteForm('.js-leave-collaborated-repo', async function (form, wants) {\n  await wants.html()\n  const id = form.getAttribute('data-repo-id')!\n  const ownerLogin = form.getAttribute('data-owner-login')!\n  document.querySelector<HTMLElement>(`.js-collab-repo[data-repo-id='${id}']`)!.remove()\n  if (!document.querySelector('.js-collab-repo')) {\n    document.querySelector<HTMLElement>('.js-collaborated-repos-empty')!.hidden = false\n    document.querySelector<HTMLElement>('.js-collaborated-repos')!.hidden = true\n  }\n\n  const ownerRepos = document.querySelector(`.js-collab-repo-owner[data-owner-login='${ownerLogin}']`)\n  if (ownerRepos) {\n    if (!ownerRepos.querySelector('.js-collab-repo')) {\n      ownerRepos.remove()\n    }\n  }\n})\n\non('submit', '.js-codespaces-user-settings-form', async event => {\n  const form = event.currentTarget as HTMLFormElement\n  event.preventDefault()\n  const response = await fetch(form.action, {\n    method: form.method,\n    body: new FormData(form),\n    headers: {Accept: 'text/fragment+html'}\n  })\n\n  // Show an error message (if request fails)\n  if (response.status >= 400) {\n    // eslint-disable-next-line i18n-text/no-en\n    const message = 'An unknown error occurred.'\n    const template = document.querySelector<HTMLTemplateElement>('template.js-flash-template')!\n    template.after(new TemplateInstance(template, {className: 'flash-error', message}))\n  } else {\n    const target = <HTMLElement>form.closest('[data-replace-remote-form-target]')\n    const partial = parseHTML(document, await response.text())\n    target.replaceWith(partial)\n  }\n})\n\non('click', '.js-codespaces-user-secrets-form input[name=repo]', async event => {\n  const input = (event.currentTarget as HTMLInputElement)!\n  const form = input.closest<HTMLElement>('form')!\n  if (!form.querySelector(`[name=\"codespaces_user_secret[repository_ids][]\"][value=\"${input.value}\"]`)) {\n    // Create and insert the repository control\n    const repoName = input.closest('.select-menu-item-text')!.querySelector('[data-menu-button-contents]')!.textContent\n    if (repoName && input.value) {\n      const repoControl = createRepositoryRow(repoName, input.value)\n      form.querySelector('[data-target=\"selected-repositories.repositories\"]')!.append(repoControl)\n    }\n    // Update the count\n    updateSelectedRepositoryCount(event)\n  }\n  input.closest('details')!.removeAttribute('open')\n  event.preventDefault()\n})\n\non(\n  'change',\n  '.js-codespaces-user-secrets-form input[name=\"codespaces_user_secret[repository_ids][]\"]',\n  updateSelectedRepositoryCount\n)\n\nfunction createRepositoryRow(repositoryName: string, repositoryId: string) {\n  const repoControl = document.createElement('li')\n  repoControl.className = 'css-truncate d-flex flex-items-center width-full'\n  const checkbox = document.createElement('input')\n  checkbox.className = 'repository-item-checkbox js-repository-item-checkbox mx-2 position-absolute'\n  checkbox.type = 'checkbox'\n  checkbox.name = 'codespaces_user_secret[repository_ids][]'\n  checkbox.value = repositoryId\n  checkbox.id = `user-secret-repo-${repositoryId}`\n  checkbox.checked = true\n  repoControl.append(checkbox)\n  const label = document.createElement('label')\n  label.className = 'repository-item-name d-flex flex-items-center width-full color-text-primary py-1 pr-1 pl-5'\n  label.setAttribute('for', `user-secret-repo-${repositoryId}`)\n  label.title = repositoryName\n  label.textContent = repositoryName\n  repoControl.append(label)\n\n  return repoControl\n}\n\nfunction updateSelectedRepositoryCount(event: Event) {\n  const input = (event.currentTarget as HTMLInputElement)!\n  const form = input.closest<HTMLElement>('form')!\n  // Update the count\n  const count = form.querySelectorAll('[name=\"codespaces_user_secret[repository_ids][]\"]:checked').length\n  form.querySelector<HTMLElement>('[data-target=\"selected-repositories.plural\"]')!.hidden = count === 1\n  form.querySelector<HTMLElement>('[data-target=\"selected-repositories.singular\"]')!.hidden = count !== 1\n  form.querySelector<HTMLElement>('[data-target=\"selected-repositories.count\"]')!.textContent = String(count)\n  form.querySelector<HTMLElement>('[data-target=\"selected-repositories.active-warning\"]')!.hidden = count !== 0\n}\n\n// We're using this instead of a `pattern=` attribute on this input since using\n// a pattern doesn't support case-insensitivity\non('focusout', '.js-codespaces-user-secrets-form input[name=\"codespaces_user_secret[name]\"]', event => {\n  const field = event.currentTarget as HTMLInputElement\n  const value = field.value\n\n  const regex = new RegExp('^(?!github).+', 'i')\n  const formGroup = field.closest('div.form-group')!\n\n  if (regex.test(value)) {\n    field.setCustomValidity('')\n    formGroup.classList.remove('errored')\n  } else {\n    // This string is never surfaced to the UI\n    // eslint-disable-next-line i18n-text/no-en\n    field.setCustomValidity('Secret names cannot start with \"GITHUB\"')\n    formGroup.classList.add('errored')\n  }\n  const form = field.closest<HTMLFormElement>('form')!\n  form.dispatchEvent(new Event('change'))\n})\n\non('focusout', '.js-codespaces-user-secrets-form textarea[name=\"secret_value\"]', event => {\n  const field = event.currentTarget as HTMLInputElement\n\n  const value = field.value\n\n  const formGroup = field.closest('div.form-group')!\n  if (value.trim() === '') {\n    formGroup.classList.add('errored')\n  } else {\n    formGroup.classList.remove('errored')\n  }\n})\n","import {on} from 'delegated-events'\n\non('click', '#load-readme', function (event) {\n  const editor = document.querySelector<HTMLTextAreaElement>('#gollum-editor-body')!\n  const buffer = document.querySelector<HTMLElement>('#editor-body-buffer')!\n  const undoLink = document.querySelector<HTMLElement>('#undo-load-readme')!\n\n  const readmeText = buffer.textContent\n  const readmeName = event.currentTarget.getAttribute('data-readme-name')!\n  swapEditorAndBufferValues(editor, buffer)\n\n  if (!(event.currentTarget instanceof HTMLButtonElement)) return\n  event.currentTarget.disabled = true\n  event.currentTarget.textContent = `${readmeName} loaded`\n  /* eslint-disable-next-line github/no-d-none */\n  undoLink.classList.remove('d-none')\n\n  function hideUndoLinkIfChanged() {\n    if (editor.value !== readmeText) {\n      /* eslint-disable-next-line github/no-d-none */\n      undoLink.classList.add('d-none')\n      editor.removeEventListener('input', hideUndoLinkIfChanged)\n    }\n  }\n\n  editor.addEventListener('input', hideUndoLinkIfChanged)\n})\n\non('click', '#undo-load-readme', function (event) {\n  const editor = document.querySelector<HTMLTextAreaElement>('#gollum-editor-body')!\n  const buffer = document.querySelector<HTMLElement>('#editor-body-buffer')!\n\n  swapEditorAndBufferValues(editor, buffer)\n  const loadReadmeButton = document.querySelector<HTMLButtonElement>('#load-readme')!\n  const readmeName = loadReadmeButton.getAttribute('data-readme-name')!\n\n  loadReadmeButton.disabled = false\n  // eslint-disable-next-line i18n-text/no-en\n  loadReadmeButton.textContent = `Load ${readmeName}`\n  /* eslint-disable-next-line github/no-d-none */\n  event.currentTarget.classList.add('d-none')\n})\n\nfunction swapEditorAndBufferValues(editor: HTMLTextAreaElement, editorBodyBuffer: HTMLElement) {\n  const oldEditorVal = editor.value\n  editor.value = editorBodyBuffer.textContent || ''\n  editorBodyBuffer.textContent = oldEditorVal\n}\n","import {on} from 'delegated-events'\n\non('upload:setup', '.js-upload-repository-image', function () {\n  document.querySelector<HTMLElement>('.js-remove-repository-image-button')!.hidden = true\n})\n\non('upload:complete', '.js-upload-repository-image', function (event) {\n  const {attachment} = event.detail\n  document.querySelector<HTMLInputElement>('.js-repository-image-id')!.value = attachment.id\n  document.querySelector<HTMLElement>('.js-remove-repository-image-button')!.hidden = false\n  document.querySelector<HTMLElement>(\n    '.js-repository-image-container'\n  )!.style.backgroundImage = `url(${attachment.href})`\n})\n","import {changeValue} from '../form'\n\nimport {remoteForm} from '@github/remote-form'\nimport {resetUserAddForm} from './user-add'\n\nremoteForm('.js-remote-submit', async function (form, wants) {\n  const response = await wants.html()\n\n  const group = document.querySelector<HTMLElement>('.js-user-block-settings-list')!\n  const list = group.querySelector<HTMLElement>('.js-blocked-list')!\n  const blank = group.querySelector<HTMLElement>('.js-user-block-blank-slate')!\n\n  resetUserAddForm(form, false)\n  const input = form.querySelector<HTMLInputElement>('.js-add-blocked-user-field')!\n  changeValue(input, '')\n\n  blank.hidden = true\n  list.hidden = false\n  list.prepend(response.html)\n})\n","import {remoteForm} from '@github/remote-form'\n\nremoteForm('.js-user-sessions-revoke', async function (form, wants) {\n  await wants.text()\n\n  const container = form.closest<HTMLElement>('.js-user-sessions-container')!\n  const item = form.closest<HTMLElement>('.js-user-session')!\n  item.remove()\n\n  if (container) {\n    const count = container.querySelectorAll('.js-user-session').length\n    container.classList.toggle('has-active-sessions', count > 0)\n  }\n})\n"],"names":["on","event","item","target","form","closest","querySelector","selectedRepoInput","input","document","createElement","type","name","checked","value","createRepoInput","existing","replaceWith","append","ActionsPolicyPopoverElement","HTMLElement","[object Object]","this","popover","hidden","updateUrlParams","key","urlParams","URLSearchParams","window","location","search","set","url","URL","href","origin","toString","replaceState","getState","async","retrieveAdvancedSecurityEntities","page","container","showOnError","loadingElement","dataContainer","handleErrorState","entityList","src","getAttribute","undefined","srcURL","pathname","replace","newSrc","pager","pagerLoadingElement","removeAttribute","children","length","fetchSafeDocumentFragment","innerHTML","appendChild","__decorate","controller","detail","relatedTarget","selection","architectureMenu","os","defaultArchitecture","el","querySelectorAll","elementOS","click","capture","downloadUrl","filename","token","hash","textContent","ready","addEventListener","state","pageNumber","parseInt","get","isNaN","hrefURL","currentParams","searchParams","has","pushState","preventDefault","AppearanceFormElement","match","history","title","modeName","currentTarget","panel","modePanels","activateForm","selectedInputs","currentMode","getPreferredColorMode","userTheme","getClientTheme","changeTheme","selectedInput","dispatchEvent","Event","statusReset","theme","themeType","mode","setClientMode","setClientTheme","loading","formData","FormData","fetch","action","method","body","headers","X-Requested-With","status","saved","errored","saveMessage","classList","remove","add","targets","AppearancePreviewElement","checkActive","matchMedia","e","disc","preview","themePreviews","boxElement","activeLabel","updateLogoBackgroundColor","bgcolor","bgcolorEl","style","backgroundColor","selectedRepositories","toggleRepoVisibilityFromResults","menu","ids","Array","from","map","anyVisible","includes","noRepo","updateFormValidity","formIsValid","button","HTMLButtonElement","disabled","updateRepositoriesSelectedCopy","count","repoCountEl","submitAndUpdateForm","response","Accept","message","template","after","TemplateInstance","className","partial","parseHTML","text","replaceEndWith","separator","replacement","parts","split","join","markCallbackUrlsRequired","required","formGroups","field","setupUrlField","helpTextForRedirectOnUpdate","updateSetupUrlHint","enableFormSubmission","updatePermissionsButton","getElementById","checkedHookEventNodes","inputs","selectedResources","flatMap","resource","checkedHookEventsForResource","clearSubmittedFields","selectedList","toggleMetadataSelectionMenu","readOn","metadataReadInput","row","changeValue","addDomain","list","domain","content","cloneNode","DocumentFragment","addPath","path","setIndicator","statusIndicator","fetchKeysList","root","fragment","reload","enabledCheckedAndDisabledScopes","checkedParentScopes","scope","removeFromSelectedBy","actor","selectedBy","fetchSelectedByArray","arr","index","indexOf","splice","removeItemFromArray","setAttribute","updateDependencyGraph","addToSelectedBy","push","remoteForm","wants","noticeContainer","html","responseError","setTimeout","onInput","HTMLInputElement","color","defaultValue","checkValidity","contains","debounce","requestSubmit","saveLogoBackgroundColor","observe","pickedCountainer","result","prepend","HTMLFormElement","max","isMaxRepositoriesSelected","selectRepos","toggle","autoComplete","onKey","unsubscribeButton","options","changed","some","defaultChecked","hiddenInputId","id","hiddenInput","inputValue","formGroupsLength","formGroup","newFormGroup","currentIndex","incrementedIndex","formLabel","labelForValue","formInput","insertAdjacentElement","urlField","placeholder","redirectOnUpdateHint","permission","hookEvents","permissionContainers","hookPermissionErrors","error","readOnly","node","active","hookUrlField","hookUrlFieldContainer","toggleHookUrlRequired","noneSelected","allSelectedRepoPermissions","repoPermission","noRepoPermissionSelected","Element","parentElement","removeChild","checkTarget","link","getCheckTargetSrc","Scoped-CSRF-Token","ok","emails","anyChecked","notificationsEnabled","failuresOnlyCheckbox","label","newUrlForm","parentNode","insertBefore","nextElementSibling","wrapper","errLabel","json","keyId","scopes","checkbox","toggleScopeSubsets","parent","childScopes","updateSelectedRepositoryCount","currentPermission","repositoryAccessDialog","filter","selectedReposLabel","enableSaveSecretButton","showError","context","hideErrors","checkCollaboratorCountMessaging","collabCount","collabSelect","collabLimit","upsell","toggleHidden","els","reenableAllRoles","inpts","rInpt","toggleRoleBadge","badge","toggleMaxAllowedPushers","allowedPushers","allowedPushersLimit","allowedPushersCount","teamId","teamIdField","data","group","select","withoutAccess","handleTeamAdd","resetInviteForm","insertAdjacentHTML","entries","focus","seatsString","availableSeatsEl","hasAttribute","entry","team","handleTeamRemove","selectionBadge","itemSelectionBadge","baseRoleBadge","memberType","orgAdmin","inputSelector","roleInputs","allInputs","rI","selected","indicator","warningSelector","endsWith","option","msg","confirm","permissions","completer","autocompleter","searchValue","found","dataURL","params","slice","removeButton","constructor","addThrottledInputEventListener","req","Request","getPageSourceSubmitBtn","getPageSource","source","checkCertificateStatus","pageSourceBranch","pageSourceDir","sourceDirSelector","branchIcon","warningObject","restoreStatus","disableRestoreButton","dataStore","WeakMap","stateChangedCheckboxes","loadMoreRepositoryItems","loadMoreButton","repositorySelectionComponent","timesLoaded","fire","filterRepositoryItems","fetchItemsAsync","Promise","resolve","CustomEvent","setUpdateSelectionButtonState","enable","updateSelectionButton","String","itemsCountContainer","selectionComponent","changedSet","Set","delete","size","updateMainFormSelectedRepositoryCount","keys","TEAM_IDS","teamIds","checkboxSelector","getAll","checkboxes","cb","getTeamIds","syncName","syncedElements","syncedElement","RetentionFormElement","resetState","min_string","max_string","minMessage","announceFromElement","note","maxMessage","submitOnMenuClose","createInput","once","labelsMenu","errorContainer","emptyContainer","AdvancedSecurityNewReposElement","dialog","open","u2fForm","registerRequestDataAttribute","updateDataAttribute","webauthn_register_request","JSON","stringify","newDeviceBox","error_container","error_message","saveRegistration","registerResponseJSON","sudo","Error","elements","namedItem","accept","htmlString","registration","registrations","nickname","errorResponse","waitForWebauthnDevice","showSpinner","registerRequestJSON","parse","registerResponse","create","attemptSecurityKeyRegistration","supported","SelectedItemListElement","includeFragment","updateCount","items","selectedCount","description","pluralItemsDescription","singularItemDescription","ThemePickerElement","themeLinks","find","updateScrollLinks","spinner","fullPicker","miniPicker","scrollToTheme","editForm","publishThemeSlugInput","publishForm","initial","scrolledPage","scrollBackwardsLink","scrollForwardsLink","selectedTheme","selectedThemeIndex","animated","Math","floor","destination","offsetLeft","themeLinksContainer","distance","scrollLeft","duration","render","delta","before","lastFrame","performance","now","tick","requestAnimationFrame","showPreviewFor","themeLink","themeName","pagePreview","themeSlugInput","previewForm","resetUserAddForm","enabled","swapEditorAndBufferValues","editor","editorBodyBuffer","oldEditorVal","attachment","backgroundImage","designatedUser","blank","ownerLogin","ownerRepos","repoName","repoControl","repositoryName","repositoryId","createRepositoryRow","regex","RegExp","test","setCustomValidity","trim","buffer","undoLink","readmeText","readmeName","hideUndoLinkIfChanged","removeEventListener","loadReadmeButton"],"mappings":"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"}